!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=146)}([function(module,exports,__webpack_require__){(function(module){var require;//! moment.js
module.exports=function(){"use strict";var hookCallback,some;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||Object.prototype.toString.call(input)==="[object Array]"}function isObject(input){return input!=null&&Object.prototype.toString.call(input)==="[object Object]"}function isObjectEmpty(obj){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(obj).length===0}else{var k;for(k in obj){if(obj.hasOwnProperty(k)){return false}}return true}}function isUndefined(input){return input===void 0}function isNumber(input){return typeof input==="number"||Object.prototype.toString.call(input)==="[object Number]"}function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==="[object Date]"}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc()}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags()}return m._pf}if(Array.prototype.some){some=Array.prototype.some}else{some=function(fun){var t=Object(this);var len=t.length>>>0;for(var i=0;i<len;i++){if(i in t&&fun.call(this,t[i],i,t)){return true}}return false}}function isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);var parsedParts=some.call(flags.parsedDateParts,function(i){return i!=null});var isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.weekdayMismatch&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict){isNowValid=isNowValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(m)){m._isValid=isNowValid}else{return isNowValid}}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags)}else{getParsingFlags(m).userInvalidated=true}return m}var momentProperties=hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(!isUndefined(from._isAMomentObject)){to._isAMomentObject=from._isAMomentObject}if(!isUndefined(from._i)){to._i=from._i}if(!isUndefined(from._f)){to._f=from._f}if(!isUndefined(from._l)){to._l=from._l}if(!isUndefined(from._strict)){to._strict=from._strict}if(!isUndefined(from._tzm)){to._tzm=from._tzm}if(!isUndefined(from._isUTC)){to._isUTC=from._isUTC}if(!isUndefined(from._offset)){to._offset=from._offset}if(!isUndefined(from._pf)){to._pf=getParsingFlags(from)}if(!isUndefined(from._locale)){to._locale=from._locale}if(momentProperties.length>0){for(i=0;i<momentProperties.length;i++){prop=momentProperties[i];val=from[prop];if(!isUndefined(val)){to[prop]=val}}}return to}var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(updateInProgress===false){updateInProgress=true;hooks.updateOffset(this);updateInProgress=false}}function isMoment(obj){return obj instanceof Moment||obj!=null&&obj._isAMomentObject!=null}function absFloor(number){if(number<0){return Math.ceil(number)||0}else{return Math.floor(number)}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber)}return value}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function warn(msg){if(hooks.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(null,msg)}if(firstTime){var args=[];var arg;for(var i=0;i<arguments.length;i++){arg="";if(typeof arguments[i]==="object"){arg+="\n["+i+"] ";for(var key in arguments[0]){arg+=key+": "+arguments[0][key]+", "}arg=arg.slice(0,-2)}else{arg=arguments[i]}args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack);firstTime=false}return fn.apply(this,arguments)},fn)}var deprecations={},keys;function deprecateSimple(name,msg){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(name,msg)}if(!deprecations[name]){warn(msg);deprecations[name]=true}}function isFunction(input){return input instanceof Function||Object.prototype.toString.call(input)==="[object Function]"}function set(config){var prop,i;for(i in config){prop=config[i];if(isFunction(prop)){this[i]=prop}else{this["_"+i]=prop}}this._config=config;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var res=extend({},parentConfig),prop;for(prop in childConfig){if(hasOwnProp(childConfig,prop)){if(isObject(parentConfig[prop])&&isObject(childConfig[prop])){res[prop]={};extend(res[prop],parentConfig[prop]);extend(res[prop],childConfig[prop])}else if(childConfig[prop]!=null){res[prop]=childConfig[prop]}else{delete res[prop]}}}for(prop in parentConfig){if(hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])){res[prop]=extend({},res[prop])}}return res}function Locale(config){if(config!=null){this.set(config)}}if(hooks.suppressDeprecationWarnings=false,hooks.deprecationHandler=null,Object.keys){keys=Object.keys}else{keys=function(obj){var i,res=[];for(i in obj){if(hasOwnProp(obj,i)){res.push(i)}}return res}}var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(key,mom,now){var output=this._calendar[key]||this._calendar["sameElse"];return isFunction(output)?output.call(mom,now):output}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format}this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});return this._longDateFormat[key]}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace("%d",number)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return typeof units==="string"?aliases[units]||aliases[units.toLowerCase()]:undefined}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj){units.push({unit:u,priority:priorities[u]})}units.sort(function(a,b){return a.priority-b.priority});return units}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==="string"){func=function(){return this[callback]()}}if(token){formatTokenFunctions[token]=func}if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}}if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)}}}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="",i;for(i=0;i<length;i++){output+=isFunction(array[i])?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token))}return regexes[token](config._strict,config._locale)}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==="string"){token=[token]}if(isNumber(callback)){func=function(input,array){array[callback]=toInt(input)}}for(i=0;i<token.length;i++){tokens[token[i]]=func}}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token)}}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,true],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=input.length===2?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",true),indexOf;function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(unit,keepTime){return function(value){if(value!=null){set$1(this,unit,value);hooks.updateOffset(this,keepTime);return this}else{return get(this,unit)}}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){if(mom.isValid()&&!isNaN(value)){if(unit==="FullYear"&&isLeapYear(mom.year())&&mom.month()===1&&mom.date()===29){mom._d["set"+(mom._isUTC?"UTC":"")+unit](value,mom.month(),daysInMonth(value,mom.month()))}else{mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}}function stringGet(units){units=normalizeUnits(units);if(isFunction(this[units])){return this[units]()}return this}function stringSet(units,value){if(typeof units==="object"){units=normalizeObjectUnits(units);var prioritized=getPrioritizedUnits(units);for(var i=0;i<prioritized.length;i++){this[prioritized[i].unit](units[prioritized[i].unit])}}else{units=normalizeUnits(units);if(isFunction(this[units])){return this[units](value)}}return this}function mod(n,x){return(n%x+x)%x}if(Array.prototype.indexOf){indexOf=Array.prototype.indexOf}else{indexOf=function(o){var i;for(i=0;i<this.length;++i){if(this[i]===o){return i}}return-1}}function daysInMonth(year,month){if(isNaN(year)||isNaN(month)){return NaN}var modMonth=mod(month,12);year+=(month-modMonth)/12;return modMonth===1?isLeapYear(year)?29:28:31-modMonth%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month}else{getParsingFlags(config).invalidMonth=input}});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function localeMonths(m,format){if(!m){return isArray(this._months)?this._months:this._months["standalone"]}return isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]}var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function localeMonthsShort(m,format){if(!m){return isArray(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){mom=createUTC([2e3,i]);this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase();this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase()}}if(strict){if(format==="MMM"){ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null}}else{if(format==="MMM"){ii=indexOf.call(this._shortMonthsParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._longMonthsParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null}}}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact){return handleStrictParse.call(this,monthName,format,strict)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=createUTC([2e3,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")}if(!strict&&!this._monthsParse[i]){regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="MMMM"&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==="MMM"&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid()){return mom}if(typeof value==="string"){if(/^\d+$/.test(value)){value=toInt(value)}else{value=mom.localeData().monthsParse(value);if(!isNumber(value)){return mom}}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function getSetMonth(value){if(value!=null){setMonth(this,value);hooks.updateOffset(this,true);return this}else{return get(this,"Month")}}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}var defaultMonthsShortRegex=matchWord;function monthsShortRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!hasOwnProp(this,"_monthsShortRegex")){this._monthsShortRegex=defaultMonthsShortRegex}return this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex}}var defaultMonthsRegex=matchWord;function monthsRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!hasOwnProp(this,"_monthsRegex")){this._monthsRegex=defaultMonthsRegex}return this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex}}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;i<12;i++){mom=createUTC([2e3,i]);shortPieces.push(this.monthsShort(mom,""));longPieces.push(this.months(mom,""));mixedPieces.push(this.months(mom,""));mixedPieces.push(this.monthsShort(mom,""))}shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<12;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i])}for(i=0;i<24;i++){mixedPieces[i]=regexEscape(mixedPieces[i])}this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function createDate(y,m,d,h,M,s,ms){var date;if(y<100&&y>=0){date=new Date(y+400,m,d,h,M,s,ms);if(isFinite(date.getFullYear())){date.setFullYear(y)}}else{date=new Date(y,m,d,h,M,s,ms)}return date}function createUTCDate(y){var date;if(y<100&&y>=0){var args=Array.prototype.slice.call(arguments);args[0]=y+400;date=new Date(Date.UTC.apply(null,args));if(isFinite(date.getUTCFullYear())){date.setUTCFullYear(y)}}else{date=new Date(Date.UTC.apply(null,arguments))}return date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset,resYear,resDayOfYear;if(dayOfYear<=0){resYear=year-1;resDayOfYear=daysInYear(resYear)+dayOfYear}else if(dayOfYear>daysInYear(year)){resYear=year+1;resDayOfYear=dayOfYear-daysInYear(year)}else{resYear=year;resDayOfYear=dayOfYear}return{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;if(week<1){resYear=mom.year()-1;resWeek=week+weeksInYear(resYear,dow,doy)}else if(week>weeksInYear(mom.year(),dow,doy)){resWeek=week-weeksInYear(mom.year(),dow,doy);resYear=mom.year()+1}else{resYear=mom.year();resWeek=week}return{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")}function parseWeekday(input,locale){if(typeof input!=="string"){return input}if(!isNaN(input)){return parseInt(input,10)}input=locale.weekdaysParse(input);if(typeof input==="number"){return input}return null}function parseIsoWeekday(input,locale){if(typeof input==="string"){return locale.weekdaysParse(input)%7||7}return isNaN(input)?null:input}function shiftWeekdays(ws,n){return ws.slice(n,7).concat(ws.slice(0,n))}addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);if(weekday!=null){week.d=weekday}else{getParsingFlags(config).invalidWeekday=input}}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function localeWeekdays(m,format){var weekdays=isArray(this._weekdays)?this._weekdays:this._weekdays[m&&m!==true&&this._weekdays.isFormat.test(format)?"format":"standalone"];return m===true?shiftWeekdays(weekdays,this._week.dow):m?weekdays[m.day()]:weekdays}var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function localeWeekdaysShort(m){return m===true?shiftWeekdays(this._weekdaysShort,this._week.dow):m?this._weekdaysShort[m.day()]:this._weekdaysShort}var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function localeWeekdaysMin(m){return m===true?shiftWeekdays(this._weekdaysMin,this._week.dow):m?this._weekdaysMin[m.day()]:this._weekdaysMin}function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){mom=createUTC([2e3,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase()}}if(strict){if(format==="dddd"){ii=indexOf.call(this._weekdaysParse,llc);return ii!==-1?ii:null}else if(format==="ddd"){ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}}else{if(format==="dddd"){ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}else if(format==="ddd"){ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._minWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null}}}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact){return handleStrictParse$1.call(this,weekdayName,format,strict)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){mom=createUTC([2e3,1]).day(i);if(strict&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".","\\.?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".","\\.?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".","\\.?")+"$","i")}if(!this._weekdaysParse[i]){regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="dddd"&&this._fullWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="ddd"&&this._shortWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="dd"&&this._minWeekdaysParse[i].test(weekdayName)){return i}else if(!strict&&this._weekdaysParse[i].test(weekdayName)){return i}}}function getSetDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}}function getSetLocaleDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}if(input!=null){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}else{return this.day()||7}}var defaultWeekdaysRegex=matchWord;function weekdaysRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!hasOwnProp(this,"_weekdaysRegex")){this._weekdaysRegex=defaultWeekdaysRegex}return this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex}}var defaultWeekdaysShortRegex=matchWord;function weekdaysShortRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!hasOwnProp(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=defaultWeekdaysShortRegex}return this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var defaultWeekdaysMinRegex=matchWord;function weekdaysMinRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!hasOwnProp(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=defaultWeekdaysMinRegex}return this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[],i,mom,minp,shortp,longp;for(i=0;i<7;i++){mom=createUTC([2e3,1]).day(i);minp=this.weekdaysMin(mom,"");shortp=this.weekdaysShort(mom,"");longp=this.weekdays(mom,"");minPieces.push(minp);shortPieces.push(shortp);longPieces.push(longp);mixedPieces.push(minp);mixedPieces.push(shortp);mixedPieces.push(longp)}minPieces.sort(cmpLenRev);shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<7;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);mixedPieces[i]=regexEscape(mixedPieces[i])}this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return(input+"").toLowerCase().charAt(0)==="p"}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",true),meridiem("A",false),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=kInput===24?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));getParsingFlags(config).bigHour=true}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));getParsingFlags(config).bigHour=true}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2))});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}}var getSetHour=makeGetSet("Hours",true),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return globalLocale}function loadLocale(name){var oldLocale=null;if(!locales[name]&&typeof module!=="undefined"&&module&&module.exports){try{oldLocale=globalLocale._abbr;var aliasedRequire=require;__webpack_require__(231)("./"+name);getSetGlobalLocale(oldLocale)}catch(e){}}return locales[name]}function getSetGlobalLocale(key,values){var data;if(key){if(isUndefined(values)){data=getLocale(key)}else{data=defineLocale(key,values)}if(data){globalLocale=data}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+key+" not found. Did you forget to load it?")}}}return globalLocale._abbr}function defineLocale(name,config){if(config!==null){var locale,parentConfig=baseConfig;config.abbr=name;if(locales[name]!=null){deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");parentConfig=locales[name]._config}else if(config.parentLocale!=null){if(locales[config.parentLocale]!=null){parentConfig=locales[config.parentLocale]._config}else{locale=loadLocale(config.parentLocale);if(locale!=null){parentConfig=locale._config}else{if(!localeFamilies[config.parentLocale]){localeFamilies[config.parentLocale]=[]}localeFamilies[config.parentLocale].push({name:name,config:config});return null}}}locales[name]=new Locale(mergeConfigs(parentConfig,config));if(localeFamilies[name]){localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)})}getSetGlobalLocale(name);return locales[name]}else{delete locales[name];return null}}function updateLocale(name,config){if(null!=config){var locale,tmpLocale,parentConfig=baseConfig;null!=(tmpLocale=loadLocale(name))&&(parentConfig=tmpLocale._config),config=mergeConfigs(parentConfig,config),(locale=new Locale(config)).parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return globalLocale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)}function listLocales(){return keys(locales)}function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0)?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}if(getParsingFlags(m)._overflowWeeks&&overflow===-1){overflow=WEEK}if(getParsingFlags(m)._overflowWeekday&&overflow===-1){overflow=WEEKDAY}getParsingFlags(m).overflow=overflow}return m}function defaults(a,b,c){if(a!=null){return a}if(b!=null){return b}return c}function currentDateArray(config){var nowValue=new Date(hooks.now());if(config._useUTC){return[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]}return[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,input=[],currentDate,expectedWeekday,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear!=null){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)||config._dayOfYear===0){getParsingFlags(config)._overflowDayOfYear=true}date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);expectedWeekday=config._useUTC?config._d.getUTCDay():config._d.getDay();if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}if(config._nextDay){config._a[HOUR]=24}if(config._w&&typeof config._w.d!=="undefined"&&config._w.d!==expectedWeekday){getParsingFlags(config).weekdayMismatch=true}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);if(weekday<1||weekday>7){weekdayOverflow=true}}else{dow=config._locale._week.dow;doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year);week=defaults(w.w,curWeek.week);if(w.d!=null){weekday=w.d;if(weekday<0||weekday>6){weekdayOverflow=true}}else if(w.e!=null){weekday=w.e+dow;if(w.e<0||w.e>6){weekdayOverflow=true}}else{weekday=dow}}if(week<1||week>weeksInYear(weekYear,dow,doy)){getParsingFlags(config)._overflowWeeks=true}else if(weekdayOverflow!=null){getParsingFlags(config)._overflowWeekday=true}else{temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),allowTime,dateFormat,timeFormat,tzFormat;if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0];allowTime=isoDates[i][2]!==false;break}}if(dateFormat==null){config._isValid=false;return}if(match[3]){for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}}if(timeFormat==null){config._isValid=false;return}}if(!allowTime&&timeFormat!=null){config._isValid=false;return}if(match[4]){if(tzRegex.exec(match[4])){tzFormat="Z"}else{config._isValid=false;return}}config._f=dateFormat+(timeFormat||"")+(tzFormat||"");configFromStringAndFormat(config)}else{config._isValid=false}}var rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function extractFromRFC2822Strings(yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result=[untruncateYear(yearStr),defaultLocaleMonthsShort.indexOf(monthStr),parseInt(dayStr,10),parseInt(hourStr,10),parseInt(minuteStr,10)];if(secondStr){result.push(parseInt(secondStr,10))}return result}function untruncateYear(yearStr){var year=parseInt(yearStr,10);if(year<=49){return 2e3+year}else if(year<=999){return 1900+year}return year}function preprocessRFC2822(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(weekdayStr,parsedInput,config){if(weekdayStr){var weekdayProvided=defaultLocaleWeekdaysShort.indexOf(weekdayStr),weekdayActual=new Date(parsedInput[0],parsedInput[1],parsedInput[2]).getDay();if(weekdayProvided!==weekdayActual){getParsingFlags(config).weekdayMismatch=true;config._isValid=false;return false}}return true}var obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function calculateOffset(obsOffset,militaryOffset,numOffset){if(obsOffset){return obsOffsets[obsOffset]}else if(militaryOffset){return 0}else{var hm=parseInt(numOffset,10);var m=hm%100,h=(hm-m)/100;return h*60+m}}function configFromRFC2822(config){var match=rfc2822.exec(preprocessRFC2822(config._i));if(match){var parsedArray=extractFromRFC2822Strings(match[4],match[3],match[2],match[5],match[6],match[7]);if(!checkWeekday(match[1],parsedArray,config)){return}config._a=parsedArray;config._tzm=calculateOffset(match[8],match[9],match[10]);config._d=createUTCDate.apply(null,config._a);config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm);getParsingFlags(config).rfc2822=true}else{config._isValid=false}}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date(+matched[1]);return}configFromISO(config);if(config._isValid===false){delete config._isValid}else{return}configFromRFC2822(config);if(config._isValid===false){delete config._isValid}else{return}hooks.createFromInputFallback(config)}function configFromStringAndFormat(config){if(config._f===hooks.ISO_8601){configFromISO(config);return}if(config._f===hooks.RFC_2822){configFromRFC2822(config);return}config._a=[];getParsingFlags(config).empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false}else{getParsingFlags(config).unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token)}}getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string)}if(config._a[HOUR]<=12&&getParsingFlags(config).bigHour===true&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined}getParsingFlags(config).parsedDateParts=config._a.slice(0);getParsingFlags(config).meridiem=config._meridiem;config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}if(!isPm&&hour===12){hour=0}return hour}else{return hour}}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function configFromObject(config){if(config._d){return}var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)});configFromArray(config)}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,"d");res._nextDay=undefined}return res}function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||getLocale(config._l);if(input===null||format===undefined&&input===""){return createInvalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(isMoment(input)){return new Moment(checkOverflow(input))}else if(isDate(input)){config._d=input}else if(isArray(format)){configFromStringAndArray(config)}else if(format){configFromStringAndFormat(config)}else{configFromInput(config)}if(!isValid(config)){config._d=null}return config}function configFromInput(config){var input=config._i;if(isUndefined(input)){config._d=new Date(hooks.now())}else if(isDate(input)){config._d=new Date(input.valueOf())}else if(typeof input==="string"){configFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});configFromArray(config)}else if(isObject(input)){configFromObject(config)}else if(isNumber(input)){config._d=new Date(input)}else{hooks.createFromInputFallback(config)}}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(locale===true||locale===false){strict=locale;locale=undefined}if(isObject(input)&&isObjectEmpty(input)||isArray(input)&&input.length===0){input=undefined}c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other<this?this:other}else{return createInvalid()}}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other>this?this:other}else{return createInvalid()}});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return createLocal()}res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i]}}return res}function min(){var args;return pickBy("isBefore",[].slice.call(arguments,0))}function max(){var args;return pickBy("isAfter",[].slice.call(arguments,0))}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(m){for(var key in m){if(!(indexOf.call(ordering,key)!==-1&&(m[key]==null||!isNaN(m[key])))){return false}}var unitHasDecimal=false;for(var i=0;i<ordering.length;++i){if(m[ordering[i]]){if(unitHasDecimal){return false}if(parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])){unitHasDecimal=true}}}return true}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||normalizedInput.isoWeek||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=isDurationValid(normalizedInput);this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*1e3*60*60;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=getLocale();this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){if(number<0){return Math.round(-1*number)*-1}else{return Math.round(number)}}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign="+";if(offset<0){offset=-offset;sign="-"}return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(matches===null){return null}var chunk=matches[matches.length-1]||[];var parts=(chunk+"").match(chunkOffset)||["-",0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return minutes===0?0:parts[0]==="+"?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf();res._d.setTime(res._d.valueOf()+diff);hooks.updateOffset(res,false);return res}else{return createLocal(input).local()}}function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15}function getSetOffset(input,keepLocalTime,keepMinutes){var offset=this._offset||0,localAdjust;if(!this.isValid()){return input!=null?this:NaN}if(input!=null){if(typeof input==="string"){input=offsetFromString(matchShortOffset,input);if(input===null){return this}}else if(Math.abs(input)<16&&!keepMinutes){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this)}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){addSubtract(this,createDuration(input-offset,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;hooks.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?offset:getDateOffset(this)}}function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=="string"){input=-input}this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),"m")}}return this}function setOffsetToParsedOffset(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var tZone=offsetFromString(matchOffset,this._i);if(tZone!=null){this.utcOffset(tZone)}else{this.utcOffset(0,true)}}return this}function hasAlignedHourOffset(input){if(!this.isValid()){return false}input=input?createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted}var c={};copyConfig(c,this);c=prepareConfig(c);if(c._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:false}function isUtcOffset(){return this.isValid()?this._isUTC:false}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false}hooks.updateOffset=function(){};var aspNetRegex=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(isNumber(input)){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(match[MILLISECOND]*1e3))*sign}}else if(!!(match=isoRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}}else if(duration==null){duration={}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}return ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;if(!(base.isValid()&&other.isValid())){return{milliseconds:0,months:0}}other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");tmp=val;val=period;period=tmp}val=typeof val==="string"?+val:val;dur=createDuration(val,period);addSubtract(this,dur,direction);return this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);if(!mom.isValid()){return}updateOffset=updateOffset==null?true:updateOffset;if(months){setMonth(mom,get(mom,"Month")+months*isAdding)}if(days){set$1(mom,"Date",get(mom,"Date")+days*isAdding)}if(milliseconds){mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding)}if(updateOffset){hooks.updateOffset(mom,days||months)}}createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"}function calendar$1(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse";var output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units)||"millisecond";if(units==="millisecond"){return this.valueOf()>localInput.valueOf()}else{return localInput.valueOf()<this.clone().startOf(units).valueOf()}}function isBefore(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units)||"millisecond";if(units==="millisecond"){return this.valueOf()<localInput.valueOf()}else{return this.clone().endOf(units).valueOf()<localInput.valueOf()}}function isBetween(from,to,units,inclusivity){var localFrom=isMoment(from)?from:createLocal(from),localTo=isMoment(to)?to:createLocal(to);if(!(this.isValid()&&localFrom.isValid()&&localTo.isValid())){return false}inclusivity=inclusivity||"()";return(inclusivity[0]==="("?this.isAfter(localFrom,units):!this.isBefore(localFrom,units))&&(inclusivity[1]===")"?this.isBefore(localTo,units):!this.isAfter(localTo,units))}function isSame(input,units){var localInput=isMoment(input)?input:createLocal(input),inputMs;if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units)||"millisecond";if(units==="millisecond"){return this.valueOf()===localInput.valueOf()}else{inputMs=localInput.valueOf();return this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()}}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,output;if(!this.isValid()){return NaN}that=cloneWithOffset(input,this);if(!that.isValid()){return NaN}zoneDelta=(that.utcOffset()-this.utcOffset())*6e4;units=normalizeUnits(units);switch(units){case"year":output=monthDiff(this,that)/12;break;case"month":output=monthDiff(this,that);break;case"quarter":output=monthDiff(this,that)/3;break;case"second":output=(this-that)/1e3;break;case"minute":output=(this-that)/6e4;break;case"hour":output=(this-that)/36e5;break;case"day":output=(this-that-zoneDelta)/864e5;break;case"week":output=(this-that-zoneDelta)/6048e5;break;default:output=this-that}return asFloat?output:absFloor(output)}function monthDiff(a,b){var wholeMonthDiff=(b.year()-a.year())*12+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,"months");adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,"months");adjust=(b-anchor)/(anchor2-anchor)}return-(wholeMonthDiff+adjust)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(keepOffset){if(!this.isValid()){return null}var utc=keepOffset!==true;var m=utc?this.clone().utc():this;if(m.year()<0||m.year()>9999){return formatMoment(m,utc?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(isFunction(Date.prototype.toISOString)){if(utc){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(m,"Z"))}}return formatMoment(m,utc?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var func="moment";var zone="";if(!this.isLocal()){func=this.utcOffset()===0?"moment.utc":"moment.parseZone";zone="Z"}var prefix="["+func+'("]';var year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var datetime="-MM-DD[T]HH:mm:ss.SSS";var suffix=zone+'[")]';return this.format(prefix+year+datetime+suffix)}function format(inputString){if(!inputString){inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat}var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())){return createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function fromNow(withoutSuffix){return this.from(createLocal(),withoutSuffix)}function to(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())){return createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function toNow(withoutSuffix){return this.to(createLocal(),withoutSuffix)}function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(dividend,divisor){return(dividend%divisor+divisor)%divisor}function localStartOfDate(y,m,d){if(y<100&&y>=0){return new Date(y+400,m,d)-MS_PER_400_YEARS}else{return new Date(y,m,d).valueOf()}}function utcStartOfDate(y,m,d){if(y<100&&y>=0){return Date.UTC(y+400,m,d)-MS_PER_400_YEARS}else{return Date.UTC(y,m,d)}}function startOf(units){var time;units=normalizeUnits(units);if(units===undefined||units==="millisecond"||!this.isValid()){return this}var startOfDate=this._isUTC?utcStartOfDate:localStartOfDate;switch(units){case"year":time=startOfDate(this.year(),0,1);break;case"quarter":time=startOfDate(this.year(),this.month()-this.month()%3,1);break;case"month":time=startOfDate(this.year(),this.month(),1);break;case"week":time=startOfDate(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":time=startOfDate(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":time=startOfDate(this.year(),this.month(),this.date());break;case"hour":time=this._d.valueOf();time-=mod$1(time+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":time=this._d.valueOf();time-=mod$1(time,MS_PER_MINUTE);break;case"second":time=this._d.valueOf();time-=mod$1(time,MS_PER_SECOND);break}this._d.setTime(time);hooks.updateOffset(this,true);return this}function endOf(units){var time;units=normalizeUnits(units);if(units===undefined||units==="millisecond"||!this.isValid()){return this}var startOfDate=this._isUTC?utcStartOfDate:localStartOfDate;switch(units){case"year":time=startOfDate(this.year()+1,0,1)-1;break;case"quarter":time=startOfDate(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":time=startOfDate(this.year(),this.month()+1,1)-1;break;case"week":time=startOfDate(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":time=startOfDate(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":time=startOfDate(this.year(),this.month(),this.date()+1)-1;break;case"hour":time=this._d.valueOf();time+=MS_PER_HOUR-mod$1(time+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":time=this._d.valueOf();time+=MS_PER_MINUTE-mod$1(time,MS_PER_MINUTE)-1;break;case"second":time=this._d.valueOf();time+=MS_PER_SECOND-mod$1(time,MS_PER_SECOND)-1;break}this._d.setTime(time);hooks.updateOffset(this,true);return this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;if(input==null){return weekOfYear(this,dow,doy).year}else{weeksTarget=weeksInYear(input,dow,doy);if(week>weeksTarget){week=weeksTarget}return setWeekAll.call(this,input,week,weekday,dow,doy)}}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);this.year(date.getUTCFullYear());this.month(date.getUTCMonth());this.date(date.getUTCDate());return this}function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=(toInt(input)-1)*3}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",true);function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")}addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",false);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",false),token;for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10}),addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100}),addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";token.length<=9;token+="S"){addRegexToken(token,matchUnsigned)}function parseMs(input,array){array[MILLISECOND]=toInt(("0."+input)*1e3)}for(token="S";token.length<=9;token+="S"){addParseToken(token,parseMs)}var getSetMillisecond=makeGetSet("Milliseconds",false);function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;function createUnix(input){return createLocal(1e3*input)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}proto.add=add,proto.calendar=calendar$1,proto.clone=clone,proto.diff=diff,proto.endOf=endOf,proto.format=format,proto.from=from,proto.fromNow=fromNow,proto.to=to,proto.toNow=toNow,proto.get=stringGet,proto.invalidAt=invalidAt,proto.isAfter=isAfter,proto.isBefore=isBefore,proto.isBetween=isBetween,proto.isSame=isSame,proto.isSameOrAfter=isSameOrAfter,proto.isSameOrBefore=isSameOrBefore,proto.isValid=isValid$2,proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=parsingFlags,proto.set=stringSet,proto.startOf=startOf,proto.subtract=subtract,proto.toArray=toArray,proto.toObject=toObject,proto.toDate=toDate,proto.toISOString=toISOString,proto.inspect=inspect,proto.toJSON=toJSON,proto.toString=toString,proto.unix=unix,proto.valueOf=valueOf,proto.creationData=creationData,proto.year=getSetYear,proto.isLeapYear=getIsLeapYear,proto.weekYear=getSetWeekYear,proto.isoWeekYear=getSetISOWeekYear,proto.quarter=proto.quarters=getSetQuarter,proto.month=getSetMonth,proto.daysInMonth=getDaysInMonth,proto.week=proto.weeks=getSetWeek,proto.isoWeek=proto.isoWeeks=getSetISOWeek,proto.weeksInYear=getWeeksInYear,proto.isoWeeksInYear=getISOWeeksInYear,proto.date=getSetDayOfMonth,proto.day=proto.days=getSetDayOfWeek,proto.weekday=getSetLocaleDayOfWeek,proto.isoWeekday=getSetISODayOfWeek,proto.dayOfYear=getSetDayOfYear,proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=getSetOffset,proto.utc=setOffsetToUTC,proto.local=setOffsetToLocal,proto.parseZone=setOffsetToParsedOffset,proto.hasAlignedHourOffset=hasAlignedHourOffset,proto.isDST=isDaylightSavingTime,proto.isLocal=isLocal,proto.isUtcOffset=isUtcOffset,proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=getZoneAbbr,proto.zoneName=getZoneName,proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var proto$1=Locale.prototype;function get$1(format,index,field,setter){var locale=getLocale();var utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)){index=format;format=undefined}format=format||"";if(index!=null){return get$1(format,index,field,"month")}var i;var out=[];for(i=0;i<12;i++){out[i]=get$1(format,i,field,"month")}return out}function listWeekdaysImpl(localeSorted,format,index,field){if(typeof localeSorted==="boolean"){if(isNumber(format)){index=format;format=undefined}format=format||""}else{format=localeSorted;index=format;localeSorted=false;if(isNumber(format)){index=format;format=undefined}format=format||""}var locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(index!=null){return get$1(format,(index+shift)%7,field,"day")}var i;var out=[];for(i=0;i<7;i++){out[i]=get$1(format,(i+shift)%7,field,"day")}return out}function listMonths(format,index){return listMonthsImpl(format,index,"months")}function listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}proto$1.calendar=calendar,proto$1.longDateFormat=longDateFormat,proto$1.invalidDate=invalidDate,proto$1.ordinal=ordinal,proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=relativeTime,proto$1.pastFuture=pastFuture,proto$1.set=set,proto$1.months=localeMonths,proto$1.monthsShort=localeMonthsShort,proto$1.monthsParse=localeMonthsParse,proto$1.monthsRegex=monthsRegex,proto$1.monthsShortRegex=monthsShortRegex,proto$1.week=localeWeek,proto$1.firstDayOfYear=localeFirstDayOfYear,proto$1.firstDayOfWeek=localeFirstDayOfWeek,proto$1.weekdays=localeWeekdays,proto$1.weekdaysMin=localeWeekdaysMin,proto$1.weekdaysShort=localeWeekdaysShort,proto$1.weekdaysParse=localeWeekdaysParse,proto$1.weekdaysRegex=weekdaysRegex,proto$1.weekdaysShortRegex=weekdaysShortRegex,proto$1.weekdaysMinRegex=weekdaysMinRegex,proto$1.isPM=localeIsPM,proto$1.meridiem=localeMeridiem,getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble()}function add$1(input,value){return addSubtract$1(this,input,value,1)}function subtract$1(input,value){return addSubtract$1(this,input,value,-1)}function absCeil(number){if(number<0){return Math.floor(number)}else{return Math.ceil(number)}}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;if(!(0<=milliseconds&&0<=days&&0<=months||milliseconds<=0&&days<=0&&months<=0))milliseconds+=864e5*absCeil(monthsToDays(months)+days),months=days=0;return data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return days*4800/146097}function monthsToDays(months){return months*146097/4800}function as(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"quarter"===units||"year"===units)switch(days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),units){case"month":return months;case"quarter":return months/3;case"year":return months/12}else switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function valueOf$1(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1(){return createDuration(this)}function get$2(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN}function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime$1(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=0<+posNegDuration,a[4]=locale,function(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}.apply(null,a)}function getSetRelativeTimeRounding(roundingFunction){return void 0!==roundingFunction?"function"!=typeof roundingFunction?0:(round=roundingFunction,!0):round}function getSetRelativeTimeThreshold(threshold,limit){if(void 0===thresholds[threshold])return!1;if(void 0===limit)return thresholds[threshold];if(thresholds[threshold]=limit,"s"===threshold)thresholds.ss=limit-1;return!0}function humanize(withSuffix){if(!this.isValid())return this.localeData().invalidDate();var locale=this.localeData(),output=function(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=0<+posNegDuration,a[4]=locale,function(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}.apply(null,a)}(this,!withSuffix,locale);if(withSuffix)output=locale.pastFuture(+this,output);return locale.postformat(output)}var abs$1=Math.abs;function sign(x){return(x>0)-(x<0)||+x}function toISOString$1(){if(!this.isValid()){return this.localeData().invalidDate()}var seconds=abs$1(this._milliseconds)/1e3;var days=abs$1(this._days);var months=abs$1(this._months);var minutes,hours,years;minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;var Y=years;var M=months;var D=days;var h=hours;var m=minutes;var s=seconds?seconds.toFixed(3).replace(/\.?0+$/,""):"";var total=this.asSeconds();if(!total){return"P0D"}var totalSign=total<0?"-":"";var ymSign=sign(this._months)!==sign(total)?"-":"";var daysSign=sign(this._days)!==sign(total)?"-":"";var hmsSign=sign(this._milliseconds)!==sign(total)?"-":"";return totalSign+"P"+(Y?ymSign+Y+"Y":"")+(M?ymSign+M+"M":"")+(D?daysSign+D+"D":"")+(h||m||s?"T":"")+(h?hmsSign+h+"H":"")+(m?hmsSign+m+"M":"")+(s?hmsSign+s+"S":"")}var proto$2=Duration.prototype;return proto$2.isValid=function(){return this._isValid},proto$2.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},proto$2.add=function(input,value){return addSubtract$1(this,input,value,1)},proto$2.subtract=function(input,value){return addSubtract$1(this,input,value,-1)},proto$2.as=function(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"quarter"===units||"year"===units)switch(days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),units){case"month":return months;case"quarter":return months/3;case"year":return months/12}else switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}},proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asQuarters=asQuarters,proto$2.asYears=asYears,proto$2.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},proto$2._bubble=function(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;0<=milliseconds&&0<=days&&0<=months||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),months=days=0);return data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},proto$2.clone=function(){return createDuration(this)},proto$2.get=function(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN},proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=function(){return absFloor(this.days()/7)},proto$2.months=months,proto$2.years=years,proto$2.humanize=function(withSuffix){if(!this.isValid())return this.localeData().invalidDate();var locale=this.localeData(),output=function(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=0<+posNegDuration,a[4]=locale,function(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}.apply(null,a)}(this,!withSuffix,locale);withSuffix&&(output=locale.pastFuture(+this,output));return locale.postformat(output)},proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.24.0",function(callback){hookCallback=callback}(createLocal),hooks.fn=proto,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=function(){return Date.now?Date.now():+new Date},hooks.utc=createUTC,hooks.unix=function(input){return createLocal(1e3*input)},hooks.months=function(format,index){return listMonthsImpl(format,index,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(format,index){return listMonthsImpl(format,index,"monthsShort")},hooks.weekdaysMin=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(name,config){if(null!=config){var locale,tmpLocale,parentConfig=baseConfig;null!=(tmpLocale=loadLocale(name))&&(parentConfig=tmpLocale._config),config=mergeConfigs(parentConfig,config),(locale=new Locale(config)).parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]},hooks.locales=function(){return keys(locales)},hooks.weekdaysShort=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(roundingFunction){return void 0!==roundingFunction?"function"!=typeof roundingFunction?0:(round=roundingFunction,!0):round},hooks.relativeTimeThreshold=function(threshold,limit){if(void 0===thresholds[threshold])return!1;if(void 0===limit)return thresholds[threshold];thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1);return!0},hooks.calendarFormat=function(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"},hooks.prototype=proto,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},hooks}()}).call(this,__webpack_require__(15)(module))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;/* Riot v2.6.9, @license MIT */!function(window,undefined){"use strict";var riot={version:"v2.6.9",settings:{}},__uid=0,__virtualDom=[],__tagImpl={},GLOBAL_MIXIN="__global_mixin",RIOT_PREFIX="riot-",RIOT_TAG=RIOT_PREFIX+"tag",RIOT_TAG_IS="data-is",T_STRING="string",T_OBJECT="object",T_UNDEF="undefined",T_FUNCTION="function",XLINK_NS="http://www.w3.org/1999/xlink",XLINK_REGEX=/^xlink:(\w+)/,SPECIAL_TAGS_REGEX=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,RESERVED_WORDS_BLACKLIST=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,SVG_TAGS_LIST=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],IE_VERSION=0|(window&&window.document||{}).documentMode,FIREFOX=window&&!!window.InstallTrigger;riot.observable=function(el){el=el||{};var callbacks={},slice=Array.prototype.slice;function onEachEvent(e,fn){for(var es=e.split(" "),l=es.length,i=0;i<l;i++){var name=es[i];name&&fn(name,i)}}return Object.defineProperties(el,{on:{value:function(events,fn){return"function"!=typeof fn||onEachEvent(events,function(name,pos){(callbacks[name]=callbacks[name]||[]).push(fn),fn.typed=0<pos}),el},enumerable:!1,writable:!1,configurable:!1},off:{value:function(events,fn){return"*"!=events||fn?onEachEvent(events,function(name,pos){if(fn)for(var cb,arr=callbacks[name],i=0;cb=arr&&arr[i];++i)cb==fn&&arr.splice(i--,1);else delete callbacks[name]}):callbacks={},el},enumerable:!1,writable:!1,configurable:!1},one:{value:function(events,fn){return el.on(events,function on(){el.off(events,on),fn.apply(el,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(events){for(var fns,arglen=arguments.length-1,args=new Array(arglen),i=0;i<arglen;i++)args[i]=arguments[i+1];return onEachEvent(events,function(name,pos){fns=slice.call(callbacks[name]||[],0);for(var fn,i=0;fn=fns[i];++i)fn.busy||(fn.busy=1,fn.apply(el,fn.typed?[name].concat(args):args),fns[i]!==fn&&i--,fn.busy=0);callbacks["*"]&&"*"!=name&&el.trigger.apply(el,["*",name].concat(args))}),el},enumerable:!1,writable:!1,configurable:!1}}),el},function(riot){var debouncedEmit,base,current,parser,secondParser,RE_ORIGIN=/^.+?\/\/+[^\/]+/,HAS_ATTRIBUTE="hasAttribute",REPLACE="replace",TRIGGER="trigger",MAX_EMIT_STACK_LEVEL=3,win=void 0!==window&&window,doc="undefined"!=typeof document&&document,hist=win&&history,loc=win&&(hist.location||win.location),prot=Router.prototype,clickEvent=doc&&doc.ontouchstart?"touchstart":"click",started=!1,central=riot.observable(),routeFound=!1,emitStack=[],emitStackLevel=0;function DEFAULT_PARSER(path){return path.split(/[/?#]/)}function DEFAULT_SECOND_PARSER(path,filter){var re=new RegExp("^"+filter[REPLACE](/\*/g,"([^/?#]+?)")[REPLACE](/\.\./,".*")+"$"),args=path.match(re);if(args)return args.slice(1)}function start(autoExec){debouncedEmit=function(fn,delay){var t;return function(){clearTimeout(t),t=setTimeout(fn,delay)}}(emit,1),win.addEventListener("popstate",debouncedEmit),win.addEventListener("hashchange",debouncedEmit),doc.addEventListener(clickEvent,click),autoExec&&emit(!0)}function Router(){this.$=[],riot.observable(this),central.on("stop",this.s.bind(this)),central.on("emit",this.e.bind(this))}function normalize(path){return path[REPLACE](/^\/|\/$/,"")}function isString(str){return"string"==typeof str}function getPathFromRoot(href){return(href||loc.href)[REPLACE](RE_ORIGIN,"")}function getPathFromBase(href){return"#"==base[0]?(href||loc.href||"").split(base)[1]||"":(loc?getPathFromRoot(href):href||"")[REPLACE](base,"")}function emit(force){var first,isRoot=0==emitStackLevel;if(!(MAX_EMIT_STACK_LEVEL<=emitStackLevel)&&(emitStackLevel++,emitStack.push(function(){var path=getPathFromBase();!force&&path==current||(central[TRIGGER]("emit",path),current=path)}),isRoot)){for(;first=emitStack.shift();)first();emitStackLevel=0}}function click(e){if(!(1!=e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var el=e.target;el&&"A"!=el.nodeName;)el=el.parentNode;!el||"A"!=el.nodeName||el[HAS_ATTRIBUTE]("download")||!el[HAS_ATTRIBUTE]("href")||el.target&&"_self"!=el.target||-1==el.href.indexOf(loc.href.match(RE_ORIGIN)[0])||el.href!=loc.href&&(el.href.split("#")[0]==loc.href.split("#")[0]||"#"!=base[0]&&0!==getPathFromRoot(el.href).indexOf(base)||"#"==base[0]&&el.href.split(base)[0]!=loc.href.split(base)[0]||!go(getPathFromBase(el.href),el.title||doc.title))||e.preventDefault()}}function go(path,title,shouldReplace){return hist?(path=base+normalize(path),title=title||doc.title,shouldReplace?hist.replaceState(null,title,path):hist.pushState(null,title,path),doc.title=title,routeFound=!1,emit(),routeFound):central[TRIGGER]("emit",getPathFromBase(path))}prot.m=function(first,second,third){!isString(first)||second&&!isString(second)?second?this.r(first,second):this.r("@",first):go(first,second,third||!1)},prot.s=function(){this.off("*"),this.$=[]},prot.e=function(path){this.$.concat("@").some(function(filter){var args=("@"==filter?parser:secondParser)(normalize(path),normalize(filter));if(void 0!==args)return this[TRIGGER].apply(null,[filter].concat(args)),routeFound=!0},this)},prot.r=function(filter,action){"@"!=filter&&(filter="/"+normalize(filter),this.$.push(filter)),this.on(filter,action)};var mainRouter=new Router,route=mainRouter.m.bind(mainRouter);route.create=function(){var newSubRouter=new Router,router=newSubRouter.m.bind(newSubRouter);return router.stop=newSubRouter.s.bind(newSubRouter),router},route.base=function(arg){base=arg||"#",current=getPathFromBase()},route.exec=function(){emit(!0)},route.parser=function(fn,fn2){fn||fn2||(parser=DEFAULT_PARSER,secondParser=DEFAULT_SECOND_PARSER),fn&&(parser=fn),fn2&&(secondParser=fn2)},route.query=function(){var q={};return(loc.href||current)[REPLACE](/[?&](.+?)=([^&]*)/g,function(_,k,v){q[k]=v}),q},route.stop=function(){started&&(win&&(win.removeEventListener("popstate",debouncedEmit),win.removeEventListener("hashchange",debouncedEmit),doc.removeEventListener(clickEvent,click)),central[TRIGGER]("stop"),started=!1)},route.start=function(autoExec){started||(win&&("complete"==document.readyState?start(autoExec):win.addEventListener("load",function(){setTimeout(function(){start(autoExec)},1)})),started=!0)},route.base(),route.parser(),riot.route=route}(riot);var _regex,_settings,REGLOB,R_STRINGS,S_QBLOCKS,UNSUPPORTED,NEED_ESCAPE,FINDBRACES,DEFAULT,_pairs,cachedBrackets,_cache,brackets=(REGLOB="g",S_QBLOCKS=(R_STRINGS=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g).source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,UNSUPPORTED=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),NEED_ESCAPE=/(?=[[\]()*+?.^$|])/g,FINDBRACES={"(":RegExp("([()])|"+S_QBLOCKS,REGLOB),"[":RegExp("([[\\]])|"+S_QBLOCKS,REGLOB),"{":RegExp("([{}])|"+S_QBLOCKS,REGLOB)},DEFAULT="{ }",_pairs=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+S_QBLOCKS,REGLOB),DEFAULT,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],cachedBrackets=void 0,_cache=[],_brackets.split=function(str,tmpl,_bp){var match,isexpr,start,pos,parts=[],re=(_bp=_bp||_cache)[6];for(isexpr=start=re.lastIndex=0;match=re.exec(str);){if(pos=match.index,isexpr){if(match[2]){re.lastIndex=skipBraces(str,match[2],re.lastIndex);continue}if(!match[3])continue}match[1]||(unescapeStr(str.slice(start,pos)),start=re.lastIndex,(re=_bp[6+(isexpr^=1)]).lastIndex=start)}return str&&start<str.length&&unescapeStr(str.slice(start)),parts;function unescapeStr(s){tmpl||isexpr?parts.push(s&&s.replace(_bp[5],"$1")):parts.push(s)}function skipBraces(s,ch,ix){var match,recch=FINDBRACES[ch];for(recch.lastIndex=ix,ix=1;(match=recch.exec(s))&&(!match[1]||(match[1]===ch?++ix:--ix)););return ix?s.length:recch.lastIndex}},_brackets.hasExpr=function(str){return _cache[4].test(str)},_brackets.loopKeys=function(expr){var m=expr.match(_cache[9]);return m?{key:m[1],pos:m[2],val:_cache[0]+m[3].trim()+_cache[1]}:{val:expr.trim()}},_brackets.array=function(pair){return pair?_create(pair):_cache},Object.defineProperty(_brackets,"settings",{set:function(o){var b;b=(o=o||{}).brackets,Object.defineProperty(o,"brackets",{set:_reset,get:function(){return cachedBrackets},enumerable:!0}),_settings=o,_reset(b)},get:function(){return _settings}}),_brackets.settings=void 0!==riot&&riot.settings||{},_brackets.set=_reset,_brackets.R_STRINGS=R_STRINGS,_brackets.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,_brackets.S_QBLOCKS=S_QBLOCKS,_brackets);function _loopback(re){return re}function _rewrite(re,bp){return bp=bp||_cache,new RegExp(re.source.replace(/{/g,bp[2]).replace(/}/g,bp[3]),re.global?REGLOB:"")}function _create(pair){if(pair===DEFAULT)return _pairs;var arr=pair.split(" ");if(2!==arr.length||UNSUPPORTED.test(pair))throw new Error('Unsupported brackets "'+pair+'"');return(arr=arr.concat(pair.replace(NEED_ESCAPE,"\\").split(" ")))[4]=_rewrite(1<arr[1].length?/{[\S\s]*?}/:_pairs[4],arr),arr[5]=_rewrite(3<pair.length?/\\({|})/g:_pairs[5],arr),arr[6]=_rewrite(_pairs[6],arr),arr[7]=RegExp("\\\\("+arr[3]+")|([[({])|("+arr[3]+")|"+S_QBLOCKS,REGLOB),arr[8]=pair,arr}function _brackets(reOrIdx){return reOrIdx instanceof RegExp?_regex(reOrIdx):_cache[reOrIdx]}function _reset(pair){(pair=pair||DEFAULT)!==_cache[8]&&(_cache=_create(pair),_regex=pair===DEFAULT?_loopback:_rewrite,_cache[9]=_regex(_pairs[9])),cachedBrackets=pair}var reHasYield,reYieldAll,reYieldSrc,reYieldDest,rootEls,tblTags,tmpl=function(){var _cache={};function _tmpl(str,data){return str?(_cache[str]||(_cache[str]=function(str){var expr=function(str){var expr,qstr=[],parts=brackets.split(str.replace(RE_DQUOTE,'"'),1);if(2<parts.length||parts[0]){var i,j,list=[];for(i=j=0;i<parts.length;++i)(expr=(expr=parts[i])&&(1&i?_parseExpr(expr,1,qstr):'"'+expr.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"'))&&(list[j++]=expr);expr=j<2?list[0]:"["+list.join(",")+'].join("")'}else expr=_parseExpr(parts[1],0,qstr);qstr[0]&&(expr=expr.replace(RE_QBMARK,function(_,pos){return qstr[pos].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return expr}(str);"try{return "!==expr.slice(0,11)&&(expr="return "+expr);return new Function("E",expr+";")}(str))).call(data,_logErr):str}function _logErr(err,ctx){_tmpl.errorHandler&&(err.riotData={tagName:ctx&&ctx.root&&ctx.root.tagName,_riot_id:ctx&&ctx._riot_id},_tmpl.errorHandler(err))}_tmpl.haveRaw=brackets.hasRaw,_tmpl.hasExpr=brackets.hasExpr,_tmpl.loopKeys=brackets.loopKeys,_tmpl.clearCache=function(){_cache={}},_tmpl.errorHandler=null;var CH_IDEXPR=String.fromCharCode(8279),RE_CSNAME=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,RE_QBLOCK=RegExp(brackets.S_QBLOCKS,"g"),RE_DQUOTE=/\u2057/g,RE_QBMARK=/\u2057(\d+)~/g;var RE_BREND={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function _parseExpr(expr,asText,qstr){if(expr=expr.replace(RE_QBLOCK,function(s,div){return 2<s.length&&!div?CH_IDEXPR+(qstr.push(s)-1)+"~":s}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var match,list=[],cnt=0;expr&&(match=expr.match(RE_CSNAME))&&!match.index;){var key,jsb,re=/,|([[{(])|$/g;for(expr=RegExp.rightContext,key=match[2]?qstr[match[2]].slice(1,-1).trim().replace(/\s+/g," "):match[1];jsb=(match=re.exec(expr))[1];)skipBraces(jsb,re);jsb=expr.slice(0,match.index),expr=RegExp.rightContext,list[cnt++]=_wrapExpr(jsb,1,key)}expr=cnt?1<cnt?"["+list.join(",")+'].join(" ").trim()':list[0]:_wrapExpr(expr,asText)}return expr;function skipBraces(ch,re){var mm,lv=1,ir=RE_BREND[ch];for(ir.lastIndex=re.lastIndex;mm=ir.exec(expr);)if(mm[0]===ch)++lv;else if(!--lv)break;re.lastIndex=lv?expr.length:ir.lastIndex}}var JS_CONTEXT='"in this?this:'+("object"!=typeof window?"global":"window")+").",JS_VARNAME=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,JS_NOPROPS=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function _wrapExpr(expr,asText,key){var tb;return expr=expr.replace(JS_VARNAME,function(match,p,mvar,pos,s){return mvar&&(pos=tb?0:pos+match.length,"this"!==mvar&&"global"!==mvar&&"window"!==mvar?(match=p+'("'+mvar+JS_CONTEXT+mvar,pos&&(tb="."===(s=s[pos])||"("===s||"["===s)):pos&&(tb=!JS_NOPROPS.test(s.slice(pos)))),match}),tb&&(expr="try{return "+expr+"}catch(e){E(e,this)}"),key?expr=(tb?"function(){"+expr+"}.call(this)":"("+expr+")")+'?"'+key+'":""':asText&&(expr="function(v){"+(tb?expr.replace("return ","v="):"v=("+expr+")")+';return v||v===0?v:""}.call(this)'),expr}return _tmpl.version=brackets.version="v2.4.2",_tmpl}(),mkdom=(reHasYield=/<yield\b/i,reYieldAll=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,reYieldSrc=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,reYieldDest=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,rootEls={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},tblTags=IE_VERSION&&IE_VERSION<10?SPECIAL_TAGS_REGEX:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,_mkdom);function _mkdom(templ,html,checkSvg){var match=templ&&templ.match(/^\s*<([-\w]+)/),tagName=match&&match[1].toLowerCase(),el=mkEl("div",checkSvg&&function(name){return~SVG_TAGS_LIST.indexOf(name)}(tagName));return templ=function(templ,html){if(!reHasYield.test(templ))return templ;var src={};return html=html&&html.replace(reYieldSrc,function(_,ref,text){return src[ref]=src[ref]||text,""}).trim(),templ.replace(reYieldDest,function(_,ref,def){return src[ref]||def||""}).replace(reYieldAll,function(_,def){return html||def||""})}(templ,html),tblTags.test(tagName)?el=function(el,templ,tagName){var select="o"===tagName[0],parent=select?"select>":"table>";if(el.innerHTML="<"+parent+templ.trim()+"</"+parent,parent=el.firstChild,select)parent.selectedIndex=-1;else{var tname=rootEls[tagName];tname&&1===parent.childElementCount&&(parent=$(tname,parent))}return parent}(el,templ,tagName):function(container,html){if(typeof container.innerHTML!=T_UNDEF)container.innerHTML=html;else{var doc=(new DOMParser).parseFromString(html,"application/xml");container.appendChild(container.ownerDocument.importNode(doc.documentElement,!0))}}(el,templ),el.stub=!0,el}function mkitem(expr,key,val){var item={};return item[expr.key]=key,expr.pos&&(item[expr.pos]=val),item}function moveNestedTags(child,i){Object.keys(child.tags).forEach(function(tagName){var tag=child.tags[tagName];isArray(tag)?each(tag,function(t){moveChildTag(t,tagName,i)}):moveChildTag(tag,tagName,i)})}function addVirtual(tag,src,target){var sib,el=tag._root;for(tag._virts=[];el;)sib=el.nextSibling,target?src.insertBefore(el,target._root):src.appendChild(el),tag._virts.push(el),el=sib}function moveVirtual(tag,src,target,len){for(var sib,el=tag._root,i=0;i<len;i++)sib=el.nextSibling,src.insertBefore(el,target._root),el=sib}function insertTag(isVirtual,prevTag,newTag,root,tags,virtualFn,dom){isInStub(prevTag.root)||(isVirtual?virtualFn(prevTag,root,newTag,dom.childNodes.length):root.insertBefore(prevTag.root,newTag.root))}function _each(dom,parent,expr){remAttr(dom,"each");var hasKeys,mustReorder=typeof getAttr(dom,"no-reorder")!==T_STRING||remAttr(dom,"no-reorder"),tagName=getTagName(dom),impl=__tagImpl[tagName]||{tmpl:function(el){{if(el.outerHTML)return el.outerHTML;var container=mkEl("div");return container.appendChild(el.cloneNode(!0)),container.innerHTML}}(dom)},useRoot=SPECIAL_TAGS_REGEX.test(tagName),root=dom.parentNode,ref=document.createTextNode(""),child=getTag(dom),isOption="option"===tagName.toLowerCase(),tags=[],oldItems=[],isVirtual="VIRTUAL"==dom.tagName;expr=tmpl.loopKeys(expr),root.insertBefore(ref,dom),parent.one("before-mount",function(){dom.parentNode.removeChild(dom),root.stub&&(root=parent.root)}).on("update",function(){var items=tmpl(expr.val,parent),frag=document.createDocumentFragment();isArray(items)||(items=(hasKeys=items||!1)?Object.keys(items).map(function(key){return mkitem(expr,key,items[key])}):[]);for(var i=0,itemsLength=items.length;i<itemsLength;i++){var item=items[i],_mustReorder=mustReorder&&typeof item==T_OBJECT&&!hasKeys,oldPos=oldItems.indexOf(item),pos=~oldPos&&_mustReorder?oldPos:i,tag=tags[pos];item=!hasKeys&&expr.key?mkitem(expr,item,i):item,!_mustReorder&&!tag||_mustReorder&&!~oldPos||!tag?((tag=new Tag(impl,{parent:parent,isLoop:!0,hasImpl:!!__tagImpl[tagName],root:useRoot?root:dom.cloneNode(),item:item},dom.innerHTML)).mount(),isVirtual&&(tag._root=tag.root.firstChild),i!=tags.length&&tags[i]?(insertTag(isVirtual,tag,tags[i],root,0,addVirtual,dom),oldItems.splice(i,0,item)):isVirtual?addVirtual(tag,frag):frag.appendChild(tag.root),tags.splice(i,0,tag),pos=i):tag.update(item,!0),pos!==i&&_mustReorder&&tags[i]&&(contains(items,oldItems[i])&&insertTag(isVirtual,tag,tags[i],root,0,moveVirtual,dom),expr.pos&&(tag[expr.pos]=i),tags.splice(i,0,tags.splice(pos,1)[0]),oldItems.splice(i,0,oldItems.splice(pos,1)[0]),!child&&tag.tags&&moveNestedTags(tag,i)),tag._item=item,defineProperty(tag,"_parent",parent)}if(!function(items,tags){for(var t,i=tags.length,j=items.length;j<i;)t=tags[--i],tags.splice(i,1),t.unmount()}(items,tags),root.insertBefore(frag,ref),isOption&&FIREFOX&&!root.multiple)for(var n=0;n<root.length;n++)if(root[n].__riot1374){root.selectedIndex=n,delete root[n].__riot1374;break}child&&(parent.tags[tagName]=tags),oldItems=items.slice()})}var styleManager=function(_riot){if(!window)return{add:function(){},inject:function(){}};var styleNode=function(){var newNode=mkEl("style");setAttr(newNode,"type","text/css");var userNode=$("style[type=riot]");return userNode?(userNode.id&&(newNode.id=userNode.id),userNode.parentNode.replaceChild(newNode,userNode)):document.getElementsByTagName("head")[0].appendChild(newNode),newNode}(),cssTextProp=styleNode.styleSheet,stylesToInject="";return Object.defineProperty(_riot,"styleNode",{value:styleNode,writable:!0}),{add:function(css){stylesToInject+=css},inject:function(){stylesToInject&&(cssTextProp?cssTextProp.cssText+=stylesToInject:styleNode.innerHTML+=stylesToInject,stylesToInject="")}}}(riot);function parseNamedElements(root,tag,childTags,forceParsingNamed){walk(root,function(dom){if(1==dom.nodeType){if(dom.isLoop=dom.isLoop||dom.parentNode&&dom.parentNode.isLoop||getAttr(dom,"each")?1:0,childTags){var child=getTag(dom);child&&!dom.isLoop&&childTags.push(function(child,opts,innerHTML,parent){var tag=new Tag(child,opts,innerHTML),tagName=getTagName(opts.root),ptag=getImmediateCustomParentTag(parent);tag.parent=ptag,tag._parent=parent,addChildTag(tag,tagName,ptag),ptag!==parent&&addChildTag(tag,tagName,parent);return opts.root.innerHTML="",tag}(child,{root:dom,parent:tag},dom.innerHTML,tag))}dom.isLoop&&!forceParsingNamed||function(dom,parent,keys){function add(value){contains(keys,key)||(isArr=isArray(value),value?isArr&&(!isArr||contains(value,dom))||(isArr?value.push(dom):parent[key]=[value,dom]):parent[key]=dom)}var isArr,key=getNamedKey(dom);if(!key)return;tmpl.hasExpr(key)?parent.one("mount",function(){key=getNamedKey(dom),add(parent[key])}):add(parent[key])}(dom,tag,[])}})}function parseExpressions(root,tag,expressions){function addExpr(dom,val,extra){tmpl.hasExpr(val)&&expressions.push(extend({dom:dom,expr:val},extra))}walk(root,function(dom){var attr,type=dom.nodeType;if(3==type&&"STYLE"!=dom.parentNode.tagName&&addExpr(dom,dom.nodeValue),1==type)return(attr=getAttr(dom,"each"))?(_each(dom,tag,attr),!1):(each(dom.attributes,function(attr){var name=attr.name,bool=name.split("__")[1];if(addExpr(dom,attr.value,{attr:bool||name,bool:bool}),bool)return remAttr(dom,name),!1}),!getTag(dom)&&void 0)})}function Tag(impl,conf,innerHTML){var dom,self=riot.observable(this),opts=function(parent){return Object.create(parent||null)}(conf.opts)||{},parent=conf.parent,isLoop=conf.isLoop,hasImpl=conf.hasImpl,item=cleanUpData(conf.item),expressions=[],childTags=[],root=conf.root,tagName=root.tagName.toLowerCase(),attr={},propsInSyncWithParent=[];function updateOpts(){var ctx=hasImpl&&isLoop?self:parent||self;each(root.attributes,function(el){if(!(el.name in attr)){var val=el.value;opts[toCamel(el.name)]=tmpl.hasExpr(val)?tmpl(val,ctx):val}}),each(Object.keys(attr),function(name){opts[toCamel(name)]=tmpl(attr[name],ctx)})}function inheritFrom(target){each(Object.keys(target),function(k){var mustSync=!RESERVED_WORDS_BLACKLIST.test(k)&&contains(propsInSyncWithParent,k);typeof self[k]!==T_UNDEF&&!mustSync||(mustSync||propsInSyncWithParent.push(k),self[k]=target[k])})}function onChildUpdate(data){self.update(data,!0)}function toggle(isMount){if(each(childTags,function(child){child[isMount?"mount":"unmount"]()}),parent){var evt=isMount?"on":"off";isLoop?parent[evt]("unmount",self.unmount):parent[evt]("update",onChildUpdate)[evt]("unmount",self.unmount)}}impl.name&&root._tag&&root._tag.unmount(!0),this.isMounted=!1,root.isLoop=isLoop,defineProperty(root._tag=this,"_riot_id",++__uid),extend(this,{parent:parent,root:root,opts:opts},item),defineProperty(this,"tags",{}),each(root.attributes,function(el){var val=el.value;tmpl.hasExpr(val)&&(attr[el.name]=val)}),dom=mkdom(impl.tmpl,innerHTML,isLoop),defineProperty(this,"update",function(data,isInherited){return data=cleanUpData(data),isLoop&&inheritFrom(self.parent),data&&isObject(item)&&(function(data){for(var key in item)typeof self[key]!==T_UNDEF&&isWritable(self,key)&&(self[key]=data[key])}(data),item=data),extend(self,data),updateOpts(),self.trigger("update",data),function(expressions,tag){each(expressions,function(expr,i){var dom=expr.dom,attrName=expr.attr,value=tmpl(expr.expr,tag),parent=expr.parent||expr.dom.parentNode;if(expr.bool?value=!!value:null==value&&(value=""),expr.value!==value){if(expr.value=value,!attrName)return value+="",void(parent&&("TEXTAREA"===(expr.parent=parent).tagName?(parent.value=value,IE_VERSION||(dom.nodeValue=value)):dom.nodeValue=value));if("value"!==attrName)if(remAttr(dom,attrName),isFunction(value))!function(name,handler,dom,tag){dom[name]=function(e){var ptag=tag._parent,item=tag._item;if(!item)for(;ptag&&!item;)item=ptag._item,ptag=ptag._parent;isWritable(e=e||window.event,"currentTarget")&&(e.currentTarget=dom),isWritable(e,"target")&&(e.target=e.srcElement),isWritable(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=item,!0===handler.call(tag,e)||/radio|check/.test(dom.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(item?getImmediateCustomParentTag(ptag):tag).update()}}(attrName,value,dom,tag);else if("if"==attrName){var stub=expr.stub,remove=function(){insertTo(dom.parentNode,dom,stub)};value?stub&&(insertTo(stub.parentNode,stub,dom),dom.inStub=!1,isInStub(dom)||walk(dom,function(el){el._tag&&!el._tag.isMounted&&(el._tag.isMounted=!!el._tag.trigger("mount"))})):(stub=expr.stub=stub||document.createTextNode(""),dom.parentNode?remove():(tag.parent||tag).one("updated",remove),dom.inStub=!0)}else"show"===attrName?dom.style.display=value?"":"none":"hide"===attrName?dom.style.display=value?"none":"":expr.bool?((dom[attrName]=value)&&setAttr(dom,attrName,attrName),FIREFOX&&"selected"===attrName&&"OPTION"===dom.tagName&&(dom.__riot1374=value)):(0===value||value&&typeof value!==T_OBJECT)&&(function(src,str){return src.slice(0,str.length)===str}(attrName,RIOT_PREFIX)&&attrName!=RIOT_TAG&&(attrName=attrName.slice(RIOT_PREFIX.length)),setAttr(dom,attrName,value));else dom.value!==value&&(dom.value=value,setAttr(dom,attrName,value))}})}(expressions,self),isInherited&&self.parent?self.parent.one("updated",function(){self.trigger("updated")}):rAF(function(){self.trigger("updated")}),this}),defineProperty(this,"mixin",function(){return each(arguments,function(mix){var instance,obj,props=[];mix=typeof mix===T_STRING?riot.mixin(mix):mix,instance=isFunction(mix)?new mix:mix;for(var proto=Object.getPrototypeOf(instance);props=props.concat(Object.getOwnPropertyNames(obj||instance)),obj=Object.getPrototypeOf(obj||instance););each(props,function(key){if("init"!=key&&"__proto__"!=key){var descriptor=Object.getOwnPropertyDescriptor(instance,key)||Object.getOwnPropertyDescriptor(proto,key),hasGetterSetter=descriptor&&(descriptor.get||descriptor.set);!self.hasOwnProperty(key)&&hasGetterSetter?Object.defineProperty(self,key,descriptor):self[key]=isFunction(instance[key])?instance[key].bind(self):instance[key]}}),instance.init&&instance.init.bind(self)()}),this}),defineProperty(this,"mount",function(){updateOpts();var globalMixin=riot.mixin(GLOBAL_MIXIN);if(globalMixin)for(var i in globalMixin)globalMixin.hasOwnProperty(i)&&self.mixin(globalMixin[i]);if(self._parent&&self._parent.root.isLoop&&inheritFrom(self._parent),impl.fn&&impl.fn.call(self,opts),parseExpressions(dom,self,expressions),toggle(!0),impl.attrs&&function(html,fn){var m,re=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;for(;m=re.exec(html);)fn(m[1].toLowerCase(),m[2]||m[3]||m[4])}(impl.attrs,function(k,v){setAttr(root,k,v)}),(impl.attrs||hasImpl)&&parseExpressions(self.root,self,expressions),self.parent&&!isLoop||self.update(item),self.trigger("before-mount"),isLoop&&!hasImpl)root=dom.firstChild;else{for(;dom.firstChild;)root.appendChild(dom.firstChild);root.stub&&(root=parent.root)}defineProperty(self,"root",root),isLoop&&parseNamedElements(self.root,self.parent,null,!0),!self.parent||self.parent.isMounted?(self.isMounted=!0,self.trigger("mount")):self.parent.one("mount",function(){isInStub(self.root)||(self.parent.isMounted=self.isMounted=!0,self.trigger("mount"))})}),defineProperty(this,"unmount",function(keepRootTag){var ptag,el=root,p=el.parentNode,tagIndex=__virtualDom.indexOf(self);if(self.trigger("before-unmount"),~tagIndex&&__virtualDom.splice(tagIndex,1),p){if(parent)isArray((ptag=getImmediateCustomParentTag(parent)).tags[tagName])?each(ptag.tags[tagName],function(tag,i){tag._riot_id==self._riot_id&&ptag.tags[tagName].splice(i,1)}):ptag.tags[tagName]=undefined;else for(;el.firstChild;)el.removeChild(el.firstChild);keepRootTag?(remAttr(p,RIOT_TAG_IS),remAttr(p,RIOT_TAG)):p.removeChild(el)}this._virts&&each(this._virts,function(v){v.parentNode&&v.parentNode.removeChild(v)}),self.trigger("unmount"),toggle(),self.off("*"),self.isMounted=!1,delete root._tag}),parseNamedElements(dom,this,childTags)}function insertTo(root,node,before){root&&(root.insertBefore(before,node),root.removeChild(node))}function each(els,fn){for(var el,len=els?els.length:0,i=0;i<len;i++)null!=(el=els[i])&&!1===fn(el,i)&&i--;return els}function isFunction(v){return typeof v===T_FUNCTION||!1}function isObject(v){return v&&typeof v===T_OBJECT}function remAttr(dom,name){dom.removeAttribute(name)}function toCamel(string){return string.replace(/-(\w)/g,function(_,c){return c.toUpperCase()})}function getAttr(dom,name){return dom.getAttribute(name)}function setAttr(dom,name,val){var xlink=XLINK_REGEX.exec(name);xlink&&xlink[1]?dom.setAttributeNS(XLINK_NS,xlink[1],val):dom.setAttribute(name,val)}function getTag(dom){return dom.tagName&&__tagImpl[getAttr(dom,RIOT_TAG_IS)||getAttr(dom,RIOT_TAG)||dom.tagName.toLowerCase()]}function addChildTag(tag,tagName,parent){var cachedTag=parent.tags[tagName];cachedTag?(isArray(cachedTag)||cachedTag!==tag&&(parent.tags[tagName]=[cachedTag]),contains(parent.tags[tagName],tag)||parent.tags[tagName].push(tag)):parent.tags[tagName]=tag}function moveChildTag(tag,tagName,newPos){var tags,parent=tag.parent;parent&&(isArray(tags=parent.tags[tagName])?tags.splice(newPos,0,tags.splice(tags.indexOf(tag),1)[0]):addChildTag(tag,tagName,parent))}function getImmediateCustomParentTag(tag){for(var ptag=tag;!getTag(ptag.root)&&ptag.parent;)ptag=ptag.parent;return ptag}function defineProperty(el,key,value,options){return Object.defineProperty(el,key,extend({value:value,enumerable:!1,writable:!1,configurable:!0},options)),el}function getTagName(dom){var child=getTag(dom),namedTag=getAttr(dom,"name");return namedTag&&!tmpl.hasExpr(namedTag)?namedTag:child?child.name:dom.tagName.toLowerCase()}function extend(src){for(var obj,args=arguments,i=1;i<args.length;++i)if(obj=args[i])for(var key in obj)isWritable(src,key)&&(src[key]=obj[key]);return src}function contains(arr,item){return~arr.indexOf(item)}function isArray(a){return Array.isArray(a)||a instanceof Array}function isWritable(obj,key){var props=Object.getOwnPropertyDescriptor(obj,key);return typeof obj[key]===T_UNDEF||props&&props.writable}function cleanUpData(data){if(!(data instanceof Tag||data&&typeof data.trigger==T_FUNCTION))return data;var o={};for(var key in data)RESERVED_WORDS_BLACKLIST.test(key)||(o[key]=data[key]);return o}function walk(dom,fn){if(dom){if(!1===fn(dom))return;for(dom=dom.firstChild;dom;)walk(dom,fn),dom=dom.nextSibling}}function isInStub(dom){for(;dom;){if(dom.inStub)return!0;dom=dom.parentNode}return!1}function mkEl(name,isSvg){return isSvg?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(name)}function $$(selector,ctx){return(ctx||document).querySelectorAll(selector)}function $(selector,ctx){return(ctx||document).querySelector(selector)}function getNamedKey(dom){return getAttr(dom,"id")||getAttr(dom,"name")}var mixins,globals,_id,rAF=function(w){var raf=w.requestAnimationFrame||w.mozRequestAnimationFrame||w.webkitRequestAnimationFrame;if(!raf||/iP(ad|hone|od).*OS 6/.test(w.navigator.userAgent)){var lastTime=0;raf=function(cb){var nowtime=Date.now(),timeout=Math.max(16-(nowtime-lastTime),0);setTimeout(function(){cb(lastTime=nowtime+timeout)},timeout)}}return raf}(window||{});riot.util={brackets:brackets,tmpl:tmpl},riot.mixin=(globals=(mixins={})[GLOBAL_MIXIN]={},_id=0,function(name,mixin,g){if(isObject(name))riot.mixin("__unnamed_"+_id++,name,!0);else{var store=g?globals:mixins;if(!mixin){if(typeof store[name]===T_UNDEF)throw new Error("Unregistered mixin: "+name);return store[name]}isFunction(mixin)?(extend(mixin.prototype,store[name]||{}),store[name]=mixin):store[name]=extend(store[name]||{},mixin)}}),riot.tag=function(name,html,css,attrs,fn){return isFunction(attrs)&&(fn=attrs,/^[\w\-]+\s?=/.test(css)?(attrs=css,css=""):attrs=""),css&&(isFunction(css)?fn=css:styleManager.add(css)),name=name.toLowerCase(),__tagImpl[name]={name:name,tmpl:html,attrs:attrs,fn:fn},name},riot.tag2=function(name,html,css,attrs,fn){return css&&styleManager.add(css),__tagImpl[name]={name:name,tmpl:html,attrs:attrs,fn:fn},name},riot.mount=function(selector,tagName,opts){var els,allTags,tags=[];function addRiotTags(arr){var list="";return each(arr,function(e){/[^-\w]/.test(e)||(e=e.trim().toLowerCase(),list+=",["+RIOT_TAG_IS+'="'+e+'"],['+RIOT_TAG+'="'+e+'"]')}),list}function selectAllTags(){var keys=Object.keys(__tagImpl);return keys+addRiotTags(keys)}if(styleManager.inject(),isObject(tagName)&&(opts=tagName,tagName=0),els=typeof selector===T_STRING?("*"===selector?selector=allTags=selectAllTags():selector+=addRiotTags(selector.split(/, */)),selector?$$(selector):[]):selector,"*"===tagName){if(tagName=allTags||selectAllTags(),els.tagName)els=$$(tagName,els);else{var nodeList=[];each(els,function(_el){nodeList.push($$(tagName,_el))}),els=nodeList}tagName=0}return function pushTags(root){if(root.tagName){var riotTag=getAttr(root,RIOT_TAG_IS)||getAttr(root,RIOT_TAG);tagName&&riotTag!==tagName&&(setAttr(root,RIOT_TAG_IS,riotTag=tagName),setAttr(root,RIOT_TAG,tagName));var tag=function(root,tagName,opts){var tag=__tagImpl[tagName],innerHTML=root._innerHTML=root._innerHTML||root.innerHTML;return root.innerHTML="",tag&&root&&(tag=new Tag(tag,{root:root,opts:opts},innerHTML)),tag&&tag.mount&&(tag.mount(),contains(__virtualDom,tag)||__virtualDom.push(tag)),tag}(root,riotTag||root.tagName.toLowerCase(),opts);tag&&tags.push(tag)}else root.length&&each(root,pushTags)}(els),tags},riot.update=function(){return each(__virtualDom,function(tag){tag.update()})},riot.vdom=__virtualDom,riot.Tag=Tag,typeof exports===T_OBJECT?module.exports=riot:"function"===T_FUNCTION&&typeof __webpack_require__(148)!==T_UNDEF?(__WEBPACK_AMD_DEFINE_RESULT__=function(){return riot}.call(exports,__webpack_require__,exports,module))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):window.riot=riot}("undefined"!=typeof window?window:void 0)},function(module,exports,__webpack_require__){var root,Emitter=__webpack_require__(151),reduce=__webpack_require__(152),requestBase=__webpack_require__(153),isObject=__webpack_require__(12);function noop(){}function isHost(obj){switch({}.toString.call(obj)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}root="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var request=module.exports=__webpack_require__(154).bind(null,Request);request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)null!=obj[key]&&pushEncodedKeyValuePair(pairs,key,obj[key]);return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){if(Array.isArray(val))return val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)});pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val))}function parseString(str){for(var parts,obj={},pairs=str.split("&"),i=0,len=pairs.length;i<len;++i)parts=pairs[i].split("="),obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1]);return obj}function isJSON(mime){return/[\/+]json\b/.test(mime)}function Response(req,options){this.req=req,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;i<len;++i)index=(line=lines[i]).indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function Request(method,url){var self=this;this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var err=null,res=null;try{res=new Response(self)}catch(e){return(err=new Error("Parser is unable to parse the response")).parse=!0,err.original=e,err.rawResponse=self.xhr&&self.xhr.responseText?self.xhr.responseText:null,err.statusCode=self.xhr&&self.xhr.status?self.xhr.status:null,self.callback(err)}if(self.emit("response",res),err)return self.callback(err,res);if(200<=res.status&&res.status<300)return self.callback(err,res);var new_err=new Error(res.statusText||"Unsuccessful HTTP response");new_err.original=err,new_err.response=res,new_err.status=res.status,self.callback(new_err,res)})}for(var key in request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(field){return this.header[field.toLowerCase()]},Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=function(str){return str.split(/ *; */).shift()}(ct);var obj=function(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})}(ct);for(var key in obj)this[key]=obj[key]},Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return!parse&&isJSON(this.type)&&(parse=request.parse["application/json"]),parse&&str&&(str.length||str instanceof Object)?parse(str):null},Response.prototype.setStatusProperties=function(status){1223===status&&(status=204);var type=status/100|0;this.status=this.statusCode=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.clientError=4==type,this.serverError=5==type,this.error=(4==type||5==type)&&this.toError(),this.accepted=202==status,this.noContent=204==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.notFound=404==status,this.forbidden=403==status},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype),requestBase)Request.prototype[key]=requestBase[key];function del(url,fn){var req=request("DELETE",url);return fn&&req.end(fn),req}Request.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.responseType=function(val){return this._responseType=val,this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass,options){switch((options=options||{type:"basic"}).type){case"basic":var str=btoa(user+":"+pass);this.set("Authorization","Basic "+str);break;case"auto":this.username=user,this.password=pass}return this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.attach=function(field,file,filename){return this._getFormData().append(field,file,filename||file.name),this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.send=function(data){var obj=isObject(data),type=this._header["content-type"];if(obj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this._header["content-type"],this._data="application/x-www-form-urlencoded"==type?this._data?this._data+"&"+data:data:(this._data||"")+data):this._data=data;return!obj||isHost(data)||type||this.type("json"),this},Response.prototype.parse=function(fn){return root.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(fn),this},Response.prototype.serialize=function(fn){return this._parser=fn,this},Request.prototype.callback=function(err,res){var fn=this._callback;this.clearTimeout(),fn(err,res)},Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=!0,err.status=this.status,err.method=this.method,err.url=this.url,this.callback(err)},Request.prototype.timeoutError=function(){var timeout=this._timeout,err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout,this.callback(err)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(fn){var self=this,xhr=this.xhr=request.getXHR(),query=this._query.join("&"),timeout=this._timeout,data=this._formData||this._data;this._callback=fn||noop,xhr.onreadystatechange=function(){if(4==xhr.readyState){var status;try{status=xhr.status}catch(e){status=0}if(0==status){if(self.timedout)return self.timeoutError();if(self.aborted)return;return self.crossDomainError()}self.emit("end")}};function handleProgress(e){0<e.total&&(e.percent=e.loaded/e.total*100),e.direction="download",self.emit("progress",e)}this.hasListeners("progress")&&(xhr.onprogress=handleProgress);try{xhr.upload&&this.hasListeners("progress")&&(xhr.upload.onprogress=handleProgress)}catch(e){}if(timeout&&!this._timer&&(this._timer=setTimeout(function(){self.timedout=!0,self.abort()},timeout)),query&&(query=request.serializeObject(query),this.url+=~this.url.indexOf("?")?"&"+query:"?"+query),this.username&&this.password?xhr.open(this.method,this.url,!0,this.username,this.password):xhr.open(this.method,this.url,!0),this._withCredentials&&(xhr.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var contentType=this._header["content-type"],serialize=this._parser||request.serialize[contentType?contentType.split(";")[0]:""];!serialize&&isJSON(contentType)&&(serialize=request.serialize["application/json"]),serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&xhr.setRequestHeader(field,this.header[field]);return this._responseType&&(xhr.responseType=this._responseType),this.emit("request",this),xhr.send(void 0!==data?data:null),this},request.Request=Request,request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=del,request.delete=del,request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function Move(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Move);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Move.__proto__||Object.getPrototypeOf(Move)).apply(this,arguments));return _this.dragMove=_this.dragMove.bind(_this),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Move,__webpack_require__(14)),_createClass(Move,[{key:"dragMove",value:function(e){var isTouch,left,mousePoint,radians,relative,top,touch;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new Error("Bound instance method accessed before binding")}(this,Move),e.preventDefault(),e.stopPropagation(),isTouch=!1,top=(mousePoint=e.touches?(isTouch=!0,{left:(touch=e.touches[0]).pageX,top:touch.pageY}):{left:e.pageX,top:e.pageY}).top-this.start.top,left=mousePoint.left-this.start.left,radians=0-this.getAngle(this.elem.parentNode).radians,relative=this.rotateMatix(left,top,this.start.offsetLeft,this.start.offsetTop,radians),this.options.vertical&&(this.elem.style.top=relative.top+"px"),this.options.horizontal&&(null!=this.options.minh&&relative.left<this.options.minh&&(relative.left=this.options.minh),null!=this.options.maxh&&relative.left>this.options.maxh&&(relative.left=this.options.maxh),this.elem.style.left=relative.left+"px"),this.pos=this.rotateMatix(parseInt(this.elem.style.left,10)||0,parseInt(this.elem.style.top,10)||0,0,0,0-radians),this.options.dragging(this.pos,relative,{isTouch:isTouch})}}]),Move}()},function(module,exports){var options={};module.exports=function(a,b){var GREATER="desc"==options.direction?-1:1,SMALLER=-GREATER,re=/(^-?[0-9]+(\.?[0-9]*)[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,sre=/(^[ ]*|[ ]*$)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,hre=/^0x[0-9a-f]+$/i,ore=/^0/,normalize=function(value){var string=""+value;return options.caseSensitive?string:string.toLowerCase()},x=normalize(a).replace(sre,"")||"",y=normalize(b).replace(sre,"")||"",xN=x.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),yN=y.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0");if(!x&&!y)return 0;if(!x&&y)return GREATER;if(x&&!y)return SMALLER;var oFxNcL,oFyNcL,xD=parseInt(x.match(hre))||1!=xN.length&&x.match(dre)&&Date.parse(x),yD=parseInt(y.match(hre))||xD&&y.match(dre)&&Date.parse(y)||null;if(yD){if(xD<yD)return SMALLER;if(yD<xD)return GREATER}for(var cLoc=0,numS=Math.max(xN.length,yN.length);cLoc<numS;cLoc++){if(oFxNcL=!(xN[cLoc]||"").match(ore)&&parseFloat(xN[cLoc])||xN[cLoc]||0,oFyNcL=!(yN[cLoc]||"").match(ore)&&parseFloat(yN[cLoc])||yN[cLoc]||0,isNaN(oFxNcL)!==isNaN(oFyNcL))return isNaN(oFxNcL)?GREATER:SMALLER;if(typeof oFxNcL!=typeof oFyNcL&&(oFxNcL+="",oFyNcL+=""),oFxNcL<oFyNcL)return SMALLER;if(oFyNcL<oFxNcL)return GREATER}return 0}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var boundMethodCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new Error("Bound instance method accessed before binding")};module.exports=function(){function Rotate(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Rotate);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Rotate.__proto__||Object.getPrototypeOf(Rotate)).apply(this,arguments));return _this.dragMove=_this.dragMove.bind(_this),_this.update=_this.update.bind(_this),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Rotate,__webpack_require__(14)),_createClass(Rotate,[{key:"dragMove",value:function(e){var base,dot,isCSS1Compat,mousePoint,pivot,radians,ref,ref1,ref2,supportPageOffset,touch,x,y;return boundMethodCheck(this,Rotate),e.preventDefault(),e.stopPropagation(),base=this.elem.parentNode.getBoundingClientRect(),this.elem.getBoundingClientRect(),mousePoint=e.touches?{left:(touch=e.touches[0]).pageX-base.left,top:touch.pageY-base.top}:{left:e.pageX-base.left,top:e.pageY-base.top},pivot=null!=(null!=(ref=this.options)?ref.center:void 0)?{left:this.options.center.left+this.elem.offsetLeft,top:this.options.center.top+this.elem.offsetTop}:{left:this.elem.offsetLeft,top:this.elem.offsetTop},supportPageOffset=void 0!==window.pageXOffset,isCSS1Compat="CSS1Compat"===(document.compatMode||""),x=supportPageOffset?window.pageXOffset:isCSS1Compat?document.documentElement.scrollLeft:document.body.scrollLeft,y=supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop,pivot.top+=y,pivot.left+=x,null!=this.options.helpers&&((dot=document.querySelector("#dot"))||((dot=document.createElement("div")).setAttribute("id","dot"),dot.setAttribute("style","border:1px solid red;z-index:100000;position:absolute;"),this.elem.parentNode.appendChild(dot)),this.elem.parentNode.style.border="1px solid red",dot.style.left=pivot.left+"px",dot.style.top=pivot.top+"px"),radians=Math.atan((pivot.left-mousePoint.left)/(mousePoint.top-pivot.top)),mousePoint.top-pivot.top<0&&(radians+=Math.PI),radians+=Math.PI/2,null!=(ref1=this.start)&&ref1.offsetRadians?(radians-=this.start.offsetRadians,radians=Math.round(100*radians)/100,this.update(radians),(null!=(ref2=this.options)?ref2.onRotate:void 0)?this.options.onRotate(radians):void 0):this.start.offsetRadians=radians-this.getAngle(this.elem).radians}},{key:"update",value:function(radians){return boundMethodCheck(this,Rotate),this.elem.style.webkitTransform="rotate("+radians+"rad)",this.elem.style.mozTransform="rotate("+radians+"rad)",this.elem.style.transform="rotate("+radians+"rad)"}}]),Rotate}()},function(module,exports,__webpack_require__){
/*!
 * Chart.js v2.9.3
 * https://www.chartjs.org
 * (c) 2019 Chart.js Contributors
 * Released under the MIT License
 */
module.exports=function(moment){"use strict";function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}function getCjsExportFromNamespace(n){return n&&n["default"]||n}moment=moment&&moment.hasOwnProperty("default")?moment["default"]:moment;var colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},conversions=createCommonjsModule(function(module){var reverseKeywords={};for(var key in colorName){if(colorName.hasOwnProperty(key)){reverseKeywords[colorName[key]]=key}}var convert=module.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var model in convert){if(convert.hasOwnProperty(model)){if(!("channels"in convert[model])){throw new Error("missing channels property: "+model)}if(!("labels"in convert[model])){throw new Error("missing channel labels property: "+model)}if(convert[model].labels.length!==convert[model].channels){throw new Error("channel and label counts mismatch: "+model)}var channels=convert[model].channels;var labels=convert[model].labels;delete convert[model].channels;delete convert[model].labels;Object.defineProperty(convert[model],"channels",{value:channels});Object.defineProperty(convert[model],"labels",{value:labels})}}convert.rgb.hsl=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var min=Math.min(r,g,b);var max=Math.max(r,g,b);var delta=max-min;var h;var s;var l;if(max===min){h=0}else if(r===max){h=(g-b)/delta}else if(g===max){h=2+(b-r)/delta}else if(b===max){h=4+(r-g)/delta}h=Math.min(h*60,360);if(h<0){h+=360}l=(min+max)/2;if(max===min){s=0}else if(l<=.5){s=delta/(max+min)}else{s=delta/(2-max-min)}return[h,s*100,l*100]};convert.rgb.hsv=function(rgb){var rdif;var gdif;var bdif;var h;var s;var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var v=Math.max(r,g,b);var diff=v-Math.min(r,g,b);var diffc=function(c){return(v-c)/6/diff+1/2};if(diff===0){h=s=0}else{s=diff/v;rdif=diffc(r);gdif=diffc(g);bdif=diffc(b);if(r===v){h=bdif-gdif}else if(g===v){h=1/3+rdif-bdif}else if(b===v){h=2/3+gdif-rdif}if(h<0){h+=1}else if(h>1){h-=1}}return[h*360,s*100,v*100]};convert.rgb.hwb=function(rgb){var r=rgb[0];var g=rgb[1];var b=rgb[2];var h=convert.rgb.hsl(rgb)[0];var w=1/255*Math.min(r,Math.min(g,b));b=1-1/255*Math.max(r,Math.max(g,b));return[h,w*100,b*100]};convert.rgb.cmyk=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var c;var m;var y;var k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100]};function comparativeDistance(x,y){return Math.pow(x[0]-y[0],2)+Math.pow(x[1]-y[1],2)+Math.pow(x[2]-y[2],2)}convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed){return reversed}var currentClosestDistance=Infinity;var currentClosestKeyword;for(var keyword in colorName){if(colorName.hasOwnProperty(keyword)){var value=colorName[keyword];var distance=comparativeDistance(rgb,value);if(distance<currentClosestDistance){currentClosestDistance=distance;currentClosestKeyword=keyword}}}return currentClosestKeyword};convert.keyword.rgb=function(keyword){return colorName[keyword]};convert.rgb.xyz=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=r*.4124+g*.3576+b*.1805;var y=r*.2126+g*.7152+b*.0722;var z=r*.0193+g*.1192+b*.9505;return[x*100,y*100,z*100]};convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb);var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]};convert.hsl.rgb=function(hsl){var h=hsl[0]/360;var s=hsl[1]/100;var l=hsl[2]/100;var t1;var t2;var t3;var rgb;var val;if(s===0){val=l*255;return[val,val,val]}if(l<.5){t2=l*(1+s)}else{t2=l+s-l*s}t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1/3*-(i-1);if(t3<0){t3++}if(t3>1){t3--}if(6*t3<1){val=t1+(t2-t1)*6*t3}else if(2*t3<1){val=t2}else if(3*t3<2){val=t1+(t2-t1)*(2/3-t3)*6}else{val=t1}rgb[i]=val*255}return rgb};convert.hsl.hsv=function(hsl){var h=hsl[0];var s=hsl[1]/100;var l=hsl[2]/100;var smin=s;var lmin=Math.max(l,.01);var sv;var v;l*=2;s*=l<=1?l:2-l;smin*=lmin<=1?lmin:2-lmin;v=(l+s)/2;sv=l===0?2*smin/(lmin+smin):2*s/(l+s);return[h,sv*100,v*100]};convert.hsv.rgb=function(hsv){var h=hsv[0]/60;var s=hsv[1]/100;var v=hsv[2]/100;var hi=Math.floor(h)%6;var f=h-Math.floor(h);var p=255*v*(1-s);var q=255*v*(1-s*f);var t=255*v*(1-s*(1-f));v*=255;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}};convert.hsv.hsl=function(hsv){var h=hsv[0];var s=hsv[1]/100;var v=hsv[2]/100;var vmin=Math.max(v,.01);var lmin;var sl;var l;l=(2-s)*v;lmin=(2-s)*vmin;sl=s*vmin;sl/=lmin<=1?lmin:2-lmin;sl=sl||0;l/=2;return[h,sl*100,l*100]};convert.hwb.rgb=function(hwb){var h=hwb[0]/360;var wh=hwb[1]/100;var bl=hwb[2]/100;var ratio=wh+bl;var i;var v;var f;var n;if(ratio>1){wh/=ratio;bl/=ratio}i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&1)!==0){f=1-f}n=wh+f*(v-wh);var r;var g;var b;switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break}return[r*255,g*255,b*255]};convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/100;var m=cmyk[1]/100;var y=cmyk[2]/100;var k=cmyk[3]/100;var r;var g;var b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255]};convert.xyz.rgb=function(xyz){var x=xyz[0]/100;var y=xyz[1]/100;var z=xyz[2]/100;var r;var g;var b;r=x*3.2406+y*-1.5372+z*-.4986;g=x*-.9689+y*1.8758+z*.0415;b=x*.0557+y*-.204+z*1.057;r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*12.92;g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92;b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255]};convert.xyz.lab=function(xyz){var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]};convert.lab.xyz=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var x;var y;var z;y=(l+16)/116;x=a/500+y;z=y-b/200;var y2=Math.pow(y,3);var x2=Math.pow(x,3);var z2=Math.pow(z,3);y=y2>.008856?y2:(y-16/116)/7.787;x=x2>.008856?x2:(x-16/116)/7.787;z=z2>.008856?z2:(z-16/116)/7.787;x*=95.047;y*=100;z*=108.883;return[x,y,z]};convert.lab.lch=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var hr;var h;var c;hr=Math.atan2(b,a);h=hr*360/2/Math.PI;if(h<0){h+=360}c=Math.sqrt(a*a+b*b);return[l,c,h]};convert.lch.lab=function(lch){var l=lch[0];var c=lch[1];var h=lch[2];var a;var b;var hr;hr=h/360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b]};convert.rgb.ansi16=function(args){var r=args[0];var g=args[1];var b=args[2];var value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];value=Math.round(value/50);if(value===0){return 30}var ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));if(value===2){ansi+=60}return ansi};convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])};convert.rgb.ansi256=function(args){var r=args[0];var g=args[1];var b=args[2];if(r===g&&g===b){if(r<8){return 16}if(r>248){return 231}return Math.round((r-8)/247*24)+232}var ansi=16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5);return ansi};convert.ansi16.rgb=function(args){var color=args%10;if(color===0||color===7){if(args>50){color+=3.5}color=color/10.5*255;return[color,color,color]}var mult=(~~(args>50)+1)*.5;var r=(color&1)*mult*255;var g=(color>>1&1)*mult*255;var b=(color>>2&1)*mult*255;return[r,g,b]};convert.ansi256.rgb=function(args){if(args>=232){var c=(args-232)*10+8;return[c,c,c]}args-=16;var rem;var r=Math.floor(args/36)/5*255;var g=Math.floor((rem=args%36)/6)/5*255;var b=rem%6/5*255;return[r,g,b]};convert.rgb.hex=function(args){var integer=((Math.round(args[0])&255)<<16)+((Math.round(args[1])&255)<<8)+(Math.round(args[2])&255);var string=integer.toString(16).toUpperCase();return"000000".substring(string.length)+string};convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match){return[0,0,0]}var colorString=match[0];if(match[0].length===3){colorString=colorString.split("").map(function(char){return char+char}).join("")}var integer=parseInt(colorString,16);var r=integer>>16&255;var g=integer>>8&255;var b=integer&255;return[r,g,b]};convert.rgb.hcg=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var max=Math.max(Math.max(r,g),b);var min=Math.min(Math.min(r,g),b);var chroma=max-min;var grayscale;var hue;if(chroma<1){grayscale=min/(1-chroma)}else{grayscale=0}if(chroma<=0){hue=0}else if(max===r){hue=(g-b)/chroma%6}else if(max===g){hue=2+(b-r)/chroma}else{hue=4+(r-g)/chroma+4}hue/=6;hue%=1;return[hue*360,chroma*100,grayscale*100]};convert.hsl.hcg=function(hsl){var s=hsl[1]/100;var l=hsl[2]/100;var c=1;var f=0;if(l<.5){c=2*s*l}else{c=2*s*(1-l)}if(c<1){f=(l-.5*c)/(1-c)}return[hsl[0],c*100,f*100]};convert.hsv.hcg=function(hsv){var s=hsv[1]/100;var v=hsv[2]/100;var c=s*v;var f=0;if(c<1){f=(v-c)/(1-c)}return[hsv[0],c*100,f*100]};convert.hcg.rgb=function(hcg){var h=hcg[0]/360;var c=hcg[1]/100;var g=hcg[2]/100;if(c===0){return[g*255,g*255,g*255]}var pure=[0,0,0];var hi=h%1*6;var v=hi%1;var w=1-v;var mg=0;switch(Math.floor(hi)){case 0:pure[0]=1;pure[1]=v;pure[2]=0;break;case 1:pure[0]=w;pure[1]=1;pure[2]=0;break;case 2:pure[0]=0;pure[1]=1;pure[2]=v;break;case 3:pure[0]=0;pure[1]=w;pure[2]=1;break;case 4:pure[0]=v;pure[1]=0;pure[2]=1;break;default:pure[0]=1;pure[1]=0;pure[2]=w}mg=(1-c)*g;return[(c*pure[0]+mg)*255,(c*pure[1]+mg)*255,(c*pure[2]+mg)*255]};convert.hcg.hsv=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var v=c+g*(1-c);var f=0;if(v>0){f=c/v}return[hcg[0],f*100,v*100]};convert.hcg.hsl=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var l=g*(1-c)+.5*c;var s=0;if(l>0&&l<.5){s=c/(2*l)}else if(l>=.5&&l<1){s=c/(2*(1-l))}return[hcg[0],s*100,l*100]};convert.hcg.hwb=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var v=c+g*(1-c);return[hcg[0],(v-c)*100,(1-v)*100]};convert.hwb.hcg=function(hwb){var w=hwb[1]/100;var b=hwb[2]/100;var v=1-b;var c=v-w;var g=0;if(c<1){g=(v-c)/(1-c)}return[hwb[0],c*100,g*100]};convert.apple.rgb=function(apple){return[apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]};convert.rgb.apple=function(rgb){return[rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]};convert.gray.rgb=function(args){return[args[0]/100*255,args[0]/100*255,args[0]/100*255]};convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]]};convert.gray.hwb=function(gray){return[0,100,gray[0]]};convert.gray.cmyk=function(gray){return[0,0,0,gray[0]]};convert.gray.lab=function(gray){return[gray[0],0,0]};convert.gray.hex=function(gray){var val=Math.round(gray[0]/100*255)&255;var integer=(val<<16)+(val<<8)+val;var string=integer.toString(16).toUpperCase();return"000000".substring(string.length)+string};convert.rgb.gray=function(rgb){var val=(rgb[0]+rgb[1]+rgb[2])/3;return[val/255*100]}}),conversions_1=conversions.rgb,conversions_2=conversions.hsl,conversions_3=conversions.hsv,conversions_4=conversions.hwb,conversions_5=conversions.cmyk,conversions_6=conversions.xyz,conversions_7=conversions.lab,conversions_8=conversions.lch,conversions_9=conversions.hex,conversions_10=conversions.keyword,conversions_11=conversions.ansi16,conversions_12=conversions.ansi256,conversions_13=conversions.hcg,conversions_14=conversions.apple,conversions_15=conversions.gray;function buildGraph(){var graph={};var models=Object.keys(conversions);for(var len=models.length,i=0;i<len;i++){graph[models[i]]={distance:-1,parent:null}}return graph}function deriveBFS(fromModel){var graph=buildGraph();var queue=[fromModel];graph[fromModel].distance=0;while(queue.length){var current=queue.pop();var adjacents=Object.keys(conversions[current]);for(var len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i];var node=graph[adjacent];if(node.distance===-1){node.distance=graph[current].distance+1;node.parent=current;queue.unshift(adjacent)}}}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){var path=[graph[toModel].parent,toModel];var fn=conversions[graph[toModel].parent][toModel];var cur=graph[toModel].parent;while(graph[cur].parent){path.unshift(graph[cur].parent);fn=link(conversions[graph[cur].parent][cur],fn);cur=graph[cur].parent}fn.conversion=path;return fn}var route=function(fromModel){var graph=deriveBFS(fromModel);var conversion={};var models=Object.keys(graph);for(var len=models.length,i=0;i<len;i++){var toModel=models[i];var node=graph[toModel];if(node.parent===null){continue}conversion[toModel]=wrapConversion(toModel,graph)}return conversion},convert={},models;function wrapRaw(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args}if(arguments.length>1){args=Array.prototype.slice.call(arguments)}return fn(args)};if("conversion"in fn){wrappedFn.conversion=fn.conversion}return wrappedFn}function wrapRounded(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args}if(arguments.length>1){args=Array.prototype.slice.call(arguments)}var result=fn(args);if(typeof result==="object"){for(var len=result.length,i=0;i<len;i++){result[i]=Math.round(result[i])}}return result};if("conversion"in fn){wrappedFn.conversion=fn.conversion}return wrappedFn}Object.keys(conversions).forEach(function(fromModel){convert[fromModel]={};Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels});Object.defineProperty(convert[fromModel],"labels",{value:conversions[fromModel].labels});var routes=route(fromModel);var routeModels=Object.keys(routes);routeModels.forEach(function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=wrapRounded(fn);convert[fromModel][toModel].raw=wrapRaw(fn)})});var colorConvert=convert,colorName$1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},colorString={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};function getRgba(string){if(!string){return}var abbr=/^#([a-fA-F0-9]{3,4})$/i,hex=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,keyword=/(\w+)/;var rgb=[0,0,0],a=1,match=string.match(abbr),hexAlpha="";if(match){match=match[1];hexAlpha=match[3];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i]+match[i],16)}if(hexAlpha){a=Math.round(parseInt(hexAlpha+hexAlpha,16)/255*100)/100}}else if(match=string.match(hex)){hexAlpha=match[2];match=match[1];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match.slice(i*2,i*2+2),16)}if(hexAlpha){a=Math.round(parseInt(hexAlpha,16)/255*100)/100}}else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i+1])}a=parseFloat(match[4])}else if(match=string.match(per)){for(var i=0;i<rgb.length;i++){rgb[i]=Math.round(parseFloat(match[i+1])*2.55)}a=parseFloat(match[4])}else if(match=string.match(keyword)){if(match[1]=="transparent"){return[0,0,0,0]}rgb=colorName$1[match[1]];if(!rgb){return}}for(var i=0;i<rgb.length;i++){rgb[i]=scale(rgb[i],0,255)}if(!a&&a!=0){a=1}else{a=scale(a,0,1)}rgb[3]=a;return rgb}function getHsla(string){if(!string){return}var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}}function getHwb(string){if(!string){return}var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}}function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3)}function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3)}function getAlpha(string){var vals=getRgba(string);if(vals){return vals[3]}else if(vals=getHsla(string)){return vals[3]}else if(vals=getHwb(string)){return vals[3]}}function hexString(rgba,a){var a=a!==undefined&&rgba.length===3?a:rgba[3];return"#"+hexDouble(rgba[0])+hexDouble(rgba[1])+hexDouble(rgba[2])+(a>=0&&a<1?hexDouble(Math.round(a*255)):"")}function rgbString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1){return rgbaString(rgba,alpha)}return"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")"}function rgbaString(rgba,alpha){if(alpha===undefined){alpha=rgba[3]!==undefined?rgba[3]:1}return"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]+", "+alpha+")"}function percentString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1){return percentaString(rgba,alpha)}var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)"}function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")"}function hslString(hsla,alpha){if(alpha<1||hsla[3]&&hsla[3]<1){return hslaString(hsla,alpha)}return"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)"}function hslaString(hsla,alpha){if(alpha===undefined){alpha=hsla[3]!==undefined?hsla[3]:1}return"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+alpha+")"}function hwbString(hwb,alpha){if(alpha===undefined){alpha=hwb[3]!==undefined?hwb[3]:1}return"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"+(alpha!==undefined&&alpha!==1?", "+alpha:"")+")"}function keyword(rgb){return reverseNames[rgb.slice(0,3)]}function scale(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}var reverseNames={};for(var name in colorName$1){reverseNames[colorName$1[name]]=name}var Color=function(obj){if(obj instanceof Color){return obj}if(!(this instanceof Color)){return new Color(obj)}this.valid=false;this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if(typeof obj==="string"){vals=colorString.getRgba(obj);if(vals){this.setValues("rgb",vals)}else if(vals=colorString.getHsla(obj)){this.setValues("hsl",vals)}else if(vals=colorString.getHwb(obj)){this.setValues("hwb",vals)}}else if(typeof obj==="object"){vals=obj;if(vals.r!==undefined||vals.red!==undefined){this.setValues("rgb",vals)}else if(vals.l!==undefined||vals.lightness!==undefined){this.setValues("hsl",vals)}else if(vals.v!==undefined||vals.value!==undefined){this.setValues("hsv",vals)}else if(vals.w!==undefined||vals.whiteness!==undefined){this.setValues("hwb",vals)}else if(vals.c!==undefined||vals.cyan!==undefined){this.setValues("cmyk",vals)}}};if(Color.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var values=this.values;if(values.alpha!==1){return values.hwb.concat([values.alpha])}return values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var values=this.values;return values.rgb.concat([values.alpha])},hslaArray:function(){var values=this.values;return values.hsl.concat([values.alpha])},alpha:function(val){if(val===undefined){return this.values.alpha}this.setValues("alpha",val);return this},red:function(val){return this.setChannel("rgb",0,val)},green:function(val){return this.setChannel("rgb",1,val)},blue:function(val){return this.setChannel("rgb",2,val)},hue:function(val){if(val){val%=360;val=val<0?360+val:val}return this.setChannel("hsl",0,val)},saturation:function(val){return this.setChannel("hsl",1,val)},lightness:function(val){return this.setChannel("hsl",2,val)},saturationv:function(val){return this.setChannel("hsv",1,val)},whiteness:function(val){return this.setChannel("hwb",1,val)},blackness:function(val){return this.setChannel("hwb",2,val)},value:function(val){return this.setChannel("hsv",2,val)},cyan:function(val){return this.setChannel("cmyk",0,val)},magenta:function(val){return this.setChannel("cmyk",1,val)},yellow:function(val){return this.setChannel("cmyk",2,val)},black:function(val){return this.setChannel("cmyk",3,val)},hexString:function(){return colorString.hexString(this.values.rgb)},rgbString:function(){return colorString.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return colorString.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return colorString.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return colorString.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return colorString.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return colorString.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return colorString.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var rgb=this.values.rgb;return rgb[0]<<16|rgb[1]<<8|rgb[2]},luminosity:function(){var rgb=this.values.rgb;var lum=[];for(var i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity();var lum2=color2.luminosity();if(lum1>lum2){return(lum1+.05)/(lum2+.05)}return(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);if(contrastRatio>=7.1){return"AAA"}return contrastRatio>=4.5?"AA":""},dark:function(){var rgb=this.values.rgb;var yiq=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/1e3;return yiq<128},light:function(){return!this.dark()},negate:function(){var rgb=[];for(var i=0;i<3;i++){rgb[i]=255-this.values.rgb[i]}this.setValues("rgb",rgb);return this},lighten:function(ratio){var hsl=this.values.hsl;hsl[2]+=hsl[2]*ratio;this.setValues("hsl",hsl);return this},darken:function(ratio){var hsl=this.values.hsl;hsl[2]-=hsl[2]*ratio;this.setValues("hsl",hsl);return this},saturate:function(ratio){var hsl=this.values.hsl;hsl[1]+=hsl[1]*ratio;this.setValues("hsl",hsl);return this},desaturate:function(ratio){var hsl=this.values.hsl;hsl[1]-=hsl[1]*ratio;this.setValues("hsl",hsl);return this},whiten:function(ratio){var hwb=this.values.hwb;hwb[1]+=hwb[1]*ratio;this.setValues("hwb",hwb);return this},blacken:function(ratio){var hwb=this.values.hwb;hwb[2]+=hwb[2]*ratio;this.setValues("hwb",hwb);return this},greyscale:function(){var rgb=this.values.rgb;var val=rgb[0]*.3+rgb[1]*.59+rgb[2]*.11;this.setValues("rgb",[val,val,val]);return this},clearer:function(ratio){var alpha=this.values.alpha;this.setValues("alpha",alpha-alpha*ratio);return this},opaquer:function(ratio){var alpha=this.values.alpha;this.setValues("alpha",alpha+alpha*ratio);return this},rotate:function(degrees){var hsl=this.values.hsl;var hue=(hsl[0]+degrees)%360;hsl[0]=hue<0?360+hue:hue;this.setValues("hsl",hsl);return this},mix:function(mixinColor,weight){var color1=this;var color2=mixinColor;var p=weight===undefined?.5:weight;var w=2*p-1;var a=color1.alpha()-color2.alpha();var w1=((w*a===-1?w:(w+a)/(1+w*a))+1)/2;var w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var result=new Color;var source=this.values;var target=result.values;var value,type;for(var prop in source){if(source.hasOwnProperty(prop)){value=source[prop];type={}.toString.call(value);if(type==="[object Array]"){target[prop]=value.slice(0)}else if(type==="[object Number]"){target[prop]=value}else{console.error("unexpected color value:",value)}}}return result}},Color.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Color.prototype.getValues=function(space){var values=this.values;var vals={};for(var i=0;i<space.length;i++){vals[space.charAt(i)]=values[space][i]}if(values.alpha!==1){vals.a=values.alpha}return vals},Color.prototype.setValues=function(space,vals){var values=this.values;var spaces=this.spaces;var maxes=this.maxes;var alpha=1;var i;this.valid=true;if(space==="alpha"){alpha=vals}else if(vals.length){values[space]=vals.slice(0,space.length);alpha=vals[space.length]}else if(vals[space.charAt(0)]!==undefined){for(i=0;i<space.length;i++){values[space][i]=vals[space.charAt(i)]}alpha=vals.a}else if(vals[spaces[space][0]]!==undefined){var chans=spaces[space];for(i=0;i<space.length;i++){values[space][i]=vals[chans[i]]}alpha=vals.alpha}values.alpha=Math.max(0,Math.min(1,alpha===undefined?values.alpha:alpha));if(space==="alpha"){return false}var capped;for(i=0;i<space.length;i++){capped=Math.max(0,Math.min(maxes[space][i],values[space][i]));values[space][i]=Math.round(capped)}for(var sname in spaces){if(sname!==space){values[sname]=colorConvert[space][sname](values[space])}}return true},Color.prototype.setSpace=function(space,args){var vals=args[0];if(vals===undefined){return this.getValues(space)}if(typeof vals==="number"){vals=Array.prototype.slice.call(args)}this.setValues(space,vals);return this},Color.prototype.setChannel=function(space,index,val){var svalues=this.values[space];if(val===undefined){return svalues[index]}else if(val===svalues[index]){return this}svalues[index]=val;this.setValues(space,svalues);return this},typeof window!=="undefined"){window.Color=Color}var chartjsColor=Color,helpers={noop:function(){},uid:function(){var id=0;return function(){return id++}}(),isNullOrUndef:function(value){return value===null||typeof value==="undefined"},isArray:function(value){if(Array.isArray&&Array.isArray(value)){return true}var type=Object.prototype.toString.call(value);if(type.substr(0,7)==="[object"&&type.substr(-6)==="Array]"){return true}return false},isObject:function(value){return value!==null&&Object.prototype.toString.call(value)==="[object Object]"},isFinite:function(value){return(typeof value==="number"||value instanceof Number)&&isFinite(value)},valueOrDefault:function(value,defaultValue){return typeof value==="undefined"?defaultValue:value},valueAtIndexOrDefault:function(value,index,defaultValue){return helpers.valueOrDefault(helpers.isArray(value)?value[index]:value,defaultValue)},callback:function(fn,args,thisArg){if(fn&&typeof fn.call==="function"){return fn.apply(thisArg,args)}},each:function(loopable,fn,thisArg,reverse){var i,len,keys;if(helpers.isArray(loopable)){len=loopable.length;if(reverse){for(i=len-1;i>=0;i--){fn.call(thisArg,loopable[i],i)}}else{for(i=0;i<len;i++){fn.call(thisArg,loopable[i],i)}}}else if(helpers.isObject(loopable)){keys=Object.keys(loopable);len=keys.length;for(i=0;i<len;i++){fn.call(thisArg,loopable[keys[i]],keys[i])}}},arrayEquals:function(a0,a1){var i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length){return false}for(i=0,ilen=a0.length;i<ilen;++i){v0=a0[i];v1=a1[i];if(v0 instanceof Array&&v1 instanceof Array){if(!helpers.arrayEquals(v0,v1)){return false}}else if(v0!==v1){return false}}return true},clone:function(source){if(helpers.isArray(source)){return source.map(helpers.clone)}if(helpers.isObject(source)){var target={};var keys=Object.keys(source);var klen=keys.length;var k=0;for(;k<klen;++k){target[keys[k]]=helpers.clone(source[keys[k]])}return target}return source},_merger:function(key,target,source,options){var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.merge(tval,sval,options)}else{target[key]=helpers.clone(sval)}},_mergerIf:function(key,target,source){var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.mergeIf(tval,sval)}else if(!target.hasOwnProperty(key)){target[key]=helpers.clone(sval)}},merge:function(target,source,options){var sources=helpers.isArray(source)?source:[source];var ilen=sources.length;var merge,i,keys,klen,k;if(!helpers.isObject(target)){return target}options=options||{};merge=options.merger||helpers._merger;for(i=0;i<ilen;++i){source=sources[i];if(!helpers.isObject(source)){continue}keys=Object.keys(source);for(k=0,klen=keys.length;k<klen;++k){merge(keys[k],target,source,options)}}return target},mergeIf:function(target,source){return helpers.merge(target,source,{merger:helpers._mergerIf})},extend:Object.assign||function(target){return helpers.merge(target,[].slice.call(arguments,1),{merger:function(key,dst,src){dst[key]=src[key]}})},inherits:function(extensions){var me=this;var ChartElement=extensions&&extensions.hasOwnProperty("constructor")?extensions.constructor:function(){return me.apply(this,arguments)};var Surrogate=function(){this.constructor=ChartElement};Surrogate.prototype=me.prototype;ChartElement.prototype=new Surrogate;ChartElement.extend=helpers.inherits;if(extensions){helpers.extend(ChartElement.prototype,extensions)}ChartElement.__super__=me.prototype;return ChartElement},_deprecated:function(scope,value,previous,current){if(value!==undefined){console.warn(scope+': "'+previous+'" is deprecated. Please use "'+current+'" instead')}}},helpers_core=helpers;helpers.callCallback=helpers.callback,helpers.indexOf=function(array,item,fromIndex){return Array.prototype.indexOf.call(array,item,fromIndex)},helpers.getValueOrDefault=helpers.valueOrDefault,helpers.getValueAtIndexOrDefault=helpers.valueAtIndexOrDefault;var effects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){if((t/=.5)<1){return.5*t*t}return-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t=t-1)*t*t+1},easeInOutCubic:function(t){if((t/=.5)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t=t-1)*t*t*t-1)},easeInOutQuart:function(t){if((t/=.5)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t=t-1)*t*t*t*t+1},easeInOutQuint:function(t){if((t/=.5)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return t===0?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return t===1?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){if(t===0){return 0}if(t===1){return 1}if((t/=.5)<1){return.5*Math.pow(2,10*(t-1))}return.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){if(t>=1){return t}return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t=t-1)*t)},easeInOutCirc:function(t){if((t/=.5)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0}if(t===1){return 1}if(!p){p=.3}if(a<1){a=1;s=p/4}else{s=p/(2*Math.PI)*Math.asin(1/a)}return-(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p))},easeOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0}if(t===1){return 1}if(!p){p=.3}if(a<1){a=1;s=p/4}else{s=p/(2*Math.PI)*Math.asin(1/a)}return a*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/p)+1},easeInOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0}if((t/=.5)===2){return 1}if(!p){p=.45}if(a<1){a=1;s=p/4}else{s=p/(2*Math.PI)*Math.asin(1/a)}if(t<1){return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p))}return a*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p)*.5+1},easeInBack:function(t){var s=1.70158;return t*t*((s+1)*t-s)},easeOutBack:function(t){var s=1.70158;return(t=t-1)*t*((s+1)*t+s)+1},easeInOutBack:function(t){var s=1.70158;if((t/=.5)<1){return.5*(t*t*(((s*=1.525)+1)*t-s))}return.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:function(t){return 1-effects.easeOutBounce(1-t)},easeOutBounce:function(t){if(t<1/2.75){return 7.5625*t*t}if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}return 7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){if(t<.5){return effects.easeInBounce(t*2)*.5}return effects.easeOutBounce(t*2-1)*.5+.5}},helpers_easing={effects:effects};helpers_core.easingEffects=effects;var PI=Math.PI,RAD_PER_DEG=PI/180,DOUBLE_PI=PI*2,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,exports$1={clear:function(chart){chart.ctx.clearRect(0,0,chart.width,chart.height)},roundedRect:function(ctx,x,y,width,height,radius){if(radius){var r=Math.min(radius,height/2,width/2);var left=x+r;var top=y+r;var right=x+width-r;var bottom=y+height-r;ctx.moveTo(x,top);if(left<right&&top<bottom){ctx.arc(left,top,r,-PI,-HALF_PI);ctx.arc(right,top,r,-HALF_PI,0);ctx.arc(right,bottom,r,0,HALF_PI);ctx.arc(left,bottom,r,HALF_PI,PI)}else if(left<right){ctx.moveTo(left,y);ctx.arc(right,top,r,-HALF_PI,HALF_PI);ctx.arc(left,top,r,HALF_PI,PI+HALF_PI)}else if(top<bottom){ctx.arc(left,top,r,-PI,0);ctx.arc(left,bottom,r,0,PI)}else{ctx.arc(left,top,r,-PI,PI)}ctx.closePath();ctx.moveTo(x,y)}else{ctx.rect(x,y,width,height)}},drawPoint:function(ctx,style,radius,x,y,rotation){var type,xOffset,yOffset,size,cornerRadius;var rad=(rotation||0)*RAD_PER_DEG;if(style&&typeof style==="object"){type=style.toString();if(type==="[object HTMLImageElement]"||type==="[object HTMLCanvasElement]"){ctx.save();ctx.translate(x,y);ctx.rotate(rad);ctx.drawImage(style,-style.width/2,-style.height/2,style.width,style.height);ctx.restore();return}}if(isNaN(radius)||radius<=0){return}ctx.beginPath();switch(style){default:ctx.arc(x,y,radius,0,DOUBLE_PI);ctx.closePath();break;case"triangle":ctx.moveTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);ctx.closePath();break;case"rectRounded":cornerRadius=radius*.516;size=radius-cornerRadius;xOffset=Math.cos(rad+QUARTER_PI)*size;yOffset=Math.sin(rad+QUARTER_PI)*size;ctx.arc(x-xOffset,y-yOffset,cornerRadius,rad-PI,rad-HALF_PI);ctx.arc(x+yOffset,y-xOffset,cornerRadius,rad-HALF_PI,rad);ctx.arc(x+xOffset,y+yOffset,cornerRadius,rad,rad+HALF_PI);ctx.arc(x-yOffset,y+xOffset,cornerRadius,rad+HALF_PI,rad+PI);ctx.closePath();break;case"rect":if(!rotation){size=Math.SQRT1_2*radius;ctx.rect(x-size,y-size,2*size,2*size);break}rad+=QUARTER_PI;case"rectRot":xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+yOffset,y-xOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.lineTo(x-yOffset,y+xOffset);ctx.closePath();break;case"crossRot":rad+=QUARTER_PI;case"cross":xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case"star":xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);rad+=QUARTER_PI;xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case"line":xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);break;case"dash":ctx.moveTo(x,y);ctx.lineTo(x+Math.cos(rad)*radius,y+Math.sin(rad)*radius);break}ctx.fill();ctx.stroke()},_isPointInArea:function(point,area){var epsilon=1e-6;return point.x>area.left-epsilon&&point.x<area.right+epsilon&&point.y>area.top-epsilon&&point.y<area.bottom+epsilon},clipArea:function(ctx,area){ctx.save();ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip()},unclipArea:function(ctx){ctx.restore()},lineTo:function(ctx,previous,target,flip){var stepped=target.steppedLine;if(stepped){if(stepped==="middle"){var midpoint=(previous.x+target.x)/2;ctx.lineTo(midpoint,flip?target.y:previous.y);ctx.lineTo(midpoint,flip?previous.y:target.y)}else if(stepped==="after"&&!flip||stepped!=="after"&&flip){ctx.lineTo(previous.x,target.y)}else{ctx.lineTo(target.x,previous.y)}ctx.lineTo(target.x,target.y);return}if(!target.tension){ctx.lineTo(target.x,target.y);return}ctx.bezierCurveTo(flip?previous.controlPointPreviousX:previous.controlPointNextX,flip?previous.controlPointPreviousY:previous.controlPointNextY,flip?target.controlPointNextX:target.controlPointPreviousX,flip?target.controlPointNextY:target.controlPointPreviousY,target.x,target.y)}},helpers_canvas=exports$1;helpers_core.clear=exports$1.clear,helpers_core.drawRoundedRectangle=function(ctx){ctx.beginPath();exports$1.roundedRect.apply(exports$1,arguments)};var defaults={_set:function(scope,values){return helpers_core.merge(this[scope]||(this[scope]={}),values)}};defaults._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:true});var core_defaults=defaults,valueOrDefault=helpers_core.valueOrDefault;function toFontString(font){if(!font||helpers_core.isNullOrUndef(font.size)||helpers_core.isNullOrUndef(font.family)){return null}return(font.style?font.style+" ":"")+(font.weight?font.weight+" ":"")+font.size+"px "+font.family}var helpers_options={toLineHeight:function(value,size){var matches=(""+value).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!matches||matches[1]==="normal"){return size*1.2}value=+matches[2];switch(matches[3]){case"px":return value;case"%":value/=100;break}return size*value},toPadding:function(value){var t,r,b,l;if(helpers_core.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0}else{t=r=b=l=+value||0}return{top:t,right:r,bottom:b,left:l,height:t+b,width:l+r}},_parseFont:function(options){var globalDefaults=core_defaults.global;var size=valueOrDefault(options.fontSize,globalDefaults.defaultFontSize);var font={family:valueOrDefault(options.fontFamily,globalDefaults.defaultFontFamily),lineHeight:helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight,globalDefaults.defaultLineHeight),size),size:size,style:valueOrDefault(options.fontStyle,globalDefaults.defaultFontStyle),weight:null,string:""};font.string=toFontString(font);return font},resolve:function(inputs,context,index,info){var cacheable=true;var i,ilen,value;for(i=0,ilen=inputs.length;i<ilen;++i){value=inputs[i];if(value===undefined){continue}if(context!==undefined&&typeof value==="function"){value=value(context);cacheable=false}if(index!==undefined&&helpers_core.isArray(value)){value=value[index];cacheable=false}if(value!==undefined){if(info&&!cacheable){info.cacheable=false}return value}}}},exports$2={_factorize:function(value){var result=[];var sqrt=Math.sqrt(value);var i;for(i=1;i<sqrt;i++){if(value%i===0){result.push(i);result.push(value/i)}}if(sqrt===(sqrt|0)){result.push(sqrt)}result.sort(function(a,b){return a-b}).pop();return result},log10:Math.log10||function(x){var exponent=Math.log(x)*Math.LOG10E;var powerOf10=Math.round(exponent);var isPowerOf10=x===Math.pow(10,powerOf10);return isPowerOf10?powerOf10:exponent}},helpers_math=exports$2;helpers_core.log10=exports$2.log10;var getRtlAdapter=function(rectX,width){return{x:function(x){return rectX+rectX+width-x},setWidth:function(w){width=w},textAlign:function(align){if(align==="center"){return align}return align==="right"?"left":"right"},xPlus:function(x,value){return x-value},leftForLtr:function(x,itemWidth){return x-itemWidth}}},getLtrAdapter=function(){return{x:function(x){return x},setWidth:function(w){},textAlign:function(align){return align},xPlus:function(x,value){return x+value},leftForLtr:function(x,_itemWidth){return x}}},getAdapter,overrideTextDirection,restoreTextDirection,helpers_rtl,helpers$1=helpers_core,easing=helpers_easing,canvas=helpers_canvas,options=helpers_options,math=helpers_math,rtl={getRtlAdapter:function(rtl,rectX,width){return rtl?getRtlAdapter(rectX,width):getLtrAdapter()},overrideTextDirection:function(ctx,direction){var style,original;if(direction==="ltr"||direction==="rtl"){style=ctx.canvas.style;original=[style.getPropertyValue("direction"),style.getPropertyPriority("direction")];style.setProperty("direction",direction,"important");ctx.prevTextDirection=original}},restoreTextDirection:function(ctx){var original=ctx.prevTextDirection;if(original!==undefined){delete ctx.prevTextDirection;ctx.canvas.style.setProperty("direction",original[0],original[1])}}};function interpolate(start,view,model,ease){var keys=Object.keys(model);var i,ilen,key,actual,origin,target,type,c0,c1;for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];target=model[key];if(!view.hasOwnProperty(key)){view[key]=target}actual=view[key];if(actual===target||key[0]==="_"){continue}if(!start.hasOwnProperty(key)){start[key]=actual}origin=start[key];type=typeof target;if(type===typeof origin){if(type==="string"){c0=chartjsColor(origin);if(c0.valid){c1=chartjsColor(target);if(c1.valid){view[key]=c1.mix(c0,ease).rgbString();continue}}}else if(helpers$1.isFinite(origin)&&helpers$1.isFinite(target)){view[key]=origin+(target-origin)*ease;continue}}view[key]=target}}helpers$1.easing=easing,helpers$1.canvas=canvas,helpers$1.options=options,helpers$1.math=math,helpers$1.rtl=rtl;var Element=function(configuration){helpers$1.extend(this,configuration);this.initialize.apply(this,arguments)};helpers$1.extend(Element.prototype,{_type:undefined,initialize:function(){this.hidden=false},pivot:function(){var me=this;if(!me._view){me._view=helpers$1.extend({},me._model)}me._start={};return me},transition:function(ease){var me=this;var model=me._model;var start=me._start;var view=me._view;if(!model||ease===1){me._view=helpers$1.extend({},model);me._start=null;return me}if(!view){view=me._view={}}if(!start){start=me._start={}}interpolate(start,view,model,ease);return me},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return helpers$1.isNumber(this._model.x)&&helpers$1.isNumber(this._model.y)}}),Element.extend=helpers$1.inherits;var core_element=Element,exports$3=core_element.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),core_animation=exports$3;Object.defineProperty(exports$3.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(exports$3.prototype,"chartInstance",{get:function(){return this.chart},set:function(value){this.chart=value}}),core_defaults._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:helpers$1.noop,onComplete:helpers$1.noop}});var core_animations={animations:[],request:null,addAnimation:function(chart,animation,duration,lazy){var animations=this.animations;var i,ilen;animation.chart=chart;animation.startTime=Date.now();animation.duration=duration;if(!lazy){chart.animating=true}for(i=0,ilen=animations.length;i<ilen;++i){if(animations[i].chart===chart){animations[i]=animation;return}}animations.push(animation);if(animations.length===1){this.requestAnimationFrame()}},cancelAnimation:function(chart){var index=helpers$1.findIndex(this.animations,function(animation){return animation.chart===chart});if(index!==-1){this.animations.splice(index,1);chart.animating=false}},requestAnimationFrame:function(){var me=this;if(me.request===null){me.request=helpers$1.requestAnimFrame.call(window,function(){me.request=null;me.startDigest()})}},startDigest:function(){var me=this;me.advance();if(me.animations.length>0){me.requestAnimationFrame()}},advance:function(){var animations=this.animations;var animation,chart,numSteps,nextStep;var i=0;while(i<animations.length){animation=animations[i];chart=animation.chart;numSteps=animation.numSteps;nextStep=Math.floor((Date.now()-animation.startTime)/animation.duration*numSteps)+1;animation.currentStep=Math.min(nextStep,numSteps);helpers$1.callback(animation.render,[chart,animation],chart);helpers$1.callback(animation.onAnimationProgress,[animation],chart);if(animation.currentStep>=numSteps){helpers$1.callback(animation.onAnimationComplete,[animation],chart);chart.animating=false;animations.splice(i,1)}else{++i}}}},resolve=helpers$1.options.resolve,arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(array,listener){if(array._chartjs){array._chartjs.listeners.push(listener);return}Object.defineProperty(array,"_chartjs",{configurable:true,enumerable:false,value:{listeners:[listener]}});arrayEvents.forEach(function(key){var method="onData"+key.charAt(0).toUpperCase()+key.slice(1);var base=array[key];Object.defineProperty(array,key,{configurable:true,enumerable:false,value:function(){var args=Array.prototype.slice.call(arguments);var res=base.apply(this,args);helpers$1.each(array._chartjs.listeners,function(object){if(typeof object[method]==="function"){object[method].apply(object,args)}});return res}})})}function unlistenArrayEvents(array,listener){var stub=array._chartjs;if(!stub){return}var listeners=stub.listeners;var index=listeners.indexOf(listener);if(index!==-1){listeners.splice(index,1)}if(listeners.length>0){return}arrayEvents.forEach(function(key){delete array[key]});delete array._chartjs}var DatasetController=function(chart,datasetIndex){this.initialize(chart,datasetIndex)};helpers$1.extend(DatasetController.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(chart,datasetIndex){var me=this;me.chart=chart;me.index=datasetIndex;me.linkScales();me.addElements();me._type=me.getMeta().type},updateIndex:function(datasetIndex){this.index=datasetIndex},linkScales:function(){var me=this;var meta=me.getMeta();var chart=me.chart;var scales=chart.scales;var dataset=me.getDataset();var scalesOpts=chart.options.scales;if(meta.xAxisID===null||!(meta.xAxisID in scales)||dataset.xAxisID){meta.xAxisID=dataset.xAxisID||scalesOpts.xAxes[0].id}if(meta.yAxisID===null||!(meta.yAxisID in scales)||dataset.yAxisID){meta.yAxisID=dataset.yAxisID||scalesOpts.yAxes[0].id}},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(scaleID){return this.chart.scales[scaleID]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(true)},destroy:function(){if(this._data){unlistenArrayEvents(this._data,this)}},createMetaDataset:function(){var me=this;var type=me.datasetElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index})},createMetaData:function(index){var me=this;var type=me.dataElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index,_index:index})},addElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data||[];var metaData=meta.data;var i,ilen;for(i=0,ilen=data.length;i<ilen;++i){metaData[i]=metaData[i]||me.createMetaData(i)}meta.dataset=meta.dataset||me.createMetaDataset()},addElementAndReset:function(index){var element=this.createMetaData(index);this.getMeta().data.splice(index,0,element);this.updateElement(element,index,true)},buildOrUpdateElements:function(){var me=this;var dataset=me.getDataset();var data=dataset.data||(dataset.data=[]);if(me._data!==data){if(me._data){unlistenArrayEvents(me._data,me)}if(data&&Object.isExtensible(data)){listenArrayEvents(data,me)}me._data=data}me.resyncElements()},_configure:function(){var me=this;me._config=helpers$1.merge({},[me.chart.options.datasets[me._type],me.getDataset()],{merger:function(key,target,source){if(key!=="_meta"&&key!=="data"){helpers$1._merger(key,target,source)}}})},_update:function(reset){var me=this;me._configure();me._cachedDataOpts=null;me.update(reset)},update:helpers$1.noop,transition:function(easingValue){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;for(;i<ilen;++i){elements[i].transition(easingValue)}if(meta.dataset){meta.dataset.transition(easingValue)}},draw:function(){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;if(meta.dataset){meta.dataset.draw()}for(;i<ilen;++i){elements[i].draw()}},getStyle:function(index){var me=this;var meta=me.getMeta();var dataset=meta.dataset;var style;me._configure();if(dataset&&index===undefined){style=me._resolveDatasetElementOptions(dataset||{})}else{index=index||0;style=me._resolveDataElementOptions(meta.data[index]||{},index)}if(style.fill===false||style.fill===null){style.backgroundColor=style.borderColor}return style},_resolveDatasetElementOptions:function(element,hover){var me=this;var chart=me.chart;var datasetOpts=me._config;var custom=element.custom||{};var options=chart.options.elements[me.datasetElementType.prototype._type]||{};var elementOptions=me._datasetElementOptions;var values={};var i,ilen,key,readKey;var context={chart:chart,dataset:me.getDataset(),datasetIndex:me.index,hover:hover};for(i=0,ilen=elementOptions.length;i<ilen;++i){key=elementOptions[i];readKey=hover?"hover"+key.charAt(0).toUpperCase()+key.slice(1):key;values[key]=resolve([custom[readKey],datasetOpts[readKey],options[readKey]],context)}return values},_resolveDataElementOptions:function(element,index){var me=this;var custom=element&&element.custom;var cached=me._cachedDataOpts;if(cached&&!custom){return cached}var chart=me.chart;var datasetOpts=me._config;var options=chart.options.elements[me.dataElementType.prototype._type]||{};var elementOptions=me._dataElementOptions;var values={};var context={chart:chart,dataIndex:index,dataset:me.getDataset(),datasetIndex:me.index};var info={cacheable:!custom};var keys,i,ilen,key;custom=custom||{};if(helpers$1.isArray(elementOptions)){for(i=0,ilen=elementOptions.length;i<ilen;++i){key=elementOptions[i];values[key]=resolve([custom[key],datasetOpts[key],options[key]],context,index,info)}}else{keys=Object.keys(elementOptions);for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];values[key]=resolve([custom[key],datasetOpts[elementOptions[key]],datasetOpts[key],options[key]],context,index,info)}}if(info.cacheable){me._cachedDataOpts=Object.freeze(values)}return values},removeHoverStyle:function(element){helpers$1.merge(element._model,element.$previousStyle||{});delete element.$previousStyle},setHoverStyle:function(element){var dataset=this.chart.data.datasets[element._datasetIndex];var index=element._index;var custom=element.custom||{};var model=element._model;var getHoverColor=helpers$1.getHoverColor;element.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth};model.backgroundColor=resolve([custom.hoverBackgroundColor,dataset.hoverBackgroundColor,getHoverColor(model.backgroundColor)],undefined,index);model.borderColor=resolve([custom.hoverBorderColor,dataset.hoverBorderColor,getHoverColor(model.borderColor)],undefined,index);model.borderWidth=resolve([custom.hoverBorderWidth,dataset.hoverBorderWidth,model.borderWidth],undefined,index)},_removeDatasetHoverStyle:function(){var element=this.getMeta().dataset;if(element){this.removeHoverStyle(element)}},_setDatasetHoverStyle:function(){var element=this.getMeta().dataset;var prev={};var i,ilen,key,keys,hoverOptions,model;if(!element){return}model=element._model;hoverOptions=this._resolveDatasetElementOptions(element,true);keys=Object.keys(hoverOptions);for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];prev[key]=model[key];model[key]=hoverOptions[key]}element.$previousStyle=prev},resyncElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data;var numMeta=meta.data.length;var numData=data.length;if(numData<numMeta){meta.data.splice(numData,numMeta-numData)}else if(numData>numMeta){me.insertElements(numMeta,numData-numMeta)}},insertElements:function(start,count){for(var i=0;i<count;++i){this.addElementAndReset(start+i)}},onDataPush:function(){var count=arguments.length;this.insertElements(this.getDataset().data.length-count,count)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(start,count){this.getMeta().data.splice(start,count);this.insertElements(start,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),DatasetController.extend=helpers$1.inherits;var core_datasetController=DatasetController,TAU=Math.PI*2;function clipArc(ctx,arc){var startAngle=arc.startAngle;var endAngle=arc.endAngle;var pixelMargin=arc.pixelMargin;var angleMargin=pixelMargin/arc.outerRadius;var x=arc.x;var y=arc.y;ctx.beginPath();ctx.arc(x,y,arc.outerRadius,startAngle-angleMargin,endAngle+angleMargin);if(arc.innerRadius>pixelMargin){angleMargin=pixelMargin/arc.innerRadius;ctx.arc(x,y,arc.innerRadius-pixelMargin,endAngle+angleMargin,startAngle-angleMargin,true)}else{ctx.arc(x,y,pixelMargin,endAngle+Math.PI/2,startAngle-Math.PI/2)}ctx.closePath();ctx.clip()}function drawFullCircleBorders(ctx,vm,arc,inner){var endAngle=arc.endAngle;var i;if(inner){arc.endAngle=arc.startAngle+TAU;clipArc(ctx,arc);arc.endAngle=endAngle;if(arc.endAngle===arc.startAngle&&arc.fullCircles){arc.endAngle+=TAU;arc.fullCircles--}}ctx.beginPath();ctx.arc(arc.x,arc.y,arc.innerRadius,arc.startAngle+TAU,arc.startAngle,true);for(i=0;i<arc.fullCircles;++i){ctx.stroke()}ctx.beginPath();ctx.arc(arc.x,arc.y,vm.outerRadius,arc.startAngle,arc.startAngle+TAU);for(i=0;i<arc.fullCircles;++i){ctx.stroke()}}function drawBorder(ctx,vm,arc){var inner=vm.borderAlign==="inner";if(inner){ctx.lineWidth=vm.borderWidth*2;ctx.lineJoin="round"}else{ctx.lineWidth=vm.borderWidth;ctx.lineJoin="bevel"}if(arc.fullCircles){drawFullCircleBorders(ctx,vm,arc,inner)}if(inner){clipArc(ctx,arc)}ctx.beginPath();ctx.arc(arc.x,arc.y,vm.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();ctx.stroke()}core_defaults._set("global",{elements:{arc:{backgroundColor:core_defaults.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var element_arc=core_element.extend({_type:"arc",inLabelRange:function(mouseX){var vm=this._view;if(vm){return Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hoverRadius,2)}return false},inRange:function(chartX,chartY){var vm=this._view;if(vm){var pointRelativePosition=helpers$1.getAngleFromPoint(vm,{x:chartX,y:chartY});var angle=pointRelativePosition.angle;var distance=pointRelativePosition.distance;var startAngle=vm.startAngle;var endAngle=vm.endAngle;while(endAngle<startAngle){endAngle+=TAU}while(angle>endAngle){angle-=TAU}while(angle<startAngle){angle+=TAU}var betweenAngles=angle>=startAngle&&angle<=endAngle;var withinRadius=distance>=vm.innerRadius&&distance<=vm.outerRadius;return betweenAngles&&withinRadius}return false},getCenterPoint:function(){var vm=this._view;var halfAngle=(vm.startAngle+vm.endAngle)/2;var halfRadius=(vm.innerRadius+vm.outerRadius)/2;return{x:vm.x+Math.cos(halfAngle)*halfRadius,y:vm.y+Math.sin(halfAngle)*halfRadius}},getArea:function(){var vm=this._view;return Math.PI*((vm.endAngle-vm.startAngle)/(2*Math.PI))*(Math.pow(vm.outerRadius,2)-Math.pow(vm.innerRadius,2))},tooltipPosition:function(){var vm=this._view;var centreAngle=vm.startAngle+(vm.endAngle-vm.startAngle)/2;var rangeFromCentre=(vm.outerRadius-vm.innerRadius)/2+vm.innerRadius;return{x:vm.x+Math.cos(centreAngle)*rangeFromCentre,y:vm.y+Math.sin(centreAngle)*rangeFromCentre}},draw:function(){var ctx=this._chart.ctx;var vm=this._view;var pixelMargin=vm.borderAlign==="inner"?.33:0;var arc={x:vm.x,y:vm.y,innerRadius:vm.innerRadius,outerRadius:Math.max(vm.outerRadius-pixelMargin,0),pixelMargin:pixelMargin,startAngle:vm.startAngle,endAngle:vm.endAngle,fullCircles:Math.floor(vm.circumference/TAU)};var i;ctx.save();ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;if(arc.fullCircles){arc.endAngle=arc.startAngle+TAU;ctx.beginPath();ctx.arc(arc.x,arc.y,arc.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();for(i=0;i<arc.fullCircles;++i){ctx.fill()}arc.endAngle=arc.startAngle+vm.circumference%TAU}ctx.beginPath();ctx.arc(arc.x,arc.y,arc.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();ctx.fill();if(vm.borderWidth){drawBorder(ctx,vm,arc)}ctx.restore()}}),valueOrDefault$1=helpers$1.valueOrDefault,defaultColor=core_defaults.global.defaultColor;core_defaults._set("global",{elements:{line:{tension:.4,backgroundColor:defaultColor,borderWidth:3,borderColor:defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:true,fill:true}}});var element_line=core_element.extend({_type:"line",draw:function(){var me=this;var vm=me._view;var ctx=me._chart.ctx;var spanGaps=vm.spanGaps;var points=me._children.slice();var globalDefaults=core_defaults.global;var globalOptionLineElements=globalDefaults.elements.line;var lastDrawnIndex=-1;var closePath=me._loop;var index,previous,currentVM;if(!points.length){return}if(me._loop){for(index=0;index<points.length;++index){previous=helpers$1.previousItem(points,index);if(!points[index]._view.skip&&previous._view.skip){points=points.slice(index).concat(points.slice(0,index));closePath=spanGaps;break}}if(closePath){points.push(points[0])}}ctx.save();ctx.lineCap=vm.borderCapStyle||globalOptionLineElements.borderCapStyle;if(ctx.setLineDash){ctx.setLineDash(vm.borderDash||globalOptionLineElements.borderDash)}ctx.lineDashOffset=valueOrDefault$1(vm.borderDashOffset,globalOptionLineElements.borderDashOffset);ctx.lineJoin=vm.borderJoinStyle||globalOptionLineElements.borderJoinStyle;ctx.lineWidth=valueOrDefault$1(vm.borderWidth,globalOptionLineElements.borderWidth);ctx.strokeStyle=vm.borderColor||globalDefaults.defaultColor;ctx.beginPath();currentVM=points[0]._view;if(!currentVM.skip){ctx.moveTo(currentVM.x,currentVM.y);lastDrawnIndex=0}for(index=1;index<points.length;++index){currentVM=points[index]._view;previous=lastDrawnIndex===-1?helpers$1.previousItem(points,index):points[lastDrawnIndex];if(!currentVM.skip){if(lastDrawnIndex!==index-1&&!spanGaps||lastDrawnIndex===-1){ctx.moveTo(currentVM.x,currentVM.y)}else{helpers$1.canvas.lineTo(ctx,previous._view,currentVM)}lastDrawnIndex=index}}if(closePath){ctx.closePath()}ctx.stroke();ctx.restore()}}),valueOrDefault$2=helpers$1.valueOrDefault,defaultColor$1=core_defaults.global.defaultColor;function xRange(mouseX){var vm=this._view;return vm?Math.abs(mouseX-vm.x)<vm.radius+vm.hitRadius:false}function yRange(mouseY){var vm=this._view;return vm?Math.abs(mouseY-vm.y)<vm.radius+vm.hitRadius:false}core_defaults._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:defaultColor$1,borderColor:defaultColor$1,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var element_point=core_element.extend({_type:"point",inRange:function(mouseX,mouseY){var vm=this._view;return vm?Math.pow(mouseX-vm.x,2)+Math.pow(mouseY-vm.y,2)<Math.pow(vm.hitRadius+vm.radius,2):false},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var vm=this._view;return{x:vm.x,y:vm.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y,padding:vm.radius+vm.borderWidth}},draw:function(chartArea){var vm=this._view;var ctx=this._chart.ctx;var pointStyle=vm.pointStyle;var rotation=vm.rotation;var radius=vm.radius;var x=vm.x;var y=vm.y;var globalDefaults=core_defaults.global;var defaultColor=globalDefaults.defaultColor;if(vm.skip){return}if(chartArea===undefined||helpers$1.canvas._isPointInArea(vm,chartArea)){ctx.strokeStyle=vm.borderColor||defaultColor;ctx.lineWidth=valueOrDefault$2(vm.borderWidth,globalDefaults.elements.point.borderWidth);ctx.fillStyle=vm.backgroundColor||defaultColor;helpers$1.canvas.drawPoint(ctx,pointStyle,radius,x,y,rotation)}}}),defaultColor$2=core_defaults.global.defaultColor;function isVertical(vm){return vm&&vm.width!==undefined}function getBarBounds(vm){var x1,x2,y1,y2,half;if(isVertical(vm)){half=vm.width/2;x1=vm.x-half;x2=vm.x+half;y1=Math.min(vm.y,vm.base);y2=Math.max(vm.y,vm.base)}else{half=vm.height/2;x1=Math.min(vm.x,vm.base);x2=Math.max(vm.x,vm.base);y1=vm.y-half;y2=vm.y+half}return{left:x1,top:y1,right:x2,bottom:y2}}function swap(orig,v1,v2){return orig===v1?v2:orig===v2?v1:orig}function parseBorderSkipped(vm){var edge=vm.borderSkipped;var res={};if(!edge){return res}if(vm.horizontal){if(vm.base>vm.x){edge=swap(edge,"left","right")}}else if(vm.base<vm.y){edge=swap(edge,"bottom","top")}res[edge]=true;return res}function parseBorderWidth(vm,maxW,maxH){var value=vm.borderWidth;var skip=parseBorderSkipped(vm);var t,r,b,l;if(helpers$1.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0}else{t=r=b=l=+value||0}return{t:skip.top||t<0?0:t>maxH?maxH:t,r:skip.right||r<0?0:r>maxW?maxW:r,b:skip.bottom||b<0?0:b>maxH?maxH:b,l:skip.left||l<0?0:l>maxW?maxW:l}}function boundingRects(vm){var bounds=getBarBounds(vm);var width=bounds.right-bounds.left;var height=bounds.bottom-bounds.top;var border=parseBorderWidth(vm,width/2,height/2);return{outer:{x:bounds.left,y:bounds.top,w:width,h:height},inner:{x:bounds.left+border.l,y:bounds.top+border.t,w:width-border.l-border.r,h:height-border.t-border.b}}}function inRange(vm,x,y){var skipX=x===null;var skipY=y===null;var bounds=!vm||skipX&&skipY?false:getBarBounds(vm);return bounds&&(skipX||x>=bounds.left&&x<=bounds.right)&&(skipY||y>=bounds.top&&y<=bounds.bottom)}core_defaults._set("global",{elements:{rectangle:{backgroundColor:defaultColor$2,borderColor:defaultColor$2,borderSkipped:"bottom",borderWidth:0}}});var element_rectangle=core_element.extend({_type:"rectangle",draw:function(){var ctx=this._chart.ctx;var vm=this._view;var rects=boundingRects(vm);var outer=rects.outer;var inner=rects.inner;ctx.fillStyle=vm.backgroundColor;ctx.fillRect(outer.x,outer.y,outer.w,outer.h);if(outer.w===inner.w&&outer.h===inner.h){return}ctx.save();ctx.beginPath();ctx.rect(outer.x,outer.y,outer.w,outer.h);ctx.clip();ctx.fillStyle=vm.borderColor;ctx.rect(inner.x,inner.y,inner.w,inner.h);ctx.fill("evenodd");ctx.restore()},height:function(){var vm=this._view;return vm.base-vm.y},inRange:function(mouseX,mouseY){return inRange(this._view,mouseX,mouseY)},inLabelRange:function(mouseX,mouseY){var vm=this._view;return isVertical(vm)?inRange(vm,mouseX,null):inRange(vm,null,mouseY)},inXRange:function(mouseX){return inRange(this._view,mouseX,null)},inYRange:function(mouseY){return inRange(this._view,null,mouseY)},getCenterPoint:function(){var vm=this._view;var x,y;if(isVertical(vm)){x=vm.x;y=(vm.y+vm.base)/2}else{x=(vm.x+vm.base)/2;y=vm.y}return{x:x,y:y}},getArea:function(){var vm=this._view;return isVertical(vm)?vm.width*Math.abs(vm.y-vm.base):vm.height*Math.abs(vm.x-vm.base)},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y}}}),elements={},Arc=element_arc,Line=element_line,Point=element_point,Rectangle=element_rectangle;elements.Arc=Arc,elements.Line=Line,elements.Point=Point,elements.Rectangle=Rectangle;var deprecated=helpers$1._deprecated,valueOrDefault$3=helpers$1.valueOrDefault;function computeMinSampleSize(scale,pixels){var min=scale._length;var prev,curr,i,ilen;for(i=1,ilen=pixels.length;i<ilen;++i){min=Math.min(min,Math.abs(pixels[i]-pixels[i-1]))}for(i=0,ilen=scale.getTicks().length;i<ilen;++i){curr=scale.getPixelForTick(i);min=i>0?Math.min(min,Math.abs(curr-prev)):min;prev=curr}return min}function computeFitCategoryTraits(index,ruler,options){var thickness=options.barThickness;var count=ruler.stackCount;var curr=ruler.pixels[index];var min=helpers$1.isNullOrUndef(thickness)?computeMinSampleSize(ruler.scale,ruler.pixels):-1;var size,ratio;if(helpers$1.isNullOrUndef(thickness)){size=min*options.categoryPercentage;ratio=options.barPercentage}else{size=thickness*count;ratio=1}return{chunk:size/count,ratio:ratio,start:curr-size/2}}function computeFlexCategoryTraits(index,ruler,options){var pixels=ruler.pixels;var curr=pixels[index];var prev=index>0?pixels[index-1]:null;var next=index<pixels.length-1?pixels[index+1]:null;var percent=options.categoryPercentage;var start,size;if(prev===null){prev=curr-(next===null?ruler.end-ruler.start:next-curr)}if(next===null){next=curr+curr-prev}start=curr-(curr-Math.min(prev,next))/2*percent;size=Math.abs(next-prev)/2*percent;return{chunk:size/ruler.stackCount,ratio:options.barPercentage,start:start}}core_defaults._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:true,gridLines:{offsetGridLines:true}}],yAxes:[{type:"linear"}]}}),core_defaults._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var controller_bar=core_datasetController.extend({dataElementType:elements.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var me=this;var meta,scaleOpts;core_datasetController.prototype.initialize.apply(me,arguments);meta=me.getMeta();meta.stack=me.getDataset().stack;meta.bar=true;scaleOpts=me._getIndexScale().options;deprecated("bar chart",scaleOpts.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage");deprecated("bar chart",scaleOpts.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness");deprecated("bar chart",scaleOpts.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage");deprecated("bar chart",me._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength");deprecated("bar chart",scaleOpts.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(reset){var me=this;var rects=me.getMeta().data;var i,ilen;me._ruler=me.getRuler();for(i=0,ilen=rects.length;i<ilen;++i){me.updateElement(rects[i],i,reset)}},updateElement:function(rectangle,index,reset){var me=this;var meta=me.getMeta();var dataset=me.getDataset();var options=me._resolveDataElementOptions(rectangle,index);rectangle._xScale=me.getScaleForId(meta.xAxisID);rectangle._yScale=me.getScaleForId(meta.yAxisID);rectangle._datasetIndex=me.index;rectangle._index=index;rectangle._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderSkipped:options.borderSkipped,borderWidth:options.borderWidth,datasetLabel:dataset.label,label:me.chart.data.labels[index]};if(helpers$1.isArray(dataset.data[index])){rectangle._model.borderSkipped=null}me._updateElementGeometry(rectangle,index,reset,options);rectangle.pivot()},_updateElementGeometry:function(rectangle,index,reset,options){var me=this;var model=rectangle._model;var vscale=me._getValueScale();var base=vscale.getBasePixel();var horizontal=vscale.isHorizontal();var ruler=me._ruler||me.getRuler();var vpixels=me.calculateBarValuePixels(me.index,index,options);var ipixels=me.calculateBarIndexPixels(me.index,index,ruler,options);model.horizontal=horizontal;model.base=reset?base:vpixels.base;model.x=horizontal?reset?base:vpixels.head:ipixels.center;model.y=horizontal?ipixels.center:reset?base:vpixels.head;model.height=horizontal?ipixels.size:undefined;model.width=horizontal?undefined:ipixels.size},_getStacks:function(last){var me=this;var scale=me._getIndexScale();var metasets=scale._getMatchingVisibleMetas(me._type);var stacked=scale.options.stacked;var ilen=metasets.length;var stacks=[];var i,meta;for(i=0;i<ilen;++i){meta=metasets[i];if(stacked===false||stacks.indexOf(meta.stack)===-1||stacked===undefined&&meta.stack===undefined){stacks.push(meta.stack)}if(meta.index===last){break}}return stacks},getStackCount:function(){return this._getStacks().length},getStackIndex:function(datasetIndex,name){var stacks=this._getStacks(datasetIndex);var index=name!==undefined?stacks.indexOf(name):-1;return index===-1?stacks.length-1:index},getRuler:function(){var me=this;var scale=me._getIndexScale();var pixels=[];var i,ilen;for(i=0,ilen=me.getMeta().data.length;i<ilen;++i){pixels.push(scale.getPixelForValue(null,i,me.index))}return{pixels:pixels,start:scale._startPixel,end:scale._endPixel,stackCount:me.getStackCount(),scale:scale}},calculateBarValuePixels:function(datasetIndex,index,options){var me=this;var chart=me.chart;var scale=me._getValueScale();var isHorizontal=scale.isHorizontal();var datasets=chart.data.datasets;var metasets=scale._getMatchingVisibleMetas(me._type);var value=scale._parseValue(datasets[datasetIndex].data[index]);var minBarLength=options.minBarLength;var stacked=scale.options.stacked;var stack=me.getMeta().stack;var start=value.start===undefined?0:value.max>=0&&value.min>=0?value.min:value.max;var length=value.start===undefined?value.end:value.max>=0&&value.min>=0?value.max-value.min:value.min-value.max;var ilen=metasets.length;var i,imeta,ivalue,base,head,size,stackLength;if(stacked||stacked===undefined&&stack!==undefined){for(i=0;i<ilen;++i){imeta=metasets[i];if(imeta.index===datasetIndex){break}if(imeta.stack===stack){stackLength=scale._parseValue(datasets[imeta.index].data[index]);ivalue=stackLength.start===undefined?stackLength.end:stackLength.min>=0&&stackLength.max>=0?stackLength.max:stackLength.min;if(value.min<0&&ivalue<0||value.max>=0&&ivalue>0){start+=ivalue}}}}base=scale.getPixelForValue(start);head=scale.getPixelForValue(start+length);size=head-base;if(minBarLength!==undefined&&Math.abs(size)<minBarLength){size=minBarLength;if(length>=0&&!isHorizontal||length<0&&isHorizontal){head=base-minBarLength}else{head=base+minBarLength}}return{size:size,base:base,head:head,center:head+size/2}},calculateBarIndexPixels:function(datasetIndex,index,ruler,options){var me=this;var range=options.barThickness==="flex"?computeFlexCategoryTraits(index,ruler,options):computeFitCategoryTraits(index,ruler,options);var stackIndex=me.getStackIndex(datasetIndex,me.getMeta().stack);var center=range.start+range.chunk*stackIndex+range.chunk/2;var size=Math.min(valueOrDefault$3(options.maxBarThickness,Infinity),range.chunk*range.ratio);return{base:center-size/2,head:center+size/2,center:center,size:size}},draw:function(){var me=this;var chart=me.chart;var scale=me._getValueScale();var rects=me.getMeta().data;var dataset=me.getDataset();var ilen=rects.length;var i=0;helpers$1.canvas.clipArea(chart.ctx,chart.chartArea);for(;i<ilen;++i){var val=scale._parseValue(dataset.data[i]);if(!isNaN(val.min)&&!isNaN(val.max)){rects[i].draw()}}helpers$1.canvas.unclipArea(chart.ctx)},_resolveDataElementOptions:function(){var me=this;var values=helpers$1.extend({},core_datasetController.prototype._resolveDataElementOptions.apply(me,arguments));var indexOpts=me._getIndexScale().options;var valueOpts=me._getValueScale().options;values.barPercentage=valueOrDefault$3(indexOpts.barPercentage,values.barPercentage);values.barThickness=valueOrDefault$3(indexOpts.barThickness,values.barThickness);values.categoryPercentage=valueOrDefault$3(indexOpts.categoryPercentage,values.categoryPercentage);values.maxBarThickness=valueOrDefault$3(indexOpts.maxBarThickness,values.maxBarThickness);values.minBarLength=valueOrDefault$3(valueOpts.minBarLength,values.minBarLength);return values}}),valueOrDefault$4=helpers$1.valueOrDefault,resolve$1=helpers$1.options.resolve;core_defaults._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(item,data){var datasetLabel=data.datasets[item.datasetIndex].label||"";var dataPoint=data.datasets[item.datasetIndex].data[item.index];return datasetLabel+": ("+item.xLabel+", "+item.yLabel+", "+dataPoint.r+")"}}}});var controller_bubble=core_datasetController.extend({dataElementType:elements.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(reset){var me=this;var meta=me.getMeta();var points=meta.data;helpers$1.each(points,function(point,index){me.updateElement(point,index,reset)})},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var xScale=me.getScaleForId(meta.xAxisID);var yScale=me.getScaleForId(meta.yAxisID);var options=me._resolveDataElementOptions(point,index);var data=me.getDataset().data[index];var dsIndex=me.index;var x=reset?xScale.getPixelForDecimal(.5):xScale.getPixelForValue(typeof data==="object"?data:NaN,index,dsIndex);var y=reset?yScale.getBasePixel():yScale.getPixelForValue(data,index,dsIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=dsIndex;point._index=index;point._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,hitRadius:options.hitRadius,pointStyle:options.pointStyle,rotation:options.rotation,radius:reset?0:options.radius,skip:custom.skip||isNaN(x)||isNaN(y),x:x,y:y};point.pivot()},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$4(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$4(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$4(options.hoverBorderWidth,options.borderWidth);model.radius=options.radius+options.hoverRadius},_resolveDataElementOptions:function(point,index){var me=this;var chart=me.chart;var dataset=me.getDataset();var custom=point.custom||{};var data=dataset.data[index]||{};var values=core_datasetController.prototype._resolveDataElementOptions.apply(me,arguments);var context={chart:chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};if(me._cachedDataOpts===values){values=helpers$1.extend({},values)}values.radius=resolve$1([custom.radius,data.r,me._config.radius,chart.options.elements.point.radius],context,index);return values}}),valueOrDefault$5=helpers$1.valueOrDefault,PI$1=Math.PI,DOUBLE_PI$1=PI$1*2,HALF_PI$1=PI$1/2;core_defaults._set("doughnut",{animation:{animateRotate:true,animateScale:false},hover:{mode:"single"},legendCallback:function(chart){var list=document.createElement("ul");var data=chart.data;var datasets=data.datasets;var labels=data.labels;var i,ilen,listItem,listItemSpan;list.setAttribute("class",chart.id+"-legend");if(datasets.length){for(i=0,ilen=datasets[0].data.length;i<ilen;++i){listItem=list.appendChild(document.createElement("li"));listItemSpan=listItem.appendChild(document.createElement("span"));listItemSpan.style.backgroundColor=datasets[0].backgroundColor[i];if(labels[i]){listItem.appendChild(document.createTextNode(labels[i]))}}}return list.outerHTML},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i}})}return[]}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);if(meta.data[index]){meta.data[index].hidden=!meta.data[index].hidden}}chart.update()}},cutoutPercentage:50,rotation:-HALF_PI$1,circumference:DOUBLE_PI$1,tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem,data){var dataLabel=data.labels[tooltipItem.index];var value=": "+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];if(helpers$1.isArray(dataLabel)){dataLabel=dataLabel.slice();dataLabel[0]+=value}else{dataLabel+=value}return dataLabel}}}});var controller_doughnut=core_datasetController.extend({dataElementType:elements.Arc,linkScales:helpers$1.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(datasetIndex){var ringIndex=0;for(var j=0;j<datasetIndex;++j){if(this.chart.isDatasetVisible(j)){++ringIndex}}return ringIndex},update:function(reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var ratioX=1;var ratioY=1;var offsetX=0;var offsetY=0;var meta=me.getMeta();var arcs=meta.data;var cutout=opts.cutoutPercentage/100||0;var circumference=opts.circumference;var chartWeight=me._getRingWeight(me.index);var maxWidth,maxHeight,i,ilen;if(circumference<DOUBLE_PI$1){var startAngle=opts.rotation%DOUBLE_PI$1;startAngle+=startAngle>=PI$1?-DOUBLE_PI$1:startAngle<-PI$1?DOUBLE_PI$1:0;var endAngle=startAngle+circumference;var startX=Math.cos(startAngle);var startY=Math.sin(startAngle);var endX=Math.cos(endAngle);var endY=Math.sin(endAngle);var contains0=startAngle<=0&&endAngle>=0||endAngle>=DOUBLE_PI$1;var contains90=startAngle<=HALF_PI$1&&endAngle>=HALF_PI$1||endAngle>=DOUBLE_PI$1+HALF_PI$1;var contains180=startAngle===-PI$1||endAngle>=PI$1;var contains270=startAngle<=-HALF_PI$1&&endAngle>=-HALF_PI$1||endAngle>=PI$1+HALF_PI$1;var minX=contains180?-1:Math.min(startX,startX*cutout,endX,endX*cutout);var minY=contains270?-1:Math.min(startY,startY*cutout,endY,endY*cutout);var maxX=contains0?1:Math.max(startX,startX*cutout,endX,endX*cutout);var maxY=contains90?1:Math.max(startY,startY*cutout,endY,endY*cutout);ratioX=(maxX-minX)/2;ratioY=(maxY-minY)/2;offsetX=-(maxX+minX)/2;offsetY=-(maxY+minY)/2}for(i=0,ilen=arcs.length;i<ilen;++i){arcs[i]._options=me._resolveDataElementOptions(arcs[i],i)}chart.borderWidth=me.getMaxBorderWidth();maxWidth=(chartArea.right-chartArea.left-chart.borderWidth)/ratioX;maxHeight=(chartArea.bottom-chartArea.top-chart.borderWidth)/ratioY;chart.outerRadius=Math.max(Math.min(maxWidth,maxHeight)/2,0);chart.innerRadius=Math.max(chart.outerRadius*cutout,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/(me._getVisibleDatasetWeightTotal()||1);chart.offsetX=offsetX*chart.outerRadius;chart.offsetY=offsetY*chart.outerRadius;meta.total=me.calculateTotal();me.outerRadius=chart.outerRadius-chart.radiusLength*me._getRingWeightOffset(me.index);me.innerRadius=Math.max(me.outerRadius-chart.radiusLength*chartWeight,0);for(i=0,ilen=arcs.length;i<ilen;++i){me.updateElement(arcs[i],i,reset)}},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var animationOpts=opts.animation;var centerX=(chartArea.left+chartArea.right)/2;var centerY=(chartArea.top+chartArea.bottom)/2;var startAngle=opts.rotation;var endAngle=opts.rotation;var dataset=me.getDataset();var circumference=reset&&animationOpts.animateRotate?0:arc.hidden?0:me.calculateCircumference(dataset.data[index])*(opts.circumference/DOUBLE_PI$1);var innerRadius=reset&&animationOpts.animateScale?0:me.innerRadius;var outerRadius=reset&&animationOpts.animateScale?0:me.outerRadius;var options=arc._options||{};helpers$1.extend(arc,{_datasetIndex:me.index,_index:index,_model:{backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,borderAlign:options.borderAlign,x:centerX+chart.offsetX,y:centerY+chart.offsetY,startAngle:startAngle,endAngle:endAngle,circumference:circumference,outerRadius:outerRadius,innerRadius:innerRadius,label:helpers$1.valueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])}});var model=arc._model;if(!reset||!animationOpts.animateRotate){if(index===0){model.startAngle=opts.rotation}else{model.startAngle=me.getMeta().data[index-1]._model.endAngle}model.endAngle=model.startAngle+model.circumference}arc.pivot()},calculateTotal:function(){var dataset=this.getDataset();var meta=this.getMeta();var total=0;var value;helpers$1.each(meta.data,function(element,index){value=dataset.data[index];if(!isNaN(value)&&!element.hidden){total+=Math.abs(value)}});return total},calculateCircumference:function(value){var total=this.getMeta().total;if(total>0&&!isNaN(value)){return DOUBLE_PI$1*(Math.abs(value)/total)}return 0},getMaxBorderWidth:function(arcs){var me=this;var max=0;var chart=me.chart;var i,ilen,meta,arc,controller,options,borderWidth,hoverWidth;if(!arcs){for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);arcs=meta.data;if(i!==me.index){controller=meta.controller}break}}}if(!arcs){return 0}for(i=0,ilen=arcs.length;i<ilen;++i){arc=arcs[i];if(controller){controller._configure();options=controller._resolveDataElementOptions(arc,i)}else{options=arc._options}if(options.borderAlign!=="inner"){borderWidth=options.borderWidth;hoverWidth=options.hoverBorderWidth;max=borderWidth>max?borderWidth:max;max=hoverWidth>max?hoverWidth:max}}return max},setHoverStyle:function(arc){var model=arc._model;var options=arc._options;var getHoverColor=helpers$1.getHoverColor;arc.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth};model.backgroundColor=valueOrDefault$5(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$5(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$5(options.hoverBorderWidth,options.borderWidth)},_getRingWeightOffset:function(datasetIndex){var ringWeightOffset=0;for(var i=0;i<datasetIndex;++i){if(this.chart.isDatasetVisible(i)){ringWeightOffset+=this._getRingWeight(i)}}return ringWeightOffset},_getRingWeight:function(dataSetIndex){return Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});core_defaults._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:true,gridLines:{offsetGridLines:true}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),core_defaults._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var controller_horizontalBar=controller_bar.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),valueOrDefault$6=helpers$1.valueOrDefault,resolve$2=helpers$1.options.resolve,isPointInArea=helpers$1.canvas._isPointInArea;function scaleClip(scale,halfBorderWidth){var tickOpts=scale&&scale.options.ticks||{};var reverse=tickOpts.reverse;var min=tickOpts.min===undefined?halfBorderWidth:0;var max=tickOpts.max===undefined?halfBorderWidth:0;return{start:reverse?max:min,end:reverse?min:max}}function defaultClip(xScale,yScale,borderWidth){var halfBorderWidth=borderWidth/2;var x=scaleClip(xScale,halfBorderWidth);var y=scaleClip(yScale,halfBorderWidth);return{top:y.end,right:x.end,bottom:y.start,left:x.start}}function toClip(value){var t,r,b,l;if(helpers$1.isObject(value)){t=value.top;r=value.right;b=value.bottom;l=value.left}else{t=r=b=l=value}return{top:t,right:r,bottom:b,left:l}}core_defaults._set("line",{showLines:true,spanGaps:false,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var controller_line=core_datasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var options=me.chart.options;var config=me._config;var showLine=me._showLine=valueOrDefault$6(config.showLine,options.showLines);var i,ilen;me._xScale=me.getScaleForId(meta.xAxisID);me._yScale=me.getScaleForId(meta.yAxisID);if(showLine){if(config.tension!==undefined&&config.lineTension===undefined){config.lineTension=config.tension}line._scale=me._yScale;line._datasetIndex=me.index;line._children=points;line._model=me._resolveDatasetElementOptions(line);line.pivot()}for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset)}if(showLine&&line._model.tension!==0){me.updateBezierControlPoints()}for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot()}},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var dataset=me.getDataset();var datasetIndex=me.index;var value=dataset.data[index];var xScale=me._xScale;var yScale=me._yScale;var lineModel=meta.dataset._model;var x,y;var options=me._resolveDataElementOptions(point,index);x=xScale.getPixelForValue(typeof value==="object"?value:NaN,index,datasetIndex);y=reset?yScale.getBasePixel():me.calculatePointY(value,index,datasetIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=datasetIndex;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:options.radius,pointStyle:options.pointStyle,rotation:options.rotation,backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,tension:valueOrDefault$6(custom.tension,lineModel?lineModel.tension:0),steppedLine:lineModel?lineModel.steppedLine:false,hitRadius:options.hitRadius}},_resolveDatasetElementOptions:function(element){var me=this;var config=me._config;var custom=element.custom||{};var options=me.chart.options;var lineOptions=options.elements.line;var values=core_datasetController.prototype._resolveDatasetElementOptions.apply(me,arguments);values.spanGaps=valueOrDefault$6(config.spanGaps,options.spanGaps);values.tension=valueOrDefault$6(config.lineTension,lineOptions.tension);values.steppedLine=resolve$2([custom.steppedLine,config.steppedLine,lineOptions.stepped]);values.clip=toClip(valueOrDefault$6(config.clip,defaultClip(me._xScale,me._yScale,values.borderWidth)));return values},calculatePointY:function(value,index,datasetIndex){var me=this;var chart=me.chart;var yScale=me._yScale;var sumPos=0;var sumNeg=0;var i,ds,dsMeta,stackedRightValue,rightValue,metasets,ilen;if(yScale.options.stacked){rightValue=+yScale.getRightValue(value);metasets=chart._getSortedVisibleDatasetMetas();ilen=metasets.length;for(i=0;i<ilen;++i){dsMeta=metasets[i];if(dsMeta.index===datasetIndex){break}ds=chart.data.datasets[dsMeta.index];if(dsMeta.type==="line"&&dsMeta.yAxisID===yScale.id){stackedRightValue=+yScale.getRightValue(ds.data[index]);if(stackedRightValue<0){sumNeg+=stackedRightValue||0}else{sumPos+=stackedRightValue||0}}}if(rightValue<0){return yScale.getPixelForValue(sumNeg+rightValue)}return yScale.getPixelForValue(sumPos+rightValue)}return yScale.getPixelForValue(value)},updateBezierControlPoints:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var lineModel=meta.dataset._model;var area=chart.chartArea;var points=meta.data||[];var i,ilen,model,controlPoints;if(lineModel.spanGaps){points=points.filter(function(pt){return!pt._model.skip})}function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min)}if(lineModel.cubicInterpolationMode==="monotone"){helpers$1.splineCurveMonotone(points)}else{for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;controlPoints=helpers$1.splineCurve(helpers$1.previousItem(points,i)._model,model,helpers$1.nextItem(points,i)._model,lineModel.tension);model.controlPointPreviousX=controlPoints.previous.x;model.controlPointPreviousY=controlPoints.previous.y;model.controlPointNextX=controlPoints.next.x;model.controlPointNextY=controlPoints.next.y}}if(chart.options.elements.line.capBezierPoints){for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;if(isPointInArea(model,area)){if(i>0&&isPointInArea(points[i-1]._model,area)){model.controlPointPreviousX=capControlPoint(model.controlPointPreviousX,area.left,area.right);model.controlPointPreviousY=capControlPoint(model.controlPointPreviousY,area.top,area.bottom)}if(i<points.length-1&&isPointInArea(points[i+1]._model,area)){model.controlPointNextX=capControlPoint(model.controlPointNextX,area.left,area.right);model.controlPointNextY=capControlPoint(model.controlPointNextY,area.top,area.bottom)}}}}},draw:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var points=meta.data||[];var area=chart.chartArea;var canvas=chart.canvas;var i=0;var ilen=points.length;var clip;if(me._showLine){clip=meta.dataset._model.clip;helpers$1.canvas.clipArea(chart.ctx,{left:clip.left===false?0:area.left-clip.left,right:clip.right===false?canvas.width:area.right+clip.right,top:clip.top===false?0:area.top-clip.top,bottom:clip.bottom===false?canvas.height:area.bottom+clip.bottom});meta.dataset.draw();helpers$1.canvas.unclipArea(chart.ctx)}for(;i<ilen;++i){points[i].draw(area)}},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$6(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$6(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$6(options.hoverBorderWidth,options.borderWidth);model.radius=valueOrDefault$6(options.hoverRadius,options.radius)}}),resolve$3=helpers$1.options.resolve;core_defaults._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:false},gridLines:{circular:true},pointLabels:{display:false},ticks:{beginAtZero:true}},animation:{animateRotate:true,animateScale:true},startAngle:-.5*Math.PI,legendCallback:function(chart){var list=document.createElement("ul");var data=chart.data;var datasets=data.datasets;var labels=data.labels;var i,ilen,listItem,listItemSpan;list.setAttribute("class",chart.id+"-legend");if(datasets.length){for(i=0,ilen=datasets[0].data.length;i<ilen;++i){listItem=list.appendChild(document.createElement("li"));listItemSpan=listItem.appendChild(document.createElement("span"));listItemSpan.style.backgroundColor=datasets[0].backgroundColor[i];if(labels[i]){listItem.appendChild(document.createTextNode(labels[i]))}}}return list.outerHTML},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i}})}return[]}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);meta.data[index].hidden=!meta.data[index].hidden}chart.update()}},tooltips:{callbacks:{title:function(){return""},label:function(item,data){return data.labels[item.index]+": "+item.yLabel}}}});var controller_polarArea=core_datasetController.extend({dataElementType:elements.Arc,linkScales:helpers$1.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(reset){var me=this;var dataset=me.getDataset();var meta=me.getMeta();var start=me.chart.options.startAngle||0;var starts=me._starts=[];var angles=me._angles=[];var arcs=meta.data;var i,ilen,angle;me._updateRadius();meta.count=me.countVisibleElements();for(i=0,ilen=dataset.data.length;i<ilen;i++){starts[i]=start;angle=me._computeAngle(i);angles[i]=angle;start+=angle}for(i=0,ilen=arcs.length;i<ilen;++i){arcs[i]._options=me._resolveDataElementOptions(arcs[i],i);me.updateElement(arcs[i],i,reset)}},_updateRadius:function(){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var minSize=Math.min(chartArea.right-chartArea.left,chartArea.bottom-chartArea.top);chart.outerRadius=Math.max(minSize/2,0);chart.innerRadius=Math.max(opts.cutoutPercentage?chart.outerRadius/100*opts.cutoutPercentage:1,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/chart.getVisibleDatasetCount();me.outerRadius=chart.outerRadius-chart.radiusLength*me.index;me.innerRadius=me.outerRadius-chart.radiusLength},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var dataset=me.getDataset();var opts=chart.options;var animationOpts=opts.animation;var scale=chart.scale;var labels=chart.data.labels;var centerX=scale.xCenter;var centerY=scale.yCenter;var datasetStartAngle=opts.startAngle;var distance=arc.hidden?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var startAngle=me._starts[index];var endAngle=startAngle+(arc.hidden?0:me._angles[index]);var resetRadius=animationOpts.animateScale?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var options=arc._options||{};helpers$1.extend(arc,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,borderAlign:options.borderAlign,x:centerX,y:centerY,innerRadius:0,outerRadius:reset?resetRadius:distance,startAngle:reset&&animationOpts.animateRotate?datasetStartAngle:startAngle,endAngle:reset&&animationOpts.animateRotate?datasetStartAngle:endAngle,label:helpers$1.valueAtIndexOrDefault(labels,index,labels[index])}});arc.pivot()},countVisibleElements:function(){var dataset=this.getDataset();var meta=this.getMeta();var count=0;helpers$1.each(meta.data,function(element,index){if(!isNaN(dataset.data[index])&&!element.hidden){count++}});return count},setHoverStyle:function(arc){var model=arc._model;var options=arc._options;var getHoverColor=helpers$1.getHoverColor;var valueOrDefault=helpers$1.valueOrDefault;arc.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth};model.backgroundColor=valueOrDefault(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault(options.hoverBorderWidth,options.borderWidth)},_computeAngle:function(index){var me=this;var count=this.getMeta().count;var dataset=me.getDataset();var meta=me.getMeta();if(isNaN(dataset.data[index])||meta.data[index].hidden){return 0}var context={chart:me.chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};return resolve$3([me.chart.options.elements.arc.angle,2*Math.PI/count],context,index)}});core_defaults._set("pie",helpers$1.clone(core_defaults.doughnut)),core_defaults._set("pie",{cutoutPercentage:0});var controller_pie=controller_doughnut,valueOrDefault$7=helpers$1.valueOrDefault;core_defaults._set("radar",{spanGaps:false,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var controller_radar=core_datasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,linkScales:helpers$1.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var scale=me.chart.scale;var config=me._config;var i,ilen;if(config.tension!==undefined&&config.lineTension===undefined){config.lineTension=config.tension}line._scale=scale;line._datasetIndex=me.index;line._children=points;line._loop=true;line._model=me._resolveDatasetElementOptions(line);line.pivot();for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset)}me.updateBezierControlPoints();for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot()}},updateElement:function(point,index,reset){var me=this;var custom=point.custom||{};var dataset=me.getDataset();var scale=me.chart.scale;var pointPosition=scale.getPointPositionForValue(index,dataset.data[index]);var options=me._resolveDataElementOptions(point,index);var lineModel=me.getMeta().dataset._model;var x=reset?scale.xCenter:pointPosition.x;var y=reset?scale.yCenter:pointPosition.y;point._scale=scale;point._options=options;point._datasetIndex=me.index;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:options.radius,pointStyle:options.pointStyle,rotation:options.rotation,backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,tension:valueOrDefault$7(custom.tension,lineModel?lineModel.tension:0),hitRadius:options.hitRadius}},_resolveDatasetElementOptions:function(){var me=this;var config=me._config;var options=me.chart.options;var values=core_datasetController.prototype._resolveDatasetElementOptions.apply(me,arguments);values.spanGaps=valueOrDefault$7(config.spanGaps,options.spanGaps);values.tension=valueOrDefault$7(config.lineTension,options.elements.line.tension);return values},updateBezierControlPoints:function(){var me=this;var meta=me.getMeta();var area=me.chart.chartArea;var points=meta.data||[];var i,ilen,model,controlPoints;if(meta.dataset._model.spanGaps){points=points.filter(function(pt){return!pt._model.skip})}function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min)}for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;controlPoints=helpers$1.splineCurve(helpers$1.previousItem(points,i,true)._model,model,helpers$1.nextItem(points,i,true)._model,model.tension);model.controlPointPreviousX=capControlPoint(controlPoints.previous.x,area.left,area.right);model.controlPointPreviousY=capControlPoint(controlPoints.previous.y,area.top,area.bottom);model.controlPointNextX=capControlPoint(controlPoints.next.x,area.left,area.right);model.controlPointNextY=capControlPoint(controlPoints.next.y,area.top,area.bottom)}},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$7(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$7(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$7(options.hoverBorderWidth,options.borderWidth);model.radius=valueOrDefault$7(options.hoverRadius,options.radius)}});core_defaults._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(item){return"("+item.xLabel+", "+item.yLabel+")"}}}}),core_defaults._set("global",{datasets:{scatter:{showLine:false}}});var controller_scatter,controllers={bar:controller_bar,bubble:controller_bubble,doughnut:controller_doughnut,horizontalBar:controller_horizontalBar,line:controller_line,polarArea:controller_polarArea,pie:controller_pie,radar:controller_radar,scatter:controller_line};function getRelativePosition(e,chart){if(e.native){return{x:e.x,y:e.y}}return helpers$1.getRelativePosition(e,chart)}function parseVisibleItems(chart,handler){var metasets=chart._getSortedVisibleDatasetMetas();var metadata,i,j,ilen,jlen,element;for(i=0,ilen=metasets.length;i<ilen;++i){metadata=metasets[i].data;for(j=0,jlen=metadata.length;j<jlen;++j){element=metadata[j];if(!element._view.skip){handler(element)}}}}function getIntersectItems(chart,position){var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element)}});return elements}function getNearestItems(chart,position,intersect,distanceMetric){var minDistance=Number.POSITIVE_INFINITY;var nearestItems=[];parseVisibleItems(chart,function(element){if(intersect&&!element.inRange(position.x,position.y)){return}var center=element.getCenterPoint();var distance=distanceMetric(position,center);if(distance<minDistance){nearestItems=[element];minDistance=distance}else if(distance===minDistance){nearestItems.push(element)}});return nearestItems}function getDistanceMetricForAxis(axis){var useX=axis.indexOf("x")!==-1;var useY=axis.indexOf("y")!==-1;return function(pt1,pt2){var deltaX=useX?Math.abs(pt1.x-pt2.x):0;var deltaY=useY?Math.abs(pt1.y-pt2.y):0;return Math.sqrt(Math.pow(deltaX,2)+Math.pow(deltaY,2))}}function indexMode(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||"x";var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);var elements=[];if(!items.length){return[]}chart._getSortedVisibleDatasetMetas().forEach(function(meta){var element=meta.data[items[0]._index];if(element&&!element._view.skip){elements.push(element)}});return elements}var core_interaction={modes:{single:function(chart,e){var position=getRelativePosition(e,chart);var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);return elements}});return elements.slice(0,1)},label:indexMode,index:indexMode,dataset:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||"xy";var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);if(items.length>0){items=chart.getDatasetMeta(items[0]._datasetIndex).data}return items},"x-axis":function(chart,e){return indexMode(chart,e,{intersect:false})},point:function(chart,e){var position=getRelativePosition(e,chart);return getIntersectItems(chart,position)},nearest:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||"xy";var distanceMetric=getDistanceMetricForAxis(options.axis);return getNearestItems(chart,position,options.intersect,distanceMetric)},x:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inXRange(position.x)){items.push(element)}if(element.inRange(position.x,position.y)){intersectsItem=true}});if(options.intersect&&!intersectsItem){items=[]}return items},y:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inYRange(position.y)){items.push(element)}if(element.inRange(position.x,position.y)){intersectsItem=true}});if(options.intersect&&!intersectsItem){items=[]}return items}}},extend=helpers$1.extend;function filterByPosition(array,position){return helpers$1.where(array,function(v){return v.pos===position})}function sortByWeight(array,reverse){return array.sort(function(a,b){var v0=reverse?b:a;var v1=reverse?a:b;return v0.weight===v1.weight?v0.index-v1.index:v0.weight-v1.weight})}function wrapBoxes(boxes){var layoutBoxes=[];var i,ilen,box;for(i=0,ilen=(boxes||[]).length;i<ilen;++i){box=boxes[i];layoutBoxes.push({index:i,box:box,pos:box.position,horizontal:box.isHorizontal(),weight:box.weight})}return layoutBoxes}function setLayoutDims(layouts,params){var i,ilen,layout;for(i=0,ilen=layouts.length;i<ilen;++i){layout=layouts[i];layout.width=layout.horizontal?layout.box.fullWidth&&params.availableWidth:params.vBoxMaxWidth;layout.height=layout.horizontal&&params.hBoxMaxHeight}}function buildLayoutBoxes(boxes){var layoutBoxes=wrapBoxes(boxes);var left=sortByWeight(filterByPosition(layoutBoxes,"left"),true);var right=sortByWeight(filterByPosition(layoutBoxes,"right"));var top=sortByWeight(filterByPosition(layoutBoxes,"top"),true);var bottom=sortByWeight(filterByPosition(layoutBoxes,"bottom"));return{leftAndTop:left.concat(top),rightAndBottom:right.concat(bottom),chartArea:filterByPosition(layoutBoxes,"chartArea"),vertical:left.concat(right),horizontal:top.concat(bottom)}}function getCombinedMax(maxPadding,chartArea,a,b){return Math.max(maxPadding[a],chartArea[a])+Math.max(maxPadding[b],chartArea[b])}function updateDims(chartArea,params,layout){var box=layout.box;var maxPadding=chartArea.maxPadding;var newWidth,newHeight;if(layout.size){chartArea[layout.pos]-=layout.size}layout.size=layout.horizontal?box.height:box.width;chartArea[layout.pos]+=layout.size;if(box.getPadding){var boxPadding=box.getPadding();maxPadding.top=Math.max(maxPadding.top,boxPadding.top);maxPadding.left=Math.max(maxPadding.left,boxPadding.left);maxPadding.bottom=Math.max(maxPadding.bottom,boxPadding.bottom);maxPadding.right=Math.max(maxPadding.right,boxPadding.right)}newWidth=params.outerWidth-getCombinedMax(maxPadding,chartArea,"left","right");newHeight=params.outerHeight-getCombinedMax(maxPadding,chartArea,"top","bottom");if(newWidth!==chartArea.w||newHeight!==chartArea.h){chartArea.w=newWidth;chartArea.h=newHeight;return layout.horizontal?newWidth!==chartArea.w:newHeight!==chartArea.h}}function handleMaxPadding(chartArea){var maxPadding=chartArea.maxPadding;function updatePos(pos){var change=Math.max(maxPadding[pos]-chartArea[pos],0);chartArea[pos]+=change;return change}chartArea.y+=updatePos("top");chartArea.x+=updatePos("left");updatePos("right");updatePos("bottom")}function getMargins(horizontal,chartArea){var maxPadding=chartArea.maxPadding;function marginForPositions(positions){var margin={left:0,top:0,right:0,bottom:0};positions.forEach(function(pos){margin[pos]=Math.max(chartArea[pos],maxPadding[pos])});return margin}return horizontal?marginForPositions(["left","right"]):marginForPositions(["top","bottom"])}function fitBoxes(boxes,chartArea,params){var refitBoxes=[];var i,ilen,layout,box,refit,changed;for(i=0,ilen=boxes.length;i<ilen;++i){layout=boxes[i];box=layout.box;box.update(layout.width||chartArea.w,layout.height||chartArea.h,getMargins(layout.horizontal,chartArea));if(updateDims(chartArea,params,layout)){changed=true;if(refitBoxes.length){refit=true}}if(!box.fullWidth){refitBoxes.push(layout)}}return refit?fitBoxes(refitBoxes,chartArea,params)||changed:changed}function placeBoxes(boxes,chartArea,params){var userPadding=params.padding;var x=chartArea.x;var y=chartArea.y;var i,ilen,layout,box;for(i=0,ilen=boxes.length;i<ilen;++i){layout=boxes[i];box=layout.box;if(layout.horizontal){box.left=box.fullWidth?userPadding.left:chartArea.left;box.right=box.fullWidth?params.outerWidth-userPadding.right:chartArea.left+chartArea.w;box.top=y;box.bottom=y+box.height;box.width=box.right-box.left;y=box.bottom}else{box.left=x;box.right=x+box.width;box.top=chartArea.top;box.bottom=chartArea.top+chartArea.h;box.height=box.bottom-box.top;x=box.right}}chartArea.x=x;chartArea.y=y}core_defaults._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var core_layouts={defaults:{},addBox:function(chart,item){if(!chart.boxes){chart.boxes=[]}item.fullWidth=item.fullWidth||false;item.position=item.position||"top";item.weight=item.weight||0;item._layers=item._layers||function(){return[{z:0,draw:function(){item.draw.apply(item,arguments)}}]};chart.boxes.push(item)},removeBox:function(chart,layoutItem){var index=chart.boxes?chart.boxes.indexOf(layoutItem):-1;if(index!==-1){chart.boxes.splice(index,1)}},configure:function(chart,item,options){var props=["fullWidth","position","weight"];var ilen=props.length;var i=0;var prop;for(;i<ilen;++i){prop=props[i];if(options.hasOwnProperty(prop)){item[prop]=options[prop]}}},update:function(chart,width,height){if(!chart){return}var layoutOptions=chart.options.layout||{};var padding=helpers$1.options.toPadding(layoutOptions.padding);var availableWidth=width-padding.width;var availableHeight=height-padding.height;var boxes=buildLayoutBoxes(chart.boxes);var verticalBoxes=boxes.vertical;var horizontalBoxes=boxes.horizontal;var params=Object.freeze({outerWidth:width,outerHeight:height,padding:padding,availableWidth:availableWidth,vBoxMaxWidth:availableWidth/2/verticalBoxes.length,hBoxMaxHeight:availableHeight/2});var chartArea=extend({maxPadding:extend({},padding),w:availableWidth,h:availableHeight,x:padding.left,y:padding.top},padding);setLayoutDims(verticalBoxes.concat(horizontalBoxes),params);fitBoxes(verticalBoxes,chartArea,params);if(fitBoxes(horizontalBoxes,chartArea,params)){fitBoxes(verticalBoxes,chartArea,params)}handleMaxPadding(chartArea);placeBoxes(boxes.leftAndTop,chartArea,params);chartArea.x+=chartArea.w;chartArea.y+=chartArea.h;placeBoxes(boxes.rightAndBottom,chartArea,params);chart.chartArea={left:chartArea.left,top:chartArea.top,right:chartArea.left+chartArea.w,bottom:chartArea.top+chartArea.h};helpers$1.each(boxes.chartArea,function(layout){var box=layout.box;extend(box,chart.chartArea);box.update(chartArea.w,chartArea.h)})}},platform_basic={acquireContext:function(item){if(item&&item.canvas){item=item.canvas}return item&&item.getContext("2d")||null}},platform_dom="/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n",platform_dom$1,stylesheet=getCjsExportFromNamespace(Object.freeze({__proto__:null,default:platform_dom})),EXPANDO_KEY="$chartjs",CSS_PREFIX="chartjs-",CSS_SIZE_MONITOR=CSS_PREFIX+"size-monitor",CSS_RENDER_MONITOR=CSS_PREFIX+"render-monitor",CSS_RENDER_ANIMATION=CSS_PREFIX+"render-animation",ANIMATION_START_EVENTS=["animationstart","webkitAnimationStart"],EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function readUsedSize(element,property){var value=helpers$1.getStyle(element,property);var matches=value&&value.match(/^(\d+)(\.\d+)?px$/);return matches?Number(matches[1]):undefined}function initCanvas(canvas,config){var style=canvas.style;var renderHeight=canvas.getAttribute("height");var renderWidth=canvas.getAttribute("width");canvas[EXPANDO_KEY]={initial:{height:renderHeight,width:renderWidth,style:{display:style.display,height:style.height,width:style.width}}};style.display=style.display||"block";if(renderWidth===null||renderWidth===""){var displayWidth=readUsedSize(canvas,"width");if(displayWidth!==undefined){canvas.width=displayWidth}}if(renderHeight===null||renderHeight===""){if(canvas.style.height===""){canvas.height=canvas.width/(config.options.aspectRatio||2)}else{var displayHeight=readUsedSize(canvas,"height");if(displayWidth!==undefined){canvas.height=displayHeight}}}return canvas}var supportsEventListenerOptions,eventListenerOptions=function(){var supports=false;try{var options=Object.defineProperty({},"passive",{get:function(){supports=true}});window.addEventListener("e",null,options)}catch(e){}return supports}()?{passive:true}:false;function addListener(node,type,listener){node.addEventListener(type,listener,eventListenerOptions)}function removeListener(node,type,listener){node.removeEventListener(type,listener,eventListenerOptions)}function createEvent(type,chart,x,y,nativeEvent){return{type:type,chart:chart,native:nativeEvent||null,x:x!==undefined?x:null,y:y!==undefined?y:null}}function fromNativeEvent(event,chart){var type=EVENT_TYPES[event.type]||event.type;var pos=helpers$1.getRelativePosition(event,chart);return createEvent(type,chart,pos.x,pos.y,event)}function throttled(fn,thisArg){var ticking=false;var args=[];return function(){args=Array.prototype.slice.call(arguments);thisArg=thisArg||this;if(!ticking){ticking=true;helpers$1.requestAnimFrame.call(window,function(){ticking=false;fn.apply(thisArg,args)})}}}function createDiv(cls){var el=document.createElement("div");el.className=cls||"";return el}function createResizer(handler){var maxSize=1e6;var resizer=createDiv(CSS_SIZE_MONITOR);var expand=createDiv(CSS_SIZE_MONITOR+"-expand");var shrink=createDiv(CSS_SIZE_MONITOR+"-shrink");expand.appendChild(createDiv());shrink.appendChild(createDiv());resizer.appendChild(expand);resizer.appendChild(shrink);resizer._reset=function(){expand.scrollLeft=maxSize;expand.scrollTop=maxSize;shrink.scrollLeft=maxSize;shrink.scrollTop=maxSize};var onScroll=function(){resizer._reset();handler()};addListener(expand,"scroll",onScroll.bind(expand,"expand"));addListener(shrink,"scroll",onScroll.bind(shrink,"shrink"));return resizer}function watchForRender(node,handler){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var proxy=expando.renderProxy=function(e){if(e.animationName===CSS_RENDER_ANIMATION){handler()}};helpers$1.each(ANIMATION_START_EVENTS,function(type){addListener(node,type,proxy)});expando.reflow=!!node.offsetParent;node.classList.add(CSS_RENDER_MONITOR)}function unwatchForRender(node){var expando=node[EXPANDO_KEY]||{};var proxy=expando.renderProxy;if(proxy){helpers$1.each(ANIMATION_START_EVENTS,function(type){removeListener(node,type,proxy)});delete expando.renderProxy}node.classList.remove(CSS_RENDER_MONITOR)}function addResizeListener(node,listener,chart){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var resizer=expando.resizer=createResizer(throttled(function(){if(expando.resizer){var container=chart.options.maintainAspectRatio&&node.parentNode;var w=container?container.clientWidth:0;listener(createEvent("resize",chart));if(container&&container.clientWidth<w&&chart.canvas){listener(createEvent("resize",chart))}}}));watchForRender(node,function(){if(expando.resizer){var container=node.parentNode;if(container&&container!==resizer.parentNode){container.insertBefore(resizer,container.firstChild)}resizer._reset()}})}function removeResizeListener(node){var expando=node[EXPANDO_KEY]||{};var resizer=expando.resizer;delete expando.resizer;unwatchForRender(node);if(resizer&&resizer.parentNode){resizer.parentNode.removeChild(resizer)}}function injectCSS(rootNode,css){var expando=rootNode[EXPANDO_KEY]||(rootNode[EXPANDO_KEY]={});if(!expando.containsStyles){expando.containsStyles=true;css="/* Chart.js */\n"+css;var style=document.createElement("style");style.setAttribute("type","text/css");style.appendChild(document.createTextNode(css));rootNode.appendChild(style)}}var platform_dom$2={disableCSSInjection:false,_enabled:typeof window!=="undefined"&&typeof document!=="undefined",_ensureLoaded:function(canvas){if(!this.disableCSSInjection){var root=canvas.getRootNode?canvas.getRootNode():document;var targetNode=root.host?root:document.head;injectCSS(targetNode,stylesheet)}},acquireContext:function(item,config){if(typeof item==="string"){item=document.getElementById(item)}else if(item.length){item=item[0]}if(item&&item.canvas){item=item.canvas}var context=item&&item.getContext&&item.getContext("2d");if(context&&context.canvas===item){this._ensureLoaded(item);initCanvas(item,config);return context}return null},releaseContext:function(context){var canvas=context.canvas;if(!canvas[EXPANDO_KEY]){return}var initial=canvas[EXPANDO_KEY].initial;["height","width"].forEach(function(prop){var value=initial[prop];if(helpers$1.isNullOrUndef(value)){canvas.removeAttribute(prop)}else{canvas.setAttribute(prop,value)}});helpers$1.each(initial.style||{},function(value,key){canvas.style[key]=value});canvas.width=canvas.width;delete canvas[EXPANDO_KEY]},addEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==="resize"){addResizeListener(canvas,listener,chart);return}var expando=listener[EXPANDO_KEY]||(listener[EXPANDO_KEY]={});var proxies=expando.proxies||(expando.proxies={});var proxy=proxies[chart.id+"_"+type]=function(event){listener(fromNativeEvent(event,chart))};addListener(canvas,type,proxy)},removeEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==="resize"){removeResizeListener(canvas);return}var expando=listener[EXPANDO_KEY]||{};var proxies=expando.proxies||{};var proxy=proxies[chart.id+"_"+type];if(!proxy){return}removeListener(canvas,type,proxy)}};helpers$1.addEvent=addListener,helpers$1.removeEvent=removeListener;var implementation=platform_dom$2._enabled?platform_dom$2:platform_basic,platform=helpers$1.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},implementation);core_defaults._set("global",{plugins:{}});var core_plugins={_plugins:[],_cacheId:0,register:function(plugins){var p=this._plugins;[].concat(plugins).forEach(function(plugin){if(p.indexOf(plugin)===-1){p.push(plugin)}});this._cacheId++},unregister:function(plugins){var p=this._plugins;[].concat(plugins).forEach(function(plugin){var idx=p.indexOf(plugin);if(idx!==-1){p.splice(idx,1)}});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(chart,hook,args){var descriptors=this.descriptors(chart);var ilen=descriptors.length;var i,descriptor,plugin,params,method;for(i=0;i<ilen;++i){descriptor=descriptors[i];plugin=descriptor.plugin;method=plugin[hook];if(typeof method==="function"){params=[chart].concat(args||[]);params.push(descriptor.options);if(method.apply(plugin,params)===false){return false}}}return true},descriptors:function(chart){var cache=chart.$plugins||(chart.$plugins={});if(cache.id===this._cacheId){return cache.descriptors}var plugins=[];var descriptors=[];var config=chart&&chart.config||{};var options=config.options&&config.options.plugins||{};this._plugins.concat(config.plugins||[]).forEach(function(plugin){var idx=plugins.indexOf(plugin);if(idx!==-1){return}var id=plugin.id;var opts=options[id];if(opts===false){return}if(opts===true){opts=helpers$1.clone(core_defaults.global.plugins[id])}plugins.push(plugin);descriptors.push({plugin:plugin,options:opts||{}})});cache.descriptors=descriptors;cache.id=this._cacheId;return descriptors},_invalidate:function(chart){delete chart.$plugins}},core_scaleService={constructors:{},defaults:{},registerScaleType:function(type,scaleConstructor,scaleDefaults){this.constructors[type]=scaleConstructor;this.defaults[type]=helpers$1.clone(scaleDefaults)},getScaleConstructor:function(type){return this.constructors.hasOwnProperty(type)?this.constructors[type]:undefined},getScaleDefaults:function(type){return this.defaults.hasOwnProperty(type)?helpers$1.merge({},[core_defaults.scale,this.defaults[type]]):{}},updateScaleDefaults:function(type,additions){var me=this;if(me.defaults.hasOwnProperty(type)){me.defaults[type]=helpers$1.extend(me.defaults[type],additions)}},addScalesToLayout:function(chart){helpers$1.each(chart.scales,function(scale){scale.fullWidth=scale.options.fullWidth;scale.position=scale.options.position;scale.weight=scale.options.weight;core_layouts.addBox(chart,scale)})}},valueOrDefault$8=helpers$1.valueOrDefault,getRtlHelper=helpers$1.rtl.getRtlAdapter;core_defaults._set("global",{tooltips:{enabled:true,custom:null,mode:"nearest",position:"average",intersect:true,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:true,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:helpers$1.noop,title:function(tooltipItems,data){var title="";var labels=data.labels;var labelCount=labels?labels.length:0;if(tooltipItems.length>0){var item=tooltipItems[0];if(item.label){title=item.label}else if(item.xLabel){title=item.xLabel}else if(labelCount>0&&item.index<labelCount){title=labels[item.index]}}return title},afterTitle:helpers$1.noop,beforeBody:helpers$1.noop,beforeLabel:helpers$1.noop,label:function(tooltipItem,data){var label=data.datasets[tooltipItem.datasetIndex].label||"";if(label){label+=": "}if(!helpers$1.isNullOrUndef(tooltipItem.value)){label+=tooltipItem.value}else{label+=tooltipItem.yLabel}return label},labelColor:function(tooltipItem,chart){var meta=chart.getDatasetMeta(tooltipItem.datasetIndex);var activeElement=meta.data[tooltipItem.index];var view=activeElement._view;return{borderColor:view.borderColor,backgroundColor:view.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:helpers$1.noop,afterBody:helpers$1.noop,beforeFooter:helpers$1.noop,footer:helpers$1.noop,afterFooter:helpers$1.noop}}});var positioners={average:function(elements){if(!elements.length){return false}var i,len;var x=0;var y=0;var count=0;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var pos=el.tooltipPosition();x+=pos.x;y+=pos.y;++count}}return{x:x/count,y:y/count}},nearest:function(elements,eventPosition){var x=eventPosition.x;var y=eventPosition.y;var minDistance=Number.POSITIVE_INFINITY;var i,len,nearestElement;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var center=el.getCenterPoint();var d=helpers$1.distanceBetweenPoints(eventPosition,center);if(d<minDistance){minDistance=d;nearestElement=el}}}if(nearestElement){var tp=nearestElement.tooltipPosition();x=tp.x;y=tp.y}return{x:x,y:y}}};function pushOrConcat(base,toPush){if(toPush){if(helpers$1.isArray(toPush)){Array.prototype.push.apply(base,toPush)}else{base.push(toPush)}}return base}function splitNewlines(str){if((typeof str==="string"||str instanceof String)&&str.indexOf("\n")>-1){return str.split("\n")}return str}function createTooltipItem(element){var xScale=element._xScale;var yScale=element._yScale||element._scale;var index=element._index;var datasetIndex=element._datasetIndex;var controller=element._chart.getDatasetMeta(datasetIndex).controller;var indexScale=controller._getIndexScale();var valueScale=controller._getValueScale();return{xLabel:xScale?xScale.getLabelForIndex(index,datasetIndex):"",yLabel:yScale?yScale.getLabelForIndex(index,datasetIndex):"",label:indexScale?""+indexScale.getLabelForIndex(index,datasetIndex):"",value:valueScale?""+valueScale.getLabelForIndex(index,datasetIndex):"",index:index,datasetIndex:datasetIndex,x:element._model.x,y:element._model.y}}function getBaseModel(tooltipOpts){var globalDefaults=core_defaults.global;return{xPadding:tooltipOpts.xPadding,yPadding:tooltipOpts.yPadding,xAlign:tooltipOpts.xAlign,yAlign:tooltipOpts.yAlign,rtl:tooltipOpts.rtl,textDirection:tooltipOpts.textDirection,bodyFontColor:tooltipOpts.bodyFontColor,_bodyFontFamily:valueOrDefault$8(tooltipOpts.bodyFontFamily,globalDefaults.defaultFontFamily),_bodyFontStyle:valueOrDefault$8(tooltipOpts.bodyFontStyle,globalDefaults.defaultFontStyle),_bodyAlign:tooltipOpts.bodyAlign,bodyFontSize:valueOrDefault$8(tooltipOpts.bodyFontSize,globalDefaults.defaultFontSize),bodySpacing:tooltipOpts.bodySpacing,titleFontColor:tooltipOpts.titleFontColor,_titleFontFamily:valueOrDefault$8(tooltipOpts.titleFontFamily,globalDefaults.defaultFontFamily),_titleFontStyle:valueOrDefault$8(tooltipOpts.titleFontStyle,globalDefaults.defaultFontStyle),titleFontSize:valueOrDefault$8(tooltipOpts.titleFontSize,globalDefaults.defaultFontSize),_titleAlign:tooltipOpts.titleAlign,titleSpacing:tooltipOpts.titleSpacing,titleMarginBottom:tooltipOpts.titleMarginBottom,footerFontColor:tooltipOpts.footerFontColor,_footerFontFamily:valueOrDefault$8(tooltipOpts.footerFontFamily,globalDefaults.defaultFontFamily),_footerFontStyle:valueOrDefault$8(tooltipOpts.footerFontStyle,globalDefaults.defaultFontStyle),footerFontSize:valueOrDefault$8(tooltipOpts.footerFontSize,globalDefaults.defaultFontSize),_footerAlign:tooltipOpts.footerAlign,footerSpacing:tooltipOpts.footerSpacing,footerMarginTop:tooltipOpts.footerMarginTop,caretSize:tooltipOpts.caretSize,cornerRadius:tooltipOpts.cornerRadius,backgroundColor:tooltipOpts.backgroundColor,opacity:0,legendColorBackground:tooltipOpts.multiKeyBackground,displayColors:tooltipOpts.displayColors,borderColor:tooltipOpts.borderColor,borderWidth:tooltipOpts.borderWidth}}function getTooltipSize(tooltip,model){var ctx=tooltip._chart.ctx;var height=model.yPadding*2;var width=0;var body=model.body;var combinedBodyLength=body.reduce(function(count,bodyItem){return count+bodyItem.before.length+bodyItem.lines.length+bodyItem.after.length},0);combinedBodyLength+=model.beforeBody.length+model.afterBody.length;var titleLineCount=model.title.length;var footerLineCount=model.footer.length;var titleFontSize=model.titleFontSize;var bodyFontSize=model.bodyFontSize;var footerFontSize=model.footerFontSize;height+=titleLineCount*titleFontSize;height+=titleLineCount?(titleLineCount-1)*model.titleSpacing:0;height+=titleLineCount?model.titleMarginBottom:0;height+=combinedBodyLength*bodyFontSize;height+=combinedBodyLength?(combinedBodyLength-1)*model.bodySpacing:0;height+=footerLineCount?model.footerMarginTop:0;height+=footerLineCount*footerFontSize;height+=footerLineCount?(footerLineCount-1)*model.footerSpacing:0;var widthPadding=0;var maxLineWidth=function(line){width=Math.max(width,ctx.measureText(line).width+widthPadding)};ctx.font=helpers$1.fontString(titleFontSize,model._titleFontStyle,model._titleFontFamily);helpers$1.each(model.title,maxLineWidth);ctx.font=helpers$1.fontString(bodyFontSize,model._bodyFontStyle,model._bodyFontFamily);helpers$1.each(model.beforeBody.concat(model.afterBody),maxLineWidth);widthPadding=model.displayColors?bodyFontSize+2:0;helpers$1.each(body,function(bodyItem){helpers$1.each(bodyItem.before,maxLineWidth);helpers$1.each(bodyItem.lines,maxLineWidth);helpers$1.each(bodyItem.after,maxLineWidth)});widthPadding=0;ctx.font=helpers$1.fontString(footerFontSize,model._footerFontStyle,model._footerFontFamily);helpers$1.each(model.footer,maxLineWidth);width+=2*model.xPadding;return{width:width,height:height}}function determineAlignment(tooltip,size){var model=tooltip._model;var chart=tooltip._chart;var chartArea=tooltip._chart.chartArea;var xAlign="center";var yAlign="center";if(model.y<size.height){yAlign="top"}else if(model.y>chart.height-size.height){yAlign="bottom"}var lf,rf;var olf,orf;var yf;var midX=(chartArea.left+chartArea.right)/2;var midY=(chartArea.top+chartArea.bottom)/2;if(yAlign==="center"){lf=function(x){return x<=midX};rf=function(x){return x>midX}}else{lf=function(x){return x<=size.width/2};rf=function(x){return x>=chart.width-size.width/2}}olf=function(x){return x+size.width+model.caretSize+model.caretPadding>chart.width};orf=function(x){return x-size.width-model.caretSize-model.caretPadding<0};yf=function(y){return y<=midY?"top":"bottom"};if(lf(model.x)){xAlign="left";if(olf(model.x)){xAlign="center";yAlign=yf(model.y)}}else if(rf(model.x)){xAlign="right";if(orf(model.x)){xAlign="center";yAlign=yf(model.y)}}var opts=tooltip._options;return{xAlign:opts.xAlign?opts.xAlign:xAlign,yAlign:opts.yAlign?opts.yAlign:yAlign}}function getBackgroundPoint(vm,size,alignment,chart){var x=vm.x;var y=vm.y;var caretSize=vm.caretSize;var caretPadding=vm.caretPadding;var cornerRadius=vm.cornerRadius;var xAlign=alignment.xAlign;var yAlign=alignment.yAlign;var paddingAndSize=caretSize+caretPadding;var radiusAndPadding=cornerRadius+caretPadding;if(xAlign==="right"){x-=size.width}else if(xAlign==="center"){x-=size.width/2;if(x+size.width>chart.width){x=chart.width-size.width}if(x<0){x=0}}if(yAlign==="top"){y+=paddingAndSize}else if(yAlign==="bottom"){y-=size.height+paddingAndSize}else{y-=size.height/2}if(yAlign==="center"){if(xAlign==="left"){x+=paddingAndSize}else if(xAlign==="right"){x-=paddingAndSize}}else if(xAlign==="left"){x-=radiusAndPadding}else if(xAlign==="right"){x+=radiusAndPadding}return{x:x,y:y}}function getAlignedX(vm,align){return align==="center"?vm.x+vm.width/2:align==="right"?vm.x+vm.width-vm.xPadding:vm.x+vm.xPadding}function getBeforeAfterBodyLines(callback){return pushOrConcat([],splitNewlines(callback))}var exports$4=core_element.extend({initialize:function(){this._model=getBaseModel(this._options);this._lastActive=[]},getTitle:function(){var me=this;var opts=me._options;var callbacks=opts.callbacks;var beforeTitle=callbacks.beforeTitle.apply(me,arguments);var title=callbacks.title.apply(me,arguments);var afterTitle=callbacks.afterTitle.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeTitle));lines=pushOrConcat(lines,splitNewlines(title));lines=pushOrConcat(lines,splitNewlines(afterTitle));return lines},getBeforeBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(tooltipItems,data){var me=this;var callbacks=me._options.callbacks;var bodyItems=[];helpers$1.each(tooltipItems,function(tooltipItem){var bodyItem={before:[],lines:[],after:[]};pushOrConcat(bodyItem.before,splitNewlines(callbacks.beforeLabel.call(me,tooltipItem,data)));pushOrConcat(bodyItem.lines,callbacks.label.call(me,tooltipItem,data));pushOrConcat(bodyItem.after,splitNewlines(callbacks.afterLabel.call(me,tooltipItem,data)));bodyItems.push(bodyItem)});return bodyItems},getAfterBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var me=this;var callbacks=me._options.callbacks;var beforeFooter=callbacks.beforeFooter.apply(me,arguments);var footer=callbacks.footer.apply(me,arguments);var afterFooter=callbacks.afterFooter.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeFooter));lines=pushOrConcat(lines,splitNewlines(footer));lines=pushOrConcat(lines,splitNewlines(afterFooter));return lines},update:function(changed){var me=this;var opts=me._options;var existingModel=me._model;var model=me._model=getBaseModel(opts);var active=me._active;var data=me._data;var alignment={xAlign:existingModel.xAlign,yAlign:existingModel.yAlign};var backgroundPoint={x:existingModel.x,y:existingModel.y};var tooltipSize={width:existingModel.width,height:existingModel.height};var tooltipPosition={x:existingModel.caretX,y:existingModel.caretY};var i,len;if(active.length){model.opacity=1;var labelColors=[];var labelTextColors=[];tooltipPosition=positioners[opts.position].call(me,active,me._eventPosition);var tooltipItems=[];for(i=0,len=active.length;i<len;++i){tooltipItems.push(createTooltipItem(active[i]))}if(opts.filter){tooltipItems=tooltipItems.filter(function(a){return opts.filter(a,data)})}if(opts.itemSort){tooltipItems=tooltipItems.sort(function(a,b){return opts.itemSort(a,b,data)})}helpers$1.each(tooltipItems,function(tooltipItem){labelColors.push(opts.callbacks.labelColor.call(me,tooltipItem,me._chart));labelTextColors.push(opts.callbacks.labelTextColor.call(me,tooltipItem,me._chart))});model.title=me.getTitle(tooltipItems,data);model.beforeBody=me.getBeforeBody(tooltipItems,data);model.body=me.getBody(tooltipItems,data);model.afterBody=me.getAfterBody(tooltipItems,data);model.footer=me.getFooter(tooltipItems,data);model.x=tooltipPosition.x;model.y=tooltipPosition.y;model.caretPadding=opts.caretPadding;model.labelColors=labelColors;model.labelTextColors=labelTextColors;model.dataPoints=tooltipItems;tooltipSize=getTooltipSize(this,model);alignment=determineAlignment(this,tooltipSize);backgroundPoint=getBackgroundPoint(model,tooltipSize,alignment,me._chart)}else{model.opacity=0}model.xAlign=alignment.xAlign;model.yAlign=alignment.yAlign;model.x=backgroundPoint.x;model.y=backgroundPoint.y;model.width=tooltipSize.width;model.height=tooltipSize.height;model.caretX=tooltipPosition.x;model.caretY=tooltipPosition.y;me._model=model;if(changed&&opts.custom){opts.custom.call(me,model)}return me},drawCaret:function(tooltipPoint,size){var ctx=this._chart.ctx;var vm=this._view;var caretPosition=this.getCaretPosition(tooltipPoint,size,vm);ctx.lineTo(caretPosition.x1,caretPosition.y1);ctx.lineTo(caretPosition.x2,caretPosition.y2);ctx.lineTo(caretPosition.x3,caretPosition.y3)},getCaretPosition:function(tooltipPoint,size,vm){var x1,x2,x3,y1,y2,y3;var caretSize=vm.caretSize;var cornerRadius=vm.cornerRadius;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var ptX=tooltipPoint.x;var ptY=tooltipPoint.y;var width=size.width;var height=size.height;if(yAlign==="center"){y2=ptY+height/2;if(xAlign==="left"){x1=ptX;x2=x1-caretSize;x3=x1;y1=y2+caretSize;y3=y2-caretSize}else{x1=ptX+width;x2=x1+caretSize;x3=x1;y1=y2-caretSize;y3=y2+caretSize}}else{if(xAlign==="left"){x2=ptX+cornerRadius+caretSize;x1=x2-caretSize;x3=x2+caretSize}else if(xAlign==="right"){x2=ptX+width-cornerRadius-caretSize;x1=x2-caretSize;x3=x2+caretSize}else{x2=vm.caretX;x1=x2-caretSize;x3=x2+caretSize}if(yAlign==="top"){y1=ptY;y2=y1-caretSize;y3=y1}else{y1=ptY+height;y2=y1+caretSize;y3=y1;var tmp=x3;x3=x1;x1=tmp}}return{x1:x1,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3}},drawTitle:function(pt,vm,ctx){var title=vm.title;var length=title.length;var titleFontSize,titleSpacing,i;if(length){var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);pt.x=getAlignedX(vm,vm._titleAlign);ctx.textAlign=rtlHelper.textAlign(vm._titleAlign);ctx.textBaseline="middle";titleFontSize=vm.titleFontSize;titleSpacing=vm.titleSpacing;ctx.fillStyle=vm.titleFontColor;ctx.font=helpers$1.fontString(titleFontSize,vm._titleFontStyle,vm._titleFontFamily);for(i=0;i<length;++i){ctx.fillText(title[i],rtlHelper.x(pt.x),pt.y+titleFontSize/2);pt.y+=titleFontSize+titleSpacing;if(i+1===length){pt.y+=vm.titleMarginBottom-titleSpacing}}}},drawBody:function(pt,vm,ctx){var bodyFontSize=vm.bodyFontSize;var bodySpacing=vm.bodySpacing;var bodyAlign=vm._bodyAlign;var body=vm.body;var drawColorBoxes=vm.displayColors;var xLinePadding=0;var colorX=drawColorBoxes?getAlignedX(vm,"left"):0;var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);var fillLineOfText=function(line){ctx.fillText(line,rtlHelper.x(pt.x+xLinePadding),pt.y+bodyFontSize/2);pt.y+=bodyFontSize+bodySpacing};var bodyItem,textColor,labelColors,lines,i,j,ilen,jlen;var bodyAlignForCalculation=rtlHelper.textAlign(bodyAlign);ctx.textAlign=bodyAlign;ctx.textBaseline="middle";ctx.font=helpers$1.fontString(bodyFontSize,vm._bodyFontStyle,vm._bodyFontFamily);pt.x=getAlignedX(vm,bodyAlignForCalculation);ctx.fillStyle=vm.bodyFontColor;helpers$1.each(vm.beforeBody,fillLineOfText);xLinePadding=drawColorBoxes&&bodyAlignForCalculation!=="right"?bodyAlign==="center"?bodyFontSize/2+1:bodyFontSize+2:0;for(i=0,ilen=body.length;i<ilen;++i){bodyItem=body[i];textColor=vm.labelTextColors[i];labelColors=vm.labelColors[i];ctx.fillStyle=textColor;helpers$1.each(bodyItem.before,fillLineOfText);lines=bodyItem.lines;for(j=0,jlen=lines.length;j<jlen;++j){if(drawColorBoxes){var rtlColorX=rtlHelper.x(colorX);ctx.fillStyle=vm.legendColorBackground;ctx.fillRect(rtlHelper.leftForLtr(rtlColorX,bodyFontSize),pt.y,bodyFontSize,bodyFontSize);ctx.lineWidth=1;ctx.strokeStyle=labelColors.borderColor;ctx.strokeRect(rtlHelper.leftForLtr(rtlColorX,bodyFontSize),pt.y,bodyFontSize,bodyFontSize);ctx.fillStyle=labelColors.backgroundColor;ctx.fillRect(rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX,1),bodyFontSize-2),pt.y+1,bodyFontSize-2,bodyFontSize-2);ctx.fillStyle=textColor}fillLineOfText(lines[j])}helpers$1.each(bodyItem.after,fillLineOfText)}xLinePadding=0;helpers$1.each(vm.afterBody,fillLineOfText);pt.y-=bodySpacing},drawFooter:function(pt,vm,ctx){var footer=vm.footer;var length=footer.length;var footerFontSize,i;if(length){var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);pt.x=getAlignedX(vm,vm._footerAlign);pt.y+=vm.footerMarginTop;ctx.textAlign=rtlHelper.textAlign(vm._footerAlign);ctx.textBaseline="middle";footerFontSize=vm.footerFontSize;ctx.fillStyle=vm.footerFontColor;ctx.font=helpers$1.fontString(footerFontSize,vm._footerFontStyle,vm._footerFontFamily);for(i=0;i<length;++i){ctx.fillText(footer[i],rtlHelper.x(pt.x),pt.y+footerFontSize/2);pt.y+=footerFontSize+vm.footerSpacing}}},drawBackground:function(pt,vm,ctx,tooltipSize){ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;ctx.lineWidth=vm.borderWidth;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var x=pt.x;var y=pt.y;var width=tooltipSize.width;var height=tooltipSize.height;var radius=vm.cornerRadius;ctx.beginPath();ctx.moveTo(x+radius,y);if(yAlign==="top"){this.drawCaret(pt,tooltipSize)}ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);if(yAlign==="center"&&xAlign==="right"){this.drawCaret(pt,tooltipSize)}ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);if(yAlign==="bottom"){this.drawCaret(pt,tooltipSize)}ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);if(yAlign==="center"&&xAlign==="left"){this.drawCaret(pt,tooltipSize)}ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();ctx.fill();if(vm.borderWidth>0){ctx.stroke()}},draw:function(){var ctx=this._chart.ctx;var vm=this._view;if(vm.opacity===0){return}var tooltipSize={width:vm.width,height:vm.height};var pt={x:vm.x,y:vm.y};var opacity=Math.abs(vm.opacity<.001)?0:vm.opacity;var hasTooltipContent=vm.title.length||vm.beforeBody.length||vm.body.length||vm.afterBody.length||vm.footer.length;if(this._options.enabled&&hasTooltipContent){ctx.save();ctx.globalAlpha=opacity;this.drawBackground(pt,vm,ctx,tooltipSize);pt.y+=vm.yPadding;helpers$1.rtl.overrideTextDirection(ctx,vm.textDirection);this.drawTitle(pt,vm,ctx);this.drawBody(pt,vm,ctx);this.drawFooter(pt,vm,ctx);helpers$1.rtl.restoreTextDirection(ctx,vm.textDirection);ctx.restore()}},handleEvent:function(e){var me=this;var options=me._options;var changed=false;me._lastActive=me._lastActive||[];if(e.type==="mouseout"){me._active=[]}else{me._active=me._chart.getElementsAtEventForMode(e,options.mode,options);if(options.reverse){me._active.reverse()}}changed=!helpers$1.arrayEquals(me._active,me._lastActive);if(changed){me._lastActive=me._active;if(options.enabled||options.custom){me._eventPosition={x:e.x,y:e.y};me.update(true);me.pivot()}}return changed}}),positioners_1=positioners,core_tooltip=exports$4;core_tooltip.positioners=positioners_1;var valueOrDefault$9=helpers$1.valueOrDefault;function mergeScaleConfig(){return helpers$1.merge({},[].slice.call(arguments),{merger:function(key,target,source,options){if(key==="xAxes"||key==="yAxes"){var slen=source[key].length;var i,type,scale;if(!target[key]){target[key]=[]}for(i=0;i<slen;++i){scale=source[key][i];type=valueOrDefault$9(scale.type,key==="xAxes"?"category":"linear");if(i>=target[key].length){target[key].push({})}if(!target[key][i].type||scale.type&&scale.type!==target[key][i].type){helpers$1.merge(target[key][i],[core_scaleService.getScaleDefaults(type),scale])}else{helpers$1.merge(target[key][i],scale)}}}else{helpers$1._merger(key,target,source,options)}}})}function mergeConfig(){return helpers$1.merge({},[].slice.call(arguments),{merger:function(key,target,source,options){var tval=target[key]||{};var sval=source[key];if(key==="scales"){target[key]=mergeScaleConfig(tval,sval)}else if(key==="scale"){target[key]=helpers$1.merge(tval,[core_scaleService.getScaleDefaults(sval.type),sval])}else{helpers$1._merger(key,target,source,options)}}})}function initConfig(config){config=config||{};var data=config.data=config.data||{};data.datasets=data.datasets||[];data.labels=data.labels||[];config.options=mergeConfig(core_defaults.global,core_defaults[config.type],config.options||{});return config}function updateConfig(chart){var newOptions=chart.options;helpers$1.each(chart.scales,function(scale){core_layouts.removeBox(chart,scale)});newOptions=mergeConfig(core_defaults.global,core_defaults[chart.config.type],newOptions);chart.options=chart.config.options=newOptions;chart.ensureScalesHaveIDs();chart.buildOrUpdateScales();chart.tooltip._options=newOptions.tooltips;chart.tooltip.initialize()}function nextAvailableScaleId(axesOpts,prefix,index){var id;var hasId=function(obj){return obj.id===id};do{id=prefix+index++}while(helpers$1.findIndex(axesOpts,hasId)>=0);return id}function positionIsHorizontal(position){return position==="top"||position==="bottom"}function compare2Level(l1,l2){return function(a,b){return a[l1]===b[l1]?a[l2]-b[l2]:a[l1]-b[l1]}}core_defaults._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:true,animationDuration:400},onClick:null,maintainAspectRatio:true,responsive:true,responsiveAnimationDuration:0});var Chart=function(item,config){this.construct(item,config);return this};helpers$1.extend(Chart.prototype,{construct:function(item,config){var me=this;config=initConfig(config);var context=platform.acquireContext(item,config);var canvas=context&&context.canvas;var height=canvas&&canvas.height;var width=canvas&&canvas.width;me.id=helpers$1.uid();me.ctx=context;me.canvas=canvas;me.config=config;me.width=width;me.height=height;me.aspectRatio=height?width/height:null;me.options=config.options;me._bufferedRender=false;me._layers=[];me.chart=me;me.controller=me;Chart.instances[me.id]=me;Object.defineProperty(me,"data",{get:function(){return me.config.data},set:function(value){me.config.data=value}});if(!context||!canvas){console.error("Failed to create chart: can't acquire context from the given item");return}me.initialize();me.update()},initialize:function(){var me=this;core_plugins.notify(me,"beforeInit");helpers$1.retinaScale(me,me.options.devicePixelRatio);me.bindEvents();if(me.options.responsive){me.resize(true)}me.initToolTip();core_plugins.notify(me,"afterInit");return me},clear:function(){helpers$1.canvas.clear(this);return this},stop:function(){core_animations.cancelAnimation(this);return this},resize:function(silent){var me=this;var options=me.options;var canvas=me.canvas;var aspectRatio=options.maintainAspectRatio&&me.aspectRatio||null;var newWidth=Math.max(0,Math.floor(helpers$1.getMaximumWidth(canvas)));var newHeight=Math.max(0,Math.floor(aspectRatio?newWidth/aspectRatio:helpers$1.getMaximumHeight(canvas)));if(me.width===newWidth&&me.height===newHeight){return}canvas.width=me.width=newWidth;canvas.height=me.height=newHeight;canvas.style.width=newWidth+"px";canvas.style.height=newHeight+"px";helpers$1.retinaScale(me,options.devicePixelRatio);if(!silent){var newSize={width:newWidth,height:newHeight};core_plugins.notify(me,"resize",[newSize]);if(options.onResize){options.onResize(me,newSize)}me.stop();me.update({duration:options.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var options=this.options;var scalesOptions=options.scales||{};var scaleOptions=options.scale;helpers$1.each(scalesOptions.xAxes,function(xAxisOptions,index){if(!xAxisOptions.id){xAxisOptions.id=nextAvailableScaleId(scalesOptions.xAxes,"x-axis-",index)}});helpers$1.each(scalesOptions.yAxes,function(yAxisOptions,index){if(!yAxisOptions.id){yAxisOptions.id=nextAvailableScaleId(scalesOptions.yAxes,"y-axis-",index)}});if(scaleOptions){scaleOptions.id=scaleOptions.id||"scale"}},buildOrUpdateScales:function(){var me=this;var options=me.options;var scales=me.scales||{};var items=[];var updated=Object.keys(scales).reduce(function(obj,id){obj[id]=false;return obj},{});if(options.scales){items=items.concat((options.scales.xAxes||[]).map(function(xAxisOptions){return{options:xAxisOptions,dtype:"category",dposition:"bottom"}}),(options.scales.yAxes||[]).map(function(yAxisOptions){return{options:yAxisOptions,dtype:"linear",dposition:"left"}}))}if(options.scale){items.push({options:options.scale,dtype:"radialLinear",isDefault:true,dposition:"chartArea"})}helpers$1.each(items,function(item){var scaleOptions=item.options;var id=scaleOptions.id;var scaleType=valueOrDefault$9(scaleOptions.type,item.dtype);if(positionIsHorizontal(scaleOptions.position)!==positionIsHorizontal(item.dposition)){scaleOptions.position=item.dposition}updated[id]=true;var scale=null;if(id in scales&&scales[id].type===scaleType){scale=scales[id];scale.options=scaleOptions;scale.ctx=me.ctx;scale.chart=me}else{var scaleClass=core_scaleService.getScaleConstructor(scaleType);if(!scaleClass){return}scale=new scaleClass({id:id,type:scaleType,options:scaleOptions,ctx:me.ctx,chart:me});scales[scale.id]=scale}scale.mergeTicksOptions();if(item.isDefault){me.scale=scale}});helpers$1.each(updated,function(hasUpdated,id){if(!hasUpdated){delete scales[id]}});me.scales=scales;core_scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var me=this;var newControllers=[];var datasets=me.data.datasets;var i,ilen;for(i=0,ilen=datasets.length;i<ilen;i++){var dataset=datasets[i];var meta=me.getDatasetMeta(i);var type=dataset.type||me.config.type;if(meta.type&&meta.type!==type){me.destroyDatasetMeta(i);meta=me.getDatasetMeta(i)}meta.type=type;meta.order=dataset.order||0;meta.index=i;if(meta.controller){meta.controller.updateIndex(i);meta.controller.linkScales()}else{var ControllerClass=controllers[meta.type];if(ControllerClass===undefined){throw new Error('"'+meta.type+'" is not a chart type.')}meta.controller=new ControllerClass(me,i);newControllers.push(meta.controller)}}return newControllers},resetElements:function(){var me=this;helpers$1.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.reset()},me)},reset:function(){this.resetElements();this.tooltip.initialize()},update:function(config){var me=this;var i,ilen;if(!config||typeof config!=="object"){config={duration:config,lazy:arguments[1]}}updateConfig(me);core_plugins._invalidate(me);if(core_plugins.notify(me,"beforeUpdate")===false){return}me.tooltip._data=me.data;var newControllers=me.buildOrUpdateControllers();for(i=0,ilen=me.data.datasets.length;i<ilen;i++){me.getDatasetMeta(i).controller.buildOrUpdateElements()}me.updateLayout();if(me.options.animation&&me.options.animation.duration){helpers$1.each(newControllers,function(controller){controller.reset()})}me.updateDatasets();me.tooltip.initialize();me.lastActive=[];core_plugins.notify(me,"afterUpdate");me._layers.sort(compare2Level("z","_idx"));if(me._bufferedRender){me._bufferedRequest={duration:config.duration,easing:config.easing,lazy:config.lazy}}else{me.render(config)}},updateLayout:function(){var me=this;if(core_plugins.notify(me,"beforeLayout")===false){return}core_layouts.update(this,this.width,this.height);me._layers=[];helpers$1.each(me.boxes,function(box){if(box._configure){box._configure()}me._layers.push.apply(me._layers,box._layers())},me);me._layers.forEach(function(item,index){item._idx=index});core_plugins.notify(me,"afterScaleUpdate");core_plugins.notify(me,"afterLayout")},updateDatasets:function(){var me=this;if(core_plugins.notify(me,"beforeDatasetsUpdate")===false){return}for(var i=0,ilen=me.data.datasets.length;i<ilen;++i){me.updateDataset(i)}core_plugins.notify(me,"afterDatasetsUpdate")},updateDataset:function(index){var me=this;var meta=me.getDatasetMeta(index);var args={meta:meta,index:index};if(core_plugins.notify(me,"beforeDatasetUpdate",[args])===false){return}meta.controller._update();core_plugins.notify(me,"afterDatasetUpdate",[args])},render:function(config){var me=this;if(!config||typeof config!=="object"){config={duration:config,lazy:arguments[1]}}var animationOptions=me.options.animation;var duration=valueOrDefault$9(config.duration,animationOptions&&animationOptions.duration);var lazy=config.lazy;if(core_plugins.notify(me,"beforeRender")===false){return}var onComplete=function(animation){core_plugins.notify(me,"afterRender");helpers$1.callback(animationOptions&&animationOptions.onComplete,[animation],me)};if(animationOptions&&duration){var animation=new core_animation({numSteps:duration/16.66,easing:config.easing||animationOptions.easing,render:function(chart,animationObject){var easingFunction=helpers$1.easing.effects[animationObject.easing];var currentStep=animationObject.currentStep;var stepDecimal=currentStep/animationObject.numSteps;chart.draw(easingFunction(stepDecimal),stepDecimal,currentStep)},onAnimationProgress:animationOptions.onProgress,onAnimationComplete:onComplete});core_animations.addAnimation(me,animation,duration,lazy)}else{me.draw();onComplete(new core_animation({numSteps:0,chart:me}))}return me},draw:function(easingValue){var me=this;var i,layers;me.clear();if(helpers$1.isNullOrUndef(easingValue)){easingValue=1}me.transition(easingValue);if(me.width<=0||me.height<=0){return}if(core_plugins.notify(me,"beforeDraw",[easingValue])===false){return}layers=me._layers;for(i=0;i<layers.length&&layers[i].z<=0;++i){layers[i].draw(me.chartArea)}me.drawDatasets(easingValue);for(;i<layers.length;++i){layers[i].draw(me.chartArea)}me._drawTooltip(easingValue);core_plugins.notify(me,"afterDraw",[easingValue])},transition:function(easingValue){var me=this;for(var i=0,ilen=(me.data.datasets||[]).length;i<ilen;++i){if(me.isDatasetVisible(i)){me.getDatasetMeta(i).controller.transition(easingValue)}}me.tooltip.transition(easingValue)},_getSortedDatasetMetas:function(filterVisible){var me=this;var datasets=me.data.datasets||[];var result=[];var i,ilen;for(i=0,ilen=datasets.length;i<ilen;++i){if(!filterVisible||me.isDatasetVisible(i)){result.push(me.getDatasetMeta(i))}}result.sort(compare2Level("order","index"));return result},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(true)},drawDatasets:function(easingValue){var me=this;var metasets,i;if(core_plugins.notify(me,"beforeDatasetsDraw",[easingValue])===false){return}metasets=me._getSortedVisibleDatasetMetas();for(i=metasets.length-1;i>=0;--i){me.drawDataset(metasets[i],easingValue)}core_plugins.notify(me,"afterDatasetsDraw",[easingValue])},drawDataset:function(meta,easingValue){var me=this;var args={meta:meta,index:meta.index,easingValue:easingValue};if(core_plugins.notify(me,"beforeDatasetDraw",[args])===false){return}meta.controller.draw(easingValue);core_plugins.notify(me,"afterDatasetDraw",[args])},_drawTooltip:function(easingValue){var me=this;var tooltip=me.tooltip;var args={tooltip:tooltip,easingValue:easingValue};if(core_plugins.notify(me,"beforeTooltipDraw",[args])===false){return}tooltip.draw();core_plugins.notify(me,"afterTooltipDraw",[args])},getElementAtEvent:function(e){return core_interaction.modes.single(this,e)},getElementsAtEvent:function(e){return core_interaction.modes.label(this,e,{intersect:true})},getElementsAtXAxis:function(e){return core_interaction.modes["x-axis"](this,e,{intersect:true})},getElementsAtEventForMode:function(e,mode,options){var method=core_interaction.modes[mode];if(typeof method==="function"){return method(this,e,options)}return[]},getDatasetAtEvent:function(e){return core_interaction.modes.dataset(this,e,{intersect:true})},getDatasetMeta:function(datasetIndex){var me=this;var dataset=me.data.datasets[datasetIndex];if(!dataset._meta){dataset._meta={}}var meta=dataset._meta[me.id];if(!meta){meta=dataset._meta[me.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:dataset.order||0,index:datasetIndex}}return meta},getVisibleDatasetCount:function(){var count=0;for(var i=0,ilen=this.data.datasets.length;i<ilen;++i){if(this.isDatasetVisible(i)){count++}}return count},isDatasetVisible:function(datasetIndex){var meta=this.getDatasetMeta(datasetIndex);return typeof meta.hidden==="boolean"?!meta.hidden:!this.data.datasets[datasetIndex].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(datasetIndex){var id=this.id;var dataset=this.data.datasets[datasetIndex];var meta=dataset._meta&&dataset._meta[id];if(meta){meta.controller.destroy();delete dataset._meta[id]}},destroy:function(){var me=this;var canvas=me.canvas;var i,ilen;me.stop();for(i=0,ilen=me.data.datasets.length;i<ilen;++i){me.destroyDatasetMeta(i)}if(canvas){me.unbindEvents();helpers$1.canvas.clear(me);platform.releaseContext(me.ctx);me.canvas=null;me.ctx=null}core_plugins.notify(me,"destroy");delete Chart.instances[me.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var me=this;me.tooltip=new core_tooltip({_chart:me,_chartInstance:me,_data:me.data,_options:me.options.tooltips},me)},bindEvents:function(){var me=this;var listeners=me._listeners={};var listener=function(){me.eventHandler.apply(me,arguments)};helpers$1.each(me.options.events,function(type){platform.addEventListener(me,type,listener);listeners[type]=listener});if(me.options.responsive){listener=function(){me.resize()};platform.addEventListener(me,"resize",listener);listeners.resize=listener}},unbindEvents:function(){var me=this;var listeners=me._listeners;if(!listeners){return}delete me._listeners;helpers$1.each(listeners,function(listener,type){platform.removeEventListener(me,type,listener)})},updateHoverStyle:function(elements,mode,enabled){var prefix=enabled?"set":"remove";var element,i,ilen;for(i=0,ilen=elements.length;i<ilen;++i){element=elements[i];if(element){this.getDatasetMeta(element._datasetIndex).controller[prefix+"HoverStyle"](element)}}if(mode==="dataset"){this.getDatasetMeta(elements[0]._datasetIndex).controller["_"+prefix+"DatasetHoverStyle"]()}},eventHandler:function(e){var me=this;var tooltip=me.tooltip;if(core_plugins.notify(me,"beforeEvent",[e])===false){return}me._bufferedRender=true;me._bufferedRequest=null;var changed=me.handleEvent(e);if(tooltip){changed=tooltip._start?tooltip.handleEvent(e):changed|tooltip.handleEvent(e)}core_plugins.notify(me,"afterEvent",[e]);var bufferedRequest=me._bufferedRequest;if(bufferedRequest){me.render(bufferedRequest)}else if(changed&&!me.animating){me.stop();me.render({duration:me.options.hover.animationDuration,lazy:true})}me._bufferedRender=false;me._bufferedRequest=null;return me},handleEvent:function(e){var me=this;var options=me.options||{};var hoverOptions=options.hover;var changed=false;me.lastActive=me.lastActive||[];if(e.type==="mouseout"){me.active=[]}else{me.active=me.getElementsAtEventForMode(e,hoverOptions.mode,hoverOptions)}helpers$1.callback(options.onHover||options.hover.onHover,[e.native,me.active],me);if(e.type==="mouseup"||e.type==="click"){if(options.onClick){options.onClick.call(me,e.native,me.active)}}if(me.lastActive.length){me.updateHoverStyle(me.lastActive,hoverOptions.mode,false)}if(me.active.length&&hoverOptions.mode){me.updateHoverStyle(me.active,hoverOptions.mode,true)}changed=!helpers$1.arrayEquals(me.active,me.lastActive);me.lastActive=me.active;return changed}}),Chart.instances={};var core_controller=Chart;(Chart.Controller=Chart).types={},helpers$1.configMerge=mergeConfig,helpers$1.scaleMerge=mergeScaleConfig;var core_helpers=function(){helpers$1.where=function(collection,filterCallback){if(helpers$1.isArray(collection)&&Array.prototype.filter){return collection.filter(filterCallback)}var filtered=[];helpers$1.each(collection,function(item){if(filterCallback(item)){filtered.push(item)}});return filtered};helpers$1.findIndex=Array.prototype.findIndex?function(array,callback,scope){return array.findIndex(callback,scope)}:function(array,callback,scope){scope=scope===undefined?array:scope;for(var i=0,ilen=array.length;i<ilen;++i){if(callback.call(scope,array[i],i,array)){return i}}return-1};helpers$1.findNextWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers$1.isNullOrUndef(startIndex)){startIndex=-1}for(var i=startIndex+1;i<arrayToSearch.length;i++){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem}}};helpers$1.findPreviousWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers$1.isNullOrUndef(startIndex)){startIndex=arrayToSearch.length}for(var i=startIndex-1;i>=0;i--){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem}}};helpers$1.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};helpers$1.almostEquals=function(x,y,epsilon){return Math.abs(x-y)<epsilon};helpers$1.almostWhole=function(x,epsilon){var rounded=Math.round(x);return rounded-epsilon<=x&&rounded+epsilon>=x};helpers$1.max=function(array){return array.reduce(function(max,value){if(!isNaN(value)){return Math.max(max,value)}return max},Number.NEGATIVE_INFINITY)};helpers$1.min=function(array){return array.reduce(function(min,value){if(!isNaN(value)){return Math.min(min,value)}return min},Number.POSITIVE_INFINITY)};helpers$1.sign=Math.sign?function(x){return Math.sign(x)}:function(x){x=+x;if(x===0||isNaN(x)){return x}return x>0?1:-1};helpers$1.toRadians=function(degrees){return degrees*(Math.PI/180)};helpers$1.toDegrees=function(radians){return radians*(180/Math.PI)};helpers$1._decimalPlaces=function(x){if(!helpers$1.isFinite(x)){return}var e=1;var p=0;while(Math.round(x*e)/e!==x){e*=10;p++}return p};helpers$1.getAngleFromPoint=function(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x;var distanceFromYCenter=anglePoint.y-centrePoint.y;var radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter);var angle=Math.atan2(distanceFromYCenter,distanceFromXCenter);if(angle<-.5*Math.PI){angle+=2*Math.PI}return{angle:angle,distance:radialDistanceFromCenter}};helpers$1.distanceBetweenPoints=function(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2))};helpers$1.aliasPixel=function(pixelWidth){return pixelWidth%2===0?0:.5};helpers$1._alignPixel=function(chart,pixel,width){var devicePixelRatio=chart.currentDevicePixelRatio;var halfWidth=width/2;return Math.round((pixel-halfWidth)*devicePixelRatio)/devicePixelRatio+halfWidth};helpers$1.splineCurve=function(firstPoint,middlePoint,afterPoint,t){var previous=firstPoint.skip?middlePoint:firstPoint;var current=middlePoint;var next=afterPoint.skip?middlePoint:afterPoint;var d01=Math.sqrt(Math.pow(current.x-previous.x,2)+Math.pow(current.y-previous.y,2));var d12=Math.sqrt(Math.pow(next.x-current.x,2)+Math.pow(next.y-current.y,2));var s01=d01/(d01+d12);var s12=d12/(d01+d12);s01=isNaN(s01)?0:s01;s12=isNaN(s12)?0:s12;var fa=t*s01;var fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}}};helpers$1.EPSILON=Number.EPSILON||1e-14;helpers$1.splineCurveMonotone=function(points){var pointsWithTangents=(points||[]).map(function(point){return{model:point._model,deltaK:0,mK:0}});var pointsLen=pointsWithTangents.length;var i,pointBefore,pointCurrent,pointAfter;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue}pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointAfter&&!pointAfter.model.skip){var slopeDeltaX=pointAfter.model.x-pointCurrent.model.x;pointCurrent.deltaK=slopeDeltaX!==0?(pointAfter.model.y-pointCurrent.model.y)/slopeDeltaX:0}if(!pointBefore||pointBefore.model.skip){pointCurrent.mK=pointCurrent.deltaK}else if(!pointAfter||pointAfter.model.skip){pointCurrent.mK=pointBefore.deltaK}else if(this.sign(pointBefore.deltaK)!==this.sign(pointCurrent.deltaK)){pointCurrent.mK=0}else{pointCurrent.mK=(pointBefore.deltaK+pointCurrent.deltaK)/2}}var alphaK,betaK,tauK,squaredMagnitude;for(i=0;i<pointsLen-1;++i){pointCurrent=pointsWithTangents[i];pointAfter=pointsWithTangents[i+1];if(pointCurrent.model.skip||pointAfter.model.skip){continue}if(helpers$1.almostEquals(pointCurrent.deltaK,0,this.EPSILON)){pointCurrent.mK=pointAfter.mK=0;continue}alphaK=pointCurrent.mK/pointCurrent.deltaK;betaK=pointAfter.mK/pointCurrent.deltaK;squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2);if(squaredMagnitude<=9){continue}tauK=3/Math.sqrt(squaredMagnitude);pointCurrent.mK=alphaK*tauK*pointCurrent.deltaK;pointAfter.mK=betaK*tauK*pointCurrent.deltaK}var deltaX;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue}pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointBefore&&!pointBefore.model.skip){deltaX=(pointCurrent.model.x-pointBefore.model.x)/3;pointCurrent.model.controlPointPreviousX=pointCurrent.model.x-deltaX;pointCurrent.model.controlPointPreviousY=pointCurrent.model.y-deltaX*pointCurrent.mK}if(pointAfter&&!pointAfter.model.skip){deltaX=(pointAfter.model.x-pointCurrent.model.x)/3;pointCurrent.model.controlPointNextX=pointCurrent.model.x+deltaX;pointCurrent.model.controlPointNextY=pointCurrent.model.y+deltaX*pointCurrent.mK}}};helpers$1.nextItem=function(collection,index,loop){if(loop){return index>=collection.length-1?collection[0]:collection[index+1]}return index>=collection.length-1?collection[collection.length-1]:collection[index+1]};helpers$1.previousItem=function(collection,index,loop){if(loop){return index<=0?collection[collection.length-1]:collection[index-1]}return index<=0?collection[0]:collection[index-1]};helpers$1.niceNum=function(range,round){var exponent=Math.floor(helpers$1.log10(range));var fraction=range/Math.pow(10,exponent);var niceFraction;if(round){if(fraction<1.5){niceFraction=1}else if(fraction<3){niceFraction=2}else if(fraction<7){niceFraction=5}else{niceFraction=10}}else if(fraction<=1){niceFraction=1}else if(fraction<=2){niceFraction=2}else if(fraction<=5){niceFraction=5}else{niceFraction=10}return niceFraction*Math.pow(10,exponent)};helpers$1.requestAnimFrame=function(){if(typeof window==="undefined"){return function(callback){callback()}}return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}();helpers$1.getRelativePosition=function(evt,chart){var mouseX,mouseY;var e=evt.originalEvent||evt;var canvas=evt.target||evt.srcElement;var boundingRect=canvas.getBoundingClientRect();var touches=e.touches;if(touches&&touches.length>0){mouseX=touches[0].clientX;mouseY=touches[0].clientY}else{mouseX=e.clientX;mouseY=e.clientY}var paddingLeft=parseFloat(helpers$1.getStyle(canvas,"padding-left"));var paddingTop=parseFloat(helpers$1.getStyle(canvas,"padding-top"));var paddingRight=parseFloat(helpers$1.getStyle(canvas,"padding-right"));var paddingBottom=parseFloat(helpers$1.getStyle(canvas,"padding-bottom"));var width=boundingRect.right-boundingRect.left-paddingLeft-paddingRight;var height=boundingRect.bottom-boundingRect.top-paddingTop-paddingBottom;mouseX=Math.round((mouseX-boundingRect.left-paddingLeft)/width*canvas.width/chart.currentDevicePixelRatio);mouseY=Math.round((mouseY-boundingRect.top-paddingTop)/height*canvas.height/chart.currentDevicePixelRatio);return{x:mouseX,y:mouseY}};function parseMaxStyle(styleValue,node,parentProperty){var valueInPixels;if(typeof styleValue==="string"){valueInPixels=parseInt(styleValue,10);if(styleValue.indexOf("%")!==-1){valueInPixels=valueInPixels/100*node.parentNode[parentProperty]}}else{valueInPixels=styleValue}return valueInPixels}function isConstrainedValue(value){return value!==undefined&&value!==null&&value!=="none"}function getConstraintDimension(domNode,maxStyle,percentageProperty){var view=document.defaultView;var parentNode=helpers$1._getParentNode(domNode);var constrainedNode=view.getComputedStyle(domNode)[maxStyle];var constrainedContainer=view.getComputedStyle(parentNode)[maxStyle];var hasCNode=isConstrainedValue(constrainedNode);var hasCContainer=isConstrainedValue(constrainedContainer);var infinity=Number.POSITIVE_INFINITY;if(hasCNode||hasCContainer){return Math.min(hasCNode?parseMaxStyle(constrainedNode,domNode,percentageProperty):infinity,hasCContainer?parseMaxStyle(constrainedContainer,parentNode,percentageProperty):infinity)}return"none"}helpers$1.getConstraintWidth=function(domNode){return getConstraintDimension(domNode,"max-width","clientWidth")};helpers$1.getConstraintHeight=function(domNode){return getConstraintDimension(domNode,"max-height","clientHeight")};helpers$1._calculatePadding=function(container,padding,parentDimension){padding=helpers$1.getStyle(container,padding);return padding.indexOf("%")>-1?parentDimension*parseInt(padding,10)/100:parseInt(padding,10)};helpers$1._getParentNode=function(domNode){var parent=domNode.parentNode;if(parent&&parent.toString()==="[object ShadowRoot]"){parent=parent.host}return parent};helpers$1.getMaximumWidth=function(domNode){var container=helpers$1._getParentNode(domNode);if(!container){return domNode.clientWidth}var clientWidth=container.clientWidth;var paddingLeft=helpers$1._calculatePadding(container,"padding-left",clientWidth);var paddingRight=helpers$1._calculatePadding(container,"padding-right",clientWidth);var w=clientWidth-paddingLeft-paddingRight;var cw=helpers$1.getConstraintWidth(domNode);return isNaN(cw)?w:Math.min(w,cw)};helpers$1.getMaximumHeight=function(domNode){var container=helpers$1._getParentNode(domNode);if(!container){return domNode.clientHeight}var clientHeight=container.clientHeight;var paddingTop=helpers$1._calculatePadding(container,"padding-top",clientHeight);var paddingBottom=helpers$1._calculatePadding(container,"padding-bottom",clientHeight);var h=clientHeight-paddingTop-paddingBottom;var ch=helpers$1.getConstraintHeight(domNode);return isNaN(ch)?h:Math.min(h,ch)};helpers$1.getStyle=function(el,property){return el.currentStyle?el.currentStyle[property]:document.defaultView.getComputedStyle(el,null).getPropertyValue(property)};helpers$1.retinaScale=function(chart,forceRatio){var pixelRatio=chart.currentDevicePixelRatio=forceRatio||typeof window!=="undefined"&&window.devicePixelRatio||1;if(pixelRatio===1){return}var canvas=chart.canvas;var height=chart.height;var width=chart.width;canvas.height=height*pixelRatio;canvas.width=width*pixelRatio;chart.ctx.scale(pixelRatio,pixelRatio);if(!canvas.style.height&&!canvas.style.width){canvas.style.height=height+"px";canvas.style.width=width+"px"}};helpers$1.fontString=function(pixelSize,fontStyle,fontFamily){return fontStyle+" "+pixelSize+"px "+fontFamily};helpers$1.longestText=function(ctx,font,arrayOfThings,cache){cache=cache||{};var data=cache.data=cache.data||{};var gc=cache.garbageCollect=cache.garbageCollect||[];if(cache.font!==font){data=cache.data={};gc=cache.garbageCollect=[];cache.font=font}ctx.font=font;var longest=0;var ilen=arrayOfThings.length;var i,j,jlen,thing,nestedThing;for(i=0;i<ilen;i++){thing=arrayOfThings[i];if(thing!==undefined&&thing!==null&&helpers$1.isArray(thing)!==true){longest=helpers$1.measureText(ctx,data,gc,longest,thing)}else if(helpers$1.isArray(thing)){for(j=0,jlen=thing.length;j<jlen;j++){nestedThing=thing[j];if(nestedThing!==undefined&&nestedThing!==null&&!helpers$1.isArray(nestedThing)){longest=helpers$1.measureText(ctx,data,gc,longest,nestedThing)}}}}var gcLen=gc.length/2;if(gcLen>arrayOfThings.length){for(i=0;i<gcLen;i++){delete data[gc[i]]}gc.splice(0,gcLen)}return longest};helpers$1.measureText=function(ctx,data,gc,longest,string){var textWidth=data[string];if(!textWidth){textWidth=data[string]=ctx.measureText(string).width;gc.push(string)}if(textWidth>longest){longest=textWidth}return longest};helpers$1.numberOfLabelLines=function(arrayOfThings){var numberOfLines=1;helpers$1.each(arrayOfThings,function(thing){if(helpers$1.isArray(thing)){if(thing.length>numberOfLines){numberOfLines=thing.length}}});return numberOfLines};helpers$1.color=!chartjsColor?function(value){console.error("Color.js not found!");return value}:function(value){if(value instanceof CanvasGradient){value=core_defaults.global.defaultColor}return chartjsColor(value)};helpers$1.getHoverColor=function(colorValue){return colorValue instanceof CanvasPattern||colorValue instanceof CanvasGradient?colorValue:helpers$1.color(colorValue).saturate(.5).darken(.1).rgbString()}};function abstract(){throw new Error("This method is not implemented: either no adapter can "+"be found or an incomplete integration was provided.")}function DateAdapter(options){this.options=options||{}}helpers$1.extend(DateAdapter.prototype,{formats:abstract,parse:abstract,format:abstract,add:abstract,diff:abstract,startOf:abstract,endOf:abstract,_create:function(value){return value}}),DateAdapter.override=function(members){helpers$1.extend(DateAdapter.prototype,members)};var _date,core_adapters={_date:DateAdapter},core_ticks={formatters:{values:function(value){return helpers$1.isArray(value)?value:""+value},linear:function(tickValue,index,ticks){var delta=ticks.length>3?ticks[2]-ticks[1]:ticks[1]-ticks[0];if(Math.abs(delta)>1){if(tickValue!==Math.floor(tickValue)){delta=tickValue-Math.floor(tickValue)}}var logDelta=helpers$1.log10(Math.abs(delta));var tickString="";if(tickValue!==0){var maxTick=Math.max(Math.abs(ticks[0]),Math.abs(ticks[ticks.length-1]));if(maxTick<1e-4){var logTick=helpers$1.log10(Math.abs(tickValue));var numExponential=Math.floor(logTick)-Math.floor(logDelta);numExponential=Math.max(Math.min(numExponential,20),0);tickString=tickValue.toExponential(numExponential)}else{var numDecimal=-1*Math.floor(logDelta);numDecimal=Math.max(Math.min(numDecimal,20),0);tickString=tickValue.toFixed(numDecimal)}}else{tickString="0"}return tickString},logarithmic:function(tickValue,index,ticks){var remain=tickValue/Math.pow(10,Math.floor(helpers$1.log10(tickValue)));if(tickValue===0){return"0"}else if(remain===1||remain===2||remain===5||index===0||index===ticks.length-1){return tickValue.toExponential()}return""}}},isArray=helpers$1.isArray,isNullOrUndef=helpers$1.isNullOrUndef,valueOrDefault$a=helpers$1.valueOrDefault,valueAtIndexOrDefault=helpers$1.valueAtIndexOrDefault;function sample(arr,numItems){var result=[];var increment=arr.length/numItems;var i=0;var len=arr.length;for(;i<len;i+=increment){result.push(arr[Math.floor(i)])}return result}function getPixelForGridLine(scale,index,offsetGridLines){var length=scale.getTicks().length;var validIndex=Math.min(index,length-1);var lineValue=scale.getPixelForTick(validIndex);var start=scale._startPixel;var end=scale._endPixel;var epsilon=1e-6;var offset;if(offsetGridLines){if(length===1){offset=Math.max(lineValue-start,end-lineValue)}else if(index===0){offset=(scale.getPixelForTick(1)-lineValue)/2}else{offset=(lineValue-scale.getPixelForTick(validIndex-1))/2}lineValue+=validIndex<index?offset:-offset;if(lineValue<start-epsilon||lineValue>end+epsilon){return}}return lineValue}function garbageCollect(caches,length){helpers$1.each(caches,function(cache){var gc=cache.gc;var gcLen=gc.length/2;var i;if(gcLen>length){for(i=0;i<gcLen;++i){delete cache.data[gc[i]]}gc.splice(0,gcLen)}})}function computeLabelSizes(ctx,tickFonts,ticks,caches){var length=ticks.length;var widths=[];var heights=[];var offsets=[];var i,j,jlen,label,tickFont,fontString,cache,lineHeight,width,height,nestedLabel,widest,highest;for(i=0;i<length;++i){label=ticks[i].label;tickFont=ticks[i].major?tickFonts.major:tickFonts.minor;ctx.font=fontString=tickFont.string;cache=caches[fontString]=caches[fontString]||{data:{},gc:[]};lineHeight=tickFont.lineHeight;width=height=0;if(!isNullOrUndef(label)&&!isArray(label)){width=helpers$1.measureText(ctx,cache.data,cache.gc,width,label);height=lineHeight}else if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){nestedLabel=label[j];if(!isNullOrUndef(nestedLabel)&&!isArray(nestedLabel)){width=helpers$1.measureText(ctx,cache.data,cache.gc,width,nestedLabel);height+=lineHeight}}}widths.push(width);heights.push(height);offsets.push(lineHeight/2)}garbageCollect(caches,length);widest=widths.indexOf(Math.max.apply(null,widths));highest=heights.indexOf(Math.max.apply(null,heights));function valueAt(idx){return{width:widths[idx]||0,height:heights[idx]||0,offset:offsets[idx]||0}}return{first:valueAt(0),last:valueAt(length-1),widest:valueAt(widest),highest:valueAt(highest)}}function getTickMarkLength(options){return options.drawTicks?options.tickMarkLength:0}function getScaleLabelHeight(options){var font,padding;if(!options.display){return 0}font=helpers$1.options._parseFont(options);padding=helpers$1.options.toPadding(options.padding);return font.lineHeight+padding.height}function parseFontOptions(options,nestedOpts){return helpers$1.extend(helpers$1.options._parseFont({fontFamily:valueOrDefault$a(nestedOpts.fontFamily,options.fontFamily),fontSize:valueOrDefault$a(nestedOpts.fontSize,options.fontSize),fontStyle:valueOrDefault$a(nestedOpts.fontStyle,options.fontStyle),lineHeight:valueOrDefault$a(nestedOpts.lineHeight,options.lineHeight)}),{color:helpers$1.options.resolve([nestedOpts.fontColor,options.fontColor,core_defaults.global.defaultFontColor])})}function parseTickFontOptions(options){var minor=parseFontOptions(options,options.minor);var major=options.major.enabled?parseFontOptions(options,options.major):minor;return{minor:minor,major:major}}function nonSkipped(ticksToFilter){var filtered=[];var item,index,len;for(index=0,len=ticksToFilter.length;index<len;++index){item=ticksToFilter[index];if(typeof item._index!=="undefined"){filtered.push(item)}}return filtered}function getEvenSpacing(arr){var len=arr.length;var i,diff;if(len<2){return false}for(diff=arr[0],i=1;i<len;++i){if(arr[i]-arr[i-1]!==diff){return false}}return diff}function calculateSpacing(majorIndices,ticks,axisLength,ticksLimit){var evenMajorSpacing=getEvenSpacing(majorIndices);var spacing=(ticks.length-1)/ticksLimit;var factors,factor,i,ilen;if(!evenMajorSpacing){return Math.max(spacing,1)}factors=helpers$1.math._factorize(evenMajorSpacing);for(i=0,ilen=factors.length-1;i<ilen;i++){factor=factors[i];if(factor>spacing){return factor}}return Math.max(spacing,1)}function getMajorIndices(ticks){var result=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;i++){if(ticks[i].major){result.push(i)}}return result}function skipMajors(ticks,majorIndices,spacing){var count=0;var next=majorIndices[0];var i,tick;spacing=Math.ceil(spacing);for(i=0;i<ticks.length;i++){tick=ticks[i];if(i===next){tick._index=i;count++;next=majorIndices[count*spacing]}else{delete tick.label}}}function skip(ticks,spacing,majorStart,majorEnd){var start=valueOrDefault$a(majorStart,0);var end=Math.min(valueOrDefault$a(majorEnd,ticks.length),ticks.length);var count=0;var length,i,tick,next;spacing=Math.ceil(spacing);if(majorEnd){length=majorEnd-majorStart;spacing=length/Math.floor(length/spacing)}next=start;while(next<0){count++;next=Math.round(start+count*spacing)}for(i=Math.max(start,0);i<end;i++){tick=ticks[i];if(i===next){tick._index=i;count++;next=Math.round(start+count*spacing)}else{delete tick.label}}}core_defaults._set("scale",{display:true,position:"left",offset:false,gridLines:{display:true,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:false,borderDash:[],borderDashOffset:0},scaleLabel:{display:false,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:false,minRotation:0,maxRotation:50,mirror:false,padding:0,reverse:false,display:true,autoSkip:true,autoSkipPadding:0,labelOffset:0,callback:core_ticks.formatters.values,minor:{},major:{}}});var Scale=core_element.extend({zeroLineIndex:0,getPadding:function(){var me=this;return{left:me.paddingLeft||0,top:me.paddingTop||0,right:me.paddingRight||0,bottom:me.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var data=this.chart.data;return this.options.labels||(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){helpers$1.callback(this.options.beforeUpdate,[this])},update:function(maxWidth,maxHeight,margins){var me=this;var tickOpts=me.options.ticks;var sampleSize=tickOpts.sampleSize;var i,ilen,labels,ticks,samplingEnabled;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=helpers$1.extend({left:0,right:0,top:0,bottom:0},margins);me._ticks=null;me.ticks=null;me._labelSizes=null;me._maxLabelLines=0;me.longestLabelWidth=0;me.longestTextCache=me.longestTextCache||{};me._gridLineItems=null;me._labelItems=null;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeDataLimits();me.determineDataLimits();me.afterDataLimits();me.beforeBuildTicks();ticks=me.buildTicks()||[];ticks=me.afterBuildTicks(ticks)||ticks;if((!ticks||!ticks.length)&&me.ticks){ticks=[];for(i=0,ilen=me.ticks.length;i<ilen;++i){ticks.push({value:me.ticks[i],major:false})}}me._ticks=ticks;samplingEnabled=sampleSize<ticks.length;labels=me._convertTicksToLabels(samplingEnabled?sample(ticks,sampleSize):ticks);me._configure();me.beforeCalculateTickRotation();me.calculateTickRotation();me.afterCalculateTickRotation();me.beforeFit();me.fit();me.afterFit();me._ticksToDraw=tickOpts.display&&(tickOpts.autoSkip||tickOpts.source==="auto")?me._autoSkip(ticks):ticks;if(samplingEnabled){labels=me._convertTicksToLabels(me._ticksToDraw)}me.ticks=labels;me.afterUpdate();return me.minSize},_configure:function(){var me=this;var reversePixels=me.options.ticks.reverse;var startPixel,endPixel;if(me.isHorizontal()){startPixel=me.left;endPixel=me.right}else{startPixel=me.top;endPixel=me.bottom;reversePixels=!reversePixels}me._startPixel=startPixel;me._endPixel=endPixel;me._reversePixels=reversePixels;me._length=endPixel-startPixel},afterUpdate:function(){helpers$1.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){helpers$1.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0},afterSetDimensions:function(){helpers$1.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){helpers$1.callback(this.options.beforeDataLimits,[this])},determineDataLimits:helpers$1.noop,afterDataLimits:function(){helpers$1.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){helpers$1.callback(this.options.beforeBuildTicks,[this])},buildTicks:helpers$1.noop,afterBuildTicks:function(ticks){var me=this;if(isArray(ticks)&&ticks.length){return helpers$1.callback(me.options.afterBuildTicks,[me,ticks])}me.ticks=helpers$1.callback(me.options.afterBuildTicks,[me,me.ticks])||me.ticks;return ticks},beforeTickToLabelConversion:function(){helpers$1.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var me=this;var tickOpts=me.options.ticks;me.ticks=me.ticks.map(tickOpts.userCallback||tickOpts.callback,this)},afterTickToLabelConversion:function(){helpers$1.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){helpers$1.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var me=this;var options=me.options;var tickOpts=options.ticks;var numTicks=me.getTicks().length;var minRotation=tickOpts.minRotation||0;var maxRotation=tickOpts.maxRotation;var labelRotation=minRotation;var labelSizes,maxLabelWidth,maxLabelHeight,maxWidth,tickWidth,maxHeight,maxLabelDiagonal;if(!me._isVisible()||!tickOpts.display||minRotation>=maxRotation||numTicks<=1||!me.isHorizontal()){me.labelRotation=minRotation;return}labelSizes=me._getLabelSizes();maxLabelWidth=labelSizes.widest.width;maxLabelHeight=labelSizes.highest.height-labelSizes.highest.offset;maxWidth=Math.min(me.maxWidth,me.chart.width-maxLabelWidth);tickWidth=options.offset?me.maxWidth/numTicks:maxWidth/(numTicks-1);if(maxLabelWidth+6>tickWidth){tickWidth=maxWidth/(numTicks-(options.offset?.5:1));maxHeight=me.maxHeight-getTickMarkLength(options.gridLines)-tickOpts.padding-getScaleLabelHeight(options.scaleLabel);maxLabelDiagonal=Math.sqrt(maxLabelWidth*maxLabelWidth+maxLabelHeight*maxLabelHeight);labelRotation=helpers$1.toDegrees(Math.min(Math.asin(Math.min((labelSizes.highest.height+6)/tickWidth,1)),Math.asin(Math.min(maxHeight/maxLabelDiagonal,1))-Math.asin(maxLabelHeight/maxLabelDiagonal)));labelRotation=Math.max(minRotation,Math.min(maxRotation,labelRotation))}me.labelRotation=labelRotation},afterCalculateTickRotation:function(){helpers$1.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){helpers$1.callback(this.options.beforeFit,[this])},fit:function(){var me=this;var minSize=me.minSize={width:0,height:0};var chart=me.chart;var opts=me.options;var tickOpts=opts.ticks;var scaleLabelOpts=opts.scaleLabel;var gridLineOpts=opts.gridLines;var display=me._isVisible();var isBottom=opts.position==="bottom";var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth}else if(display){minSize.width=getTickMarkLength(gridLineOpts)+getScaleLabelHeight(scaleLabelOpts)}if(!isHorizontal){minSize.height=me.maxHeight}else if(display){minSize.height=getTickMarkLength(gridLineOpts)+getScaleLabelHeight(scaleLabelOpts)}if(tickOpts.display&&display){var tickFonts=parseTickFontOptions(tickOpts);var labelSizes=me._getLabelSizes();var firstLabelSize=labelSizes.first;var lastLabelSize=labelSizes.last;var widestLabelSize=labelSizes.widest;var highestLabelSize=labelSizes.highest;var lineSpace=tickFonts.minor.lineHeight*.4;var tickPadding=tickOpts.padding;if(isHorizontal){var isRotated=me.labelRotation!==0;var angleRadians=helpers$1.toRadians(me.labelRotation);var cosRotation=Math.cos(angleRadians);var sinRotation=Math.sin(angleRadians);var labelHeight=sinRotation*widestLabelSize.width+cosRotation*(highestLabelSize.height-(isRotated?highestLabelSize.offset:0))+(isRotated?0:lineSpace);minSize.height=Math.min(me.maxHeight,minSize.height+labelHeight+tickPadding);var offsetLeft=me.getPixelForTick(0)-me.left;var offsetRight=me.right-me.getPixelForTick(me.getTicks().length-1);var paddingLeft,paddingRight;if(isRotated){paddingLeft=isBottom?cosRotation*firstLabelSize.width+sinRotation*firstLabelSize.offset:sinRotation*(firstLabelSize.height-firstLabelSize.offset);paddingRight=isBottom?sinRotation*(lastLabelSize.height-lastLabelSize.offset):cosRotation*lastLabelSize.width+sinRotation*lastLabelSize.offset}else{paddingLeft=firstLabelSize.width/2;paddingRight=lastLabelSize.width/2}me.paddingLeft=Math.max((paddingLeft-offsetLeft)*me.width/(me.width-offsetLeft),0)+3;me.paddingRight=Math.max((paddingRight-offsetRight)*me.width/(me.width-offsetRight),0)+3}else{var labelWidth=tickOpts.mirror?0:widestLabelSize.width+tickPadding+lineSpace;minSize.width=Math.min(me.maxWidth,minSize.width+labelWidth);me.paddingTop=firstLabelSize.height/2;me.paddingBottom=lastLabelSize.height/2}}me.handleMargins();if(isHorizontal){me.width=me._length=chart.width-me.margins.left-me.margins.right;me.height=minSize.height}else{me.width=minSize.width;me.height=me._length=chart.height-me.margins.top-me.margins.bottom}},handleMargins:function(){var me=this;if(me.margins){me.margins.left=Math.max(me.paddingLeft,me.margins.left);me.margins.top=Math.max(me.paddingTop,me.margins.top);me.margins.right=Math.max(me.paddingRight,me.margins.right);me.margins.bottom=Math.max(me.paddingBottom,me.margins.bottom)}},afterFit:function(){helpers$1.callback(this.options.afterFit,[this])},isHorizontal:function(){var pos=this.options.position;return pos==="top"||pos==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(rawValue){if(isNullOrUndef(rawValue)){return NaN}if((typeof rawValue==="number"||rawValue instanceof Number)&&!isFinite(rawValue)){return NaN}if(rawValue){if(this.isHorizontal()){if(rawValue.x!==undefined){return this.getRightValue(rawValue.x)}}else if(rawValue.y!==undefined){return this.getRightValue(rawValue.y)}}return rawValue},_convertTicksToLabels:function(ticks){var me=this;var labels,i,ilen;me.ticks=ticks.map(function(tick){return tick.value});me.beforeTickToLabelConversion();labels=me.convertTicksToLabels(ticks)||me.ticks;me.afterTickToLabelConversion();for(i=0,ilen=ticks.length;i<ilen;++i){ticks[i].label=labels[i]}return labels},_getLabelSizes:function(){var me=this;var labelSizes=me._labelSizes;if(!labelSizes){me._labelSizes=labelSizes=computeLabelSizes(me.ctx,parseTickFontOptions(me.options.ticks),me.getTicks(),me.longestTextCache);me.longestLabelWidth=labelSizes.widest.width}return labelSizes},_parseValue:function(value){var start,end,min,max;if(isArray(value)){start=+this.getRightValue(value[0]);end=+this.getRightValue(value[1]);min=Math.min(start,end);max=Math.max(start,end)}else{value=+this.getRightValue(value);start=undefined;end=value;min=value;max=value}return{min:min,max:max,start:start,end:end}},_getScaleLabel:function(rawValue){var v=this._parseValue(rawValue);if(v.start!==undefined){return"["+v.start+", "+v.end+"]"}return+this.getRightValue(rawValue)},getLabelForIndex:helpers$1.noop,getPixelForValue:helpers$1.noop,getValueForPixel:helpers$1.noop,getPixelForTick:function(index){var me=this;var offset=me.options.offset;var numTicks=me._ticks.length;var tickWidth=1/Math.max(numTicks-(offset?0:1),1);return index<0||index>numTicks-1?null:me.getPixelForDecimal(index*tickWidth+(offset?tickWidth/2:0))},getPixelForDecimal:function(decimal){var me=this;if(me._reversePixels){decimal=1-decimal}return me._startPixel+decimal*me._length},getDecimalForPixel:function(pixel){var decimal=(pixel-this._startPixel)/this._length;return this._reversePixels?1-decimal:decimal},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var me=this;var min=me.min;var max=me.max;return me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0},_autoSkip:function(ticks){var me=this;var tickOpts=me.options.ticks;var axisLength=me._length;var ticksLimit=tickOpts.maxTicksLimit||axisLength/me._tickSize()+1;var majorIndices=tickOpts.major.enabled?getMajorIndices(ticks):[];var numMajorIndices=majorIndices.length;var first=majorIndices[0];var last=majorIndices[numMajorIndices-1];var i,ilen,spacing,avgMajorSpacing;if(numMajorIndices>ticksLimit){skipMajors(ticks,majorIndices,numMajorIndices/ticksLimit);return nonSkipped(ticks)}spacing=calculateSpacing(majorIndices,ticks,axisLength,ticksLimit);if(numMajorIndices>0){for(i=0,ilen=numMajorIndices-1;i<ilen;i++){skip(ticks,spacing,majorIndices[i],majorIndices[i+1])}avgMajorSpacing=numMajorIndices>1?(last-first)/(numMajorIndices-1):null;skip(ticks,spacing,helpers$1.isNullOrUndef(avgMajorSpacing)?0:first-avgMajorSpacing,first);skip(ticks,spacing,last,helpers$1.isNullOrUndef(avgMajorSpacing)?ticks.length:last+avgMajorSpacing);return nonSkipped(ticks)}skip(ticks,spacing);return nonSkipped(ticks)},_tickSize:function(){var me=this;var optionTicks=me.options.ticks;var rot=helpers$1.toRadians(me.labelRotation);var cos=Math.abs(Math.cos(rot));var sin=Math.abs(Math.sin(rot));var labelSizes=me._getLabelSizes();var padding=optionTicks.autoSkipPadding||0;var w=labelSizes?labelSizes.widest.width+padding:0;var h=labelSizes?labelSizes.highest.height+padding:0;return me.isHorizontal()?h*cos>w*sin?w/cos:h/sin:h*sin<w*cos?h/cos:w/sin},_isVisible:function(){var me=this;var chart=me.chart;var display=me.options.display;var i,ilen,meta;if(display!=="auto"){return!!display}for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);if(meta.xAxisID===me.id||meta.yAxisID===me.id){return true}}}return false},_computeGridLineItems:function(chartArea){var me=this;var chart=me.chart;var options=me.options;var gridLines=options.gridLines;var position=options.position;var offsetGridLines=gridLines.offsetGridLines;var isHorizontal=me.isHorizontal();var ticks=me._ticksToDraw;var ticksLength=ticks.length+(offsetGridLines?1:0);var tl=getTickMarkLength(gridLines);var items=[];var axisWidth=gridLines.drawBorder?valueAtIndexOrDefault(gridLines.lineWidth,0,0):0;var axisHalfWidth=axisWidth/2;var alignPixel=helpers$1._alignPixel;var alignBorderValue=function(pixel){return alignPixel(chart,pixel,axisWidth)};var borderValue,i,tick,lineValue,alignedLineValue;var tx1,ty1,tx2,ty2,x1,y1,x2,y2,lineWidth,lineColor,borderDash,borderDashOffset;if(position==="top"){borderValue=alignBorderValue(me.bottom);ty1=me.bottom-tl;ty2=borderValue-axisHalfWidth;y1=alignBorderValue(chartArea.top)+axisHalfWidth;y2=chartArea.bottom}else if(position==="bottom"){borderValue=alignBorderValue(me.top);y1=chartArea.top;y2=alignBorderValue(chartArea.bottom)-axisHalfWidth;ty1=borderValue+axisHalfWidth;ty2=me.top+tl}else if(position==="left"){borderValue=alignBorderValue(me.right);tx1=me.right-tl;tx2=borderValue-axisHalfWidth;x1=alignBorderValue(chartArea.left)+axisHalfWidth;x2=chartArea.right}else{borderValue=alignBorderValue(me.left);x1=chartArea.left;x2=alignBorderValue(chartArea.right)-axisHalfWidth;tx1=borderValue+axisHalfWidth;tx2=me.left+tl}for(i=0;i<ticksLength;++i){tick=ticks[i]||{};if(isNullOrUndef(tick.label)&&i<ticks.length){continue}if(i===me.zeroLineIndex&&options.offset===offsetGridLines){lineWidth=gridLines.zeroLineWidth;lineColor=gridLines.zeroLineColor;borderDash=gridLines.zeroLineBorderDash||[];borderDashOffset=gridLines.zeroLineBorderDashOffset||0}else{lineWidth=valueAtIndexOrDefault(gridLines.lineWidth,i,1);lineColor=valueAtIndexOrDefault(gridLines.color,i,"rgba(0,0,0,0.1)");borderDash=gridLines.borderDash||[];borderDashOffset=gridLines.borderDashOffset||0}lineValue=getPixelForGridLine(me,tick._index||i,offsetGridLines);if(lineValue===undefined){continue}alignedLineValue=alignPixel(chart,lineValue,lineWidth);if(isHorizontal){tx1=tx2=x1=x2=alignedLineValue}else{ty1=ty2=y1=y2=alignedLineValue}items.push({tx1:tx1,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,width:lineWidth,color:lineColor,borderDash:borderDash,borderDashOffset:borderDashOffset})}items.ticksLength=ticksLength;items.borderValue=borderValue;return items},_computeLabelItems:function(){var me=this;var options=me.options;var optionTicks=options.ticks;var position=options.position;var isMirrored=optionTicks.mirror;var isHorizontal=me.isHorizontal();var ticks=me._ticksToDraw;var fonts=parseTickFontOptions(optionTicks);var tickPadding=optionTicks.padding;var tl=getTickMarkLength(options.gridLines);var rotation=-helpers$1.toRadians(me.labelRotation);var items=[];var i,ilen,tick,label,x,y,textAlign,pixel,font,lineHeight,lineCount,textOffset;if(position==="top"){y=me.bottom-tl-tickPadding;textAlign=!rotation?"center":"left"}else if(position==="bottom"){y=me.top+tl+tickPadding;textAlign=!rotation?"center":"right"}else if(position==="left"){x=me.right-(isMirrored?0:tl)-tickPadding;textAlign=isMirrored?"left":"right"}else{x=me.left+(isMirrored?0:tl)+tickPadding;textAlign=isMirrored?"right":"left"}for(i=0,ilen=ticks.length;i<ilen;++i){tick=ticks[i];label=tick.label;if(isNullOrUndef(label)){continue}pixel=me.getPixelForTick(tick._index||i)+optionTicks.labelOffset;font=tick.major?fonts.major:fonts.minor;lineHeight=font.lineHeight;lineCount=isArray(label)?label.length:1;if(isHorizontal){x=pixel;textOffset=position==="top"?((!rotation?.5:1)-lineCount)*lineHeight:(!rotation?.5:0)*lineHeight}else{y=pixel;textOffset=(1-lineCount)*lineHeight/2}items.push({x:x,y:y,rotation:rotation,label:label,font:font,textOffset:textOffset,textAlign:textAlign})}return items},_drawGrid:function(chartArea){var me=this;var gridLines=me.options.gridLines;if(!gridLines.display){return}var ctx=me.ctx;var chart=me.chart;var alignPixel=helpers$1._alignPixel;var axisWidth=gridLines.drawBorder?valueAtIndexOrDefault(gridLines.lineWidth,0,0):0;var items=me._gridLineItems||(me._gridLineItems=me._computeGridLineItems(chartArea));var width,color,i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];width=item.width;color=item.color;if(width&&color){ctx.save();ctx.lineWidth=width;ctx.strokeStyle=color;if(ctx.setLineDash){ctx.setLineDash(item.borderDash);ctx.lineDashOffset=item.borderDashOffset}ctx.beginPath();if(gridLines.drawTicks){ctx.moveTo(item.tx1,item.ty1);ctx.lineTo(item.tx2,item.ty2)}if(gridLines.drawOnChartArea){ctx.moveTo(item.x1,item.y1);ctx.lineTo(item.x2,item.y2)}ctx.stroke();ctx.restore()}}if(axisWidth){var firstLineWidth=axisWidth;var lastLineWidth=valueAtIndexOrDefault(gridLines.lineWidth,items.ticksLength-1,1);var borderValue=items.borderValue;var x1,x2,y1,y2;if(me.isHorizontal()){x1=alignPixel(chart,me.left,firstLineWidth)-firstLineWidth/2;x2=alignPixel(chart,me.right,lastLineWidth)+lastLineWidth/2;y1=y2=borderValue}else{y1=alignPixel(chart,me.top,firstLineWidth)-firstLineWidth/2;y2=alignPixel(chart,me.bottom,lastLineWidth)+lastLineWidth/2;x1=x2=borderValue}ctx.lineWidth=axisWidth;ctx.strokeStyle=valueAtIndexOrDefault(gridLines.color,0);ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke()}},_drawLabels:function(){var me=this;var optionTicks=me.options.ticks;if(!optionTicks.display){return}var ctx=me.ctx;var items=me._labelItems||(me._labelItems=me._computeLabelItems());var i,j,ilen,jlen,item,tickFont,label,y;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];tickFont=item.font;ctx.save();ctx.translate(item.x,item.y);ctx.rotate(item.rotation);ctx.font=tickFont.string;ctx.fillStyle=tickFont.color;ctx.textBaseline="middle";ctx.textAlign=item.textAlign;label=item.label;y=item.textOffset;if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){ctx.fillText(""+label[j],0,y);y+=tickFont.lineHeight}}else{ctx.fillText(label,0,y)}ctx.restore()}},_drawTitle:function(){var me=this;var ctx=me.ctx;var options=me.options;var scaleLabel=options.scaleLabel;if(!scaleLabel.display){return}var scaleLabelFontColor=valueOrDefault$a(scaleLabel.fontColor,core_defaults.global.defaultFontColor);var scaleLabelFont=helpers$1.options._parseFont(scaleLabel);var scaleLabelPadding=helpers$1.options.toPadding(scaleLabel.padding);var halfLineHeight=scaleLabelFont.lineHeight/2;var position=options.position;var rotation=0;var scaleLabelX,scaleLabelY;if(me.isHorizontal()){scaleLabelX=me.left+me.width/2;scaleLabelY=position==="bottom"?me.bottom-halfLineHeight-scaleLabelPadding.bottom:me.top+halfLineHeight+scaleLabelPadding.top}else{var isLeft=position==="left";scaleLabelX=isLeft?me.left+halfLineHeight+scaleLabelPadding.top:me.right-halfLineHeight-scaleLabelPadding.top;scaleLabelY=me.top+me.height/2;rotation=isLeft?-.5*Math.PI:.5*Math.PI}ctx.save();ctx.translate(scaleLabelX,scaleLabelY);ctx.rotate(rotation);ctx.textAlign="center";ctx.textBaseline="middle";ctx.fillStyle=scaleLabelFontColor;ctx.font=scaleLabelFont.string;ctx.fillText(scaleLabel.labelString,0,0);ctx.restore()},draw:function(chartArea){var me=this;if(!me._isVisible()){return}me._drawGrid(chartArea);me._drawTitle();me._drawLabels()},_layers:function(){var me=this;var opts=me.options;var tz=opts.ticks&&opts.ticks.z||0;var gz=opts.gridLines&&opts.gridLines.z||0;if(!me._isVisible()||tz===gz||me.draw!==me._draw){return[{z:tz,draw:function(){me.draw.apply(me,arguments)}}]}return[{z:gz,draw:function(){me._drawGrid.apply(me,arguments);me._drawTitle.apply(me,arguments)}},{z:tz,draw:function(){me._drawLabels.apply(me,arguments)}}]},_getMatchingVisibleMetas:function(type){var me=this;var isHorizontal=me.isHorizontal();return me.chart._getSortedVisibleDatasetMetas().filter(function(meta){return(!type||meta.type===type)&&(isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id)})}});Scale.prototype._draw=Scale.prototype.draw;var core_scale=Scale,isNullOrUndef$1=helpers$1.isNullOrUndef,defaultConfig={position:"bottom"},scale_category=core_scale.extend({determineDataLimits:function(){var me=this;var labels=me._getLabels();var ticksOpts=me.options.ticks;var min=ticksOpts.min;var max=ticksOpts.max;var minIndex=0;var maxIndex=labels.length-1;var findIndex;if(min!==undefined){findIndex=labels.indexOf(min);if(findIndex>=0){minIndex=findIndex}}if(max!==undefined){findIndex=labels.indexOf(max);if(findIndex>=0){maxIndex=findIndex}}me.minIndex=minIndex;me.maxIndex=maxIndex;me.min=labels[minIndex];me.max=labels[maxIndex]},buildTicks:function(){var me=this;var labels=me._getLabels();var minIndex=me.minIndex;var maxIndex=me.maxIndex;me.ticks=minIndex===0&&maxIndex===labels.length-1?labels:labels.slice(minIndex,maxIndex+1)},getLabelForIndex:function(index,datasetIndex){var me=this;var chart=me.chart;if(chart.getDatasetMeta(datasetIndex).controller._getValueScaleId()===me.id){return me.getRightValue(chart.data.datasets[datasetIndex].data[index])}return me._getLabels()[index]},_configure:function(){var me=this;var offset=me.options.offset;var ticks=me.ticks;core_scale.prototype._configure.call(me);if(!me.isHorizontal()){me._reversePixels=!me._reversePixels}if(!ticks){return}me._startValue=me.minIndex-(offset?.5:0);me._valueRange=Math.max(ticks.length-(offset?0:1),1)},getPixelForValue:function(value,index,datasetIndex){var me=this;var valueCategory,labels,idx;if(!isNullOrUndef$1(index)&&!isNullOrUndef$1(datasetIndex)){value=me.chart.data.datasets[datasetIndex].data[index]}if(!isNullOrUndef$1(value)){valueCategory=me.isHorizontal()?value.x:value.y}if(valueCategory!==undefined||value!==undefined&&isNaN(index)){labels=me._getLabels();value=helpers$1.valueOrDefault(valueCategory,value);idx=labels.indexOf(value);index=idx!==-1?idx:index;if(isNaN(index)){index=value}}return me.getPixelForDecimal((index-me._startValue)/me._valueRange)},getPixelForTick:function(index){var ticks=this.ticks;return index<0||index>ticks.length-1?null:this.getPixelForValue(ticks[index],index+this.minIndex)},getValueForPixel:function(pixel){var me=this;var value=Math.round(me._startValue+me.getDecimalForPixel(pixel)*me._valueRange);return Math.min(Math.max(value,0),me.ticks.length-1)},getBasePixel:function(){return this.bottom}}),_defaults=defaultConfig;scale_category._defaults=_defaults;var noop=helpers$1.noop,isNullOrUndef$2=helpers$1.isNullOrUndef;function generateTicks(generationOptions,dataRange){var ticks=[];var MIN_SPACING=1e-14;var stepSize=generationOptions.stepSize;var unit=stepSize||1;var maxNumSpaces=generationOptions.maxTicks-1;var min=generationOptions.min;var max=generationOptions.max;var precision=generationOptions.precision;var rmin=dataRange.min;var rmax=dataRange.max;var spacing=helpers$1.niceNum((rmax-rmin)/maxNumSpaces/unit)*unit;var factor,niceMin,niceMax,numSpaces;if(spacing<MIN_SPACING&&isNullOrUndef$2(min)&&isNullOrUndef$2(max)){return[rmin,rmax]}numSpaces=Math.ceil(rmax/spacing)-Math.floor(rmin/spacing);if(numSpaces>maxNumSpaces){spacing=helpers$1.niceNum(numSpaces*spacing/maxNumSpaces/unit)*unit}if(stepSize||isNullOrUndef$2(precision)){factor=Math.pow(10,helpers$1._decimalPlaces(spacing))}else{factor=Math.pow(10,precision);spacing=Math.ceil(spacing*factor)/factor}niceMin=Math.floor(rmin/spacing)*spacing;niceMax=Math.ceil(rmax/spacing)*spacing;if(stepSize){if(!isNullOrUndef$2(min)&&helpers$1.almostWhole(min/spacing,spacing/1e3)){niceMin=min}if(!isNullOrUndef$2(max)&&helpers$1.almostWhole(max/spacing,spacing/1e3)){niceMax=max}}numSpaces=(niceMax-niceMin)/spacing;if(helpers$1.almostEquals(numSpaces,Math.round(numSpaces),spacing/1e3)){numSpaces=Math.round(numSpaces)}else{numSpaces=Math.ceil(numSpaces)}niceMin=Math.round(niceMin*factor)/factor;niceMax=Math.round(niceMax*factor)/factor;ticks.push(isNullOrUndef$2(min)?niceMin:min);for(var j=1;j<numSpaces;++j){ticks.push(Math.round((niceMin+j*spacing)*factor)/factor)}ticks.push(isNullOrUndef$2(max)?niceMax:max);return ticks}var scale_linearbase=core_scale.extend({getRightValue:function(value){if(typeof value==="string"){return+value}return core_scale.prototype.getRightValue.call(this,value)},handleTickRangeOptions:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;if(tickOpts.beginAtZero){var minSign=helpers$1.sign(me.min);var maxSign=helpers$1.sign(me.max);if(minSign<0&&maxSign<0){me.max=0}else if(minSign>0&&maxSign>0){me.min=0}}var setMin=tickOpts.min!==undefined||tickOpts.suggestedMin!==undefined;var setMax=tickOpts.max!==undefined||tickOpts.suggestedMax!==undefined;if(tickOpts.min!==undefined){me.min=tickOpts.min}else if(tickOpts.suggestedMin!==undefined){if(me.min===null){me.min=tickOpts.suggestedMin}else{me.min=Math.min(me.min,tickOpts.suggestedMin)}}if(tickOpts.max!==undefined){me.max=tickOpts.max}else if(tickOpts.suggestedMax!==undefined){if(me.max===null){me.max=tickOpts.suggestedMax}else{me.max=Math.max(me.max,tickOpts.suggestedMax)}}if(setMin!==setMax){if(me.min>=me.max){if(setMin){me.max=me.min+1}else{me.min=me.max-1}}}if(me.min===me.max){me.max++;if(!tickOpts.beginAtZero){me.min--}}},getTickLimit:function(){var me=this;var tickOpts=me.options.ticks;var stepSize=tickOpts.stepSize;var maxTicksLimit=tickOpts.maxTicksLimit;var maxTicks;if(stepSize){maxTicks=Math.ceil(me.max/stepSize)-Math.floor(me.min/stepSize)+1}else{maxTicks=me._computeTickLimit();maxTicksLimit=maxTicksLimit||11}if(maxTicksLimit){maxTicks=Math.min(maxTicksLimit,maxTicks)}return maxTicks},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:noop,buildTicks:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var maxTicks=me.getTickLimit();maxTicks=Math.max(2,maxTicks);var numericGeneratorOptions={maxTicks:maxTicks,min:tickOpts.min,max:tickOpts.max,precision:tickOpts.precision,stepSize:helpers$1.valueOrDefault(tickOpts.fixedStepSize,tickOpts.stepSize)};var ticks=me.ticks=generateTicks(numericGeneratorOptions,me);me.handleDirectionalChanges();me.max=helpers$1.max(ticks);me.min=helpers$1.min(ticks);if(tickOpts.reverse){ticks.reverse();me.start=me.max;me.end=me.min}else{me.start=me.min;me.end=me.max}},convertTicksToLabels:function(){var me=this;me.ticksAsNumbers=me.ticks.slice();me.zeroLineIndex=me.ticks.indexOf(0);core_scale.prototype.convertTicksToLabels.call(me)},_configure:function(){var me=this;var ticks=me.getTicks();var start=me.min;var end=me.max;var offset;core_scale.prototype._configure.call(me);if(me.options.offset&&ticks.length){offset=(end-start)/Math.max(ticks.length-1,1)/2;start-=offset;end+=offset}me._startValue=start;me._endValue=end;me._valueRange=end-start}}),defaultConfig$1={position:"left",ticks:{callback:core_ticks.formatters.linear}},DEFAULT_MIN=0,DEFAULT_MAX=1;function getOrCreateStack(stacks,stacked,meta){var key=[meta.type,stacked===undefined&&meta.stack===undefined?meta.index:"",meta.stack].join(".");if(stacks[key]===undefined){stacks[key]={pos:[],neg:[]}}return stacks[key]}function stackData(scale,stacks,meta,data){var opts=scale.options;var stacked=opts.stacked;var stack=getOrCreateStack(stacks,stacked,meta);var pos=stack.pos;var neg=stack.neg;var ilen=data.length;var i,value;for(i=0;i<ilen;++i){value=scale._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden){continue}pos[i]=pos[i]||0;neg[i]=neg[i]||0;if(opts.relativePoints){pos[i]=100}else if(value.min<0||value.max<0){neg[i]+=value.min}else{pos[i]+=value.max}}}function updateMinMax(scale,meta,data){var ilen=data.length;var i,value;for(i=0;i<ilen;++i){value=scale._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden){continue}scale.min=Math.min(scale.min,value.min);scale.max=Math.max(scale.max,value.max)}}var scale_linear=scale_linearbase.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var datasets=chart.data.datasets;var metasets=me._getMatchingVisibleMetas();var hasStacks=opts.stacked;var stacks={};var ilen=metasets.length;var i,meta,data,values;me.min=Number.POSITIVE_INFINITY;me.max=Number.NEGATIVE_INFINITY;if(hasStacks===undefined){for(i=0;!hasStacks&&i<ilen;++i){meta=metasets[i];hasStacks=meta.stack!==undefined}}for(i=0;i<ilen;++i){meta=metasets[i];data=datasets[meta.index].data;if(hasStacks){stackData(me,stacks,meta,data)}else{updateMinMax(me,meta,data)}}helpers$1.each(stacks,function(stackValues){values=stackValues.pos.concat(stackValues.neg);me.min=Math.min(me.min,helpers$1.min(values));me.max=Math.max(me.max,helpers$1.max(values))});me.min=helpers$1.isFinite(me.min)&&!isNaN(me.min)?me.min:DEFAULT_MIN;me.max=helpers$1.isFinite(me.max)&&!isNaN(me.max)?me.max:DEFAULT_MAX;me.handleTickRangeOptions()},_computeTickLimit:function(){var me=this;var tickFont;if(me.isHorizontal()){return Math.ceil(me.width/40)}tickFont=helpers$1.options._parseFont(me.options.ticks);return Math.ceil(me.height/tickFont.lineHeight)},handleDirectionalChanges:function(){if(!this.isHorizontal()){this.ticks.reverse()}},getLabelForIndex:function(index,datasetIndex){return this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index])},getPixelForValue:function(value){var me=this;return me.getPixelForDecimal((+me.getRightValue(value)-me._startValue)/me._valueRange)},getValueForPixel:function(pixel){return this._startValue+this.getDecimalForPixel(pixel)*this._valueRange},getPixelForTick:function(index){var ticks=this.ticksAsNumbers;if(index<0||index>ticks.length-1){return null}return this.getPixelForValue(ticks[index])}}),_defaults$1=defaultConfig$1;scale_linear._defaults=_defaults$1;var valueOrDefault$b=helpers$1.valueOrDefault,log10=helpers$1.math.log10;function generateTicks$1(generationOptions,dataRange){var ticks=[];var tickVal=valueOrDefault$b(generationOptions.min,Math.pow(10,Math.floor(log10(dataRange.min))));var endExp=Math.floor(log10(dataRange.max));var endSignificand=Math.ceil(dataRange.max/Math.pow(10,endExp));var exp,significand;if(tickVal===0){exp=Math.floor(log10(dataRange.minNotZero));significand=Math.floor(dataRange.minNotZero/Math.pow(10,exp));ticks.push(tickVal);tickVal=significand*Math.pow(10,exp)}else{exp=Math.floor(log10(tickVal));significand=Math.floor(tickVal/Math.pow(10,exp))}var precision=exp<0?Math.pow(10,Math.abs(exp)):1;do{ticks.push(tickVal);++significand;if(significand===10){significand=1;++exp;precision=exp>=0?1:precision}tickVal=Math.round(significand*Math.pow(10,exp)*precision)/precision}while(exp<endExp||exp===endExp&&significand<endSignificand);var lastTick=valueOrDefault$b(generationOptions.max,tickVal);ticks.push(lastTick);return ticks}var defaultConfig$2={position:"left",ticks:{callback:core_ticks.formatters.logarithmic}};function nonNegativeOrDefault(value,defaultValue){return helpers$1.isFinite(value)&&value>=0?value:defaultValue}var scale_logarithmic=core_scale.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var datasets=chart.data.datasets;var isHorizontal=me.isHorizontal();function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id}var datasetIndex,meta,value,data,i,ilen;me.min=Number.POSITIVE_INFINITY;me.max=Number.NEGATIVE_INFINITY;me.minNotZero=Number.POSITIVE_INFINITY;var hasStacks=opts.stacked;if(hasStacks===undefined){for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&meta.stack!==undefined){hasStacks=true;break}}}if(opts.stacked||hasStacks){var valuesPerStack={};for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);var key=[meta.type,opts.stacked===undefined&&meta.stack===undefined?datasetIndex:"",meta.stack].join(".");if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){if(valuesPerStack[key]===undefined){valuesPerStack[key]=[]}data=datasets[datasetIndex].data;for(i=0,ilen=data.length;i<ilen;i++){var values=valuesPerStack[key];value=me._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden||value.min<0||value.max<0){continue}values[i]=values[i]||0;values[i]+=value.max}}}helpers$1.each(valuesPerStack,function(valuesForType){if(valuesForType.length>0){var minVal=helpers$1.min(valuesForType);var maxVal=helpers$1.max(valuesForType);me.min=Math.min(me.min,minVal);me.max=Math.max(me.max,maxVal)}})}else{for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){data=datasets[datasetIndex].data;for(i=0,ilen=data.length;i<ilen;i++){value=me._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden||value.min<0||value.max<0){continue}me.min=Math.min(value.min,me.min);me.max=Math.max(value.max,me.max);if(value.min!==0){me.minNotZero=Math.min(value.min,me.minNotZero)}}}}}me.min=helpers$1.isFinite(me.min)?me.min:null;me.max=helpers$1.isFinite(me.max)?me.max:null;me.minNotZero=helpers$1.isFinite(me.minNotZero)?me.minNotZero:null;this.handleTickRangeOptions()},handleTickRangeOptions:function(){var me=this;var tickOpts=me.options.ticks;var DEFAULT_MIN=1;var DEFAULT_MAX=10;me.min=nonNegativeOrDefault(tickOpts.min,me.min);me.max=nonNegativeOrDefault(tickOpts.max,me.max);if(me.min===me.max){if(me.min!==0&&me.min!==null){me.min=Math.pow(10,Math.floor(log10(me.min))-1);me.max=Math.pow(10,Math.floor(log10(me.max))+1)}else{me.min=DEFAULT_MIN;me.max=DEFAULT_MAX}}if(me.min===null){me.min=Math.pow(10,Math.floor(log10(me.max))-1)}if(me.max===null){me.max=me.min!==0?Math.pow(10,Math.floor(log10(me.min))+1):DEFAULT_MAX}if(me.minNotZero===null){if(me.min>0){me.minNotZero=me.min}else if(me.max<1){me.minNotZero=Math.pow(10,Math.floor(log10(me.max)))}else{me.minNotZero=DEFAULT_MIN}}},buildTicks:function(){var me=this;var tickOpts=me.options.ticks;var reverse=!me.isHorizontal();var generationOptions={min:nonNegativeOrDefault(tickOpts.min),max:nonNegativeOrDefault(tickOpts.max)};var ticks=me.ticks=generateTicks$1(generationOptions,me);me.max=helpers$1.max(ticks);me.min=helpers$1.min(ticks);if(tickOpts.reverse){reverse=!reverse;me.start=me.max;me.end=me.min}else{me.start=me.min;me.end=me.max}if(reverse){ticks.reverse()}},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();core_scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(index,datasetIndex){return this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index])},getPixelForTick:function(index){var ticks=this.tickValues;if(index<0||index>ticks.length-1){return null}return this.getPixelForValue(ticks[index])},_getFirstTickValue:function(value){var exp=Math.floor(log10(value));var significand=Math.floor(value/Math.pow(10,exp));return significand*Math.pow(10,exp)},_configure:function(){var me=this;var start=me.min;var offset=0;core_scale.prototype._configure.call(me);if(start===0){start=me._getFirstTickValue(me.minNotZero);offset=valueOrDefault$b(me.options.ticks.fontSize,core_defaults.global.defaultFontSize)/me._length}me._startValue=log10(start);me._valueOffset=offset;me._valueRange=(log10(me.max)-log10(start))/(1-offset)},getPixelForValue:function(value){var me=this;var decimal=0;value=+me.getRightValue(value);if(value>me.min&&value>0){decimal=(log10(value)-me._startValue)/me._valueRange+me._valueOffset}return me.getPixelForDecimal(decimal)},getValueForPixel:function(pixel){var me=this;var decimal=me.getDecimalForPixel(pixel);return decimal===0&&me.min===0?0:Math.pow(10,me._startValue+(decimal-me._valueOffset)*me._valueRange)}}),_defaults$2=defaultConfig$2;scale_logarithmic._defaults=_defaults$2;var valueOrDefault$c=helpers$1.valueOrDefault,valueAtIndexOrDefault$1=helpers$1.valueAtIndexOrDefault,resolve$4=helpers$1.options.resolve,defaultConfig$3={display:true,animate:true,position:"chartArea",angleLines:{display:true,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:false},ticks:{showLabelBackdrop:true,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:core_ticks.formatters.linear},pointLabels:{display:true,fontSize:10,callback:function(label){return label}}};function getTickBackdropHeight(opts){var tickOpts=opts.ticks;if(tickOpts.display&&opts.display){return valueOrDefault$c(tickOpts.fontSize,core_defaults.global.defaultFontSize)+tickOpts.backdropPaddingY*2}return 0}function measureLabelSize(ctx,lineHeight,label){if(helpers$1.isArray(label)){return{w:helpers$1.longestText(ctx,ctx.font,label),h:label.length*lineHeight}}return{w:ctx.measureText(label).width,h:lineHeight}}function determineLimits(angle,pos,size,min,max){if(angle===min||angle===max){return{start:pos-size/2,end:pos+size/2}}else if(angle<min||angle>max){return{start:pos-size,end:pos}}return{start:pos,end:pos+size}}function fitWithPointLabels(scale){var plFont=helpers$1.options._parseFont(scale.options.pointLabels);var furthestLimits={l:0,r:scale.width,t:0,b:scale.height-scale.paddingTop};var furthestAngles={};var i,textSize,pointPosition;scale.ctx.font=plFont.string;scale._pointLabelSizes=[];var valueCount=scale.chart.data.labels.length;for(i=0;i<valueCount;i++){pointPosition=scale.getPointPosition(i,scale.drawingArea+5);textSize=measureLabelSize(scale.ctx,plFont.lineHeight,scale.pointLabels[i]);scale._pointLabelSizes[i]=textSize;var angleRadians=scale.getIndexAngle(i);var angle=helpers$1.toDegrees(angleRadians)%360;var hLimits=determineLimits(angle,pointPosition.x,textSize.w,0,180);var vLimits=determineLimits(angle,pointPosition.y,textSize.h,90,270);if(hLimits.start<furthestLimits.l){furthestLimits.l=hLimits.start;furthestAngles.l=angleRadians}if(hLimits.end>furthestLimits.r){furthestLimits.r=hLimits.end;furthestAngles.r=angleRadians}if(vLimits.start<furthestLimits.t){furthestLimits.t=vLimits.start;furthestAngles.t=angleRadians}if(vLimits.end>furthestLimits.b){furthestLimits.b=vLimits.end;furthestAngles.b=angleRadians}}scale.setReductions(scale.drawingArea,furthestLimits,furthestAngles)}function getTextAlignForAngle(angle){if(angle===0||angle===180){return"center"}else if(angle<180){return"left"}return"right"}function fillText(ctx,text,position,lineHeight){var y=position.y+lineHeight/2;var i,ilen;if(helpers$1.isArray(text)){for(i=0,ilen=text.length;i<ilen;++i){ctx.fillText(text[i],position.x,y);y+=lineHeight}}else{ctx.fillText(text,position.x,y)}}function adjustPointPositionForLabelHeight(angle,textSize,position){if(angle===90||angle===270){position.y-=textSize.h/2}else if(angle>270||angle<90){position.y-=textSize.h}}function drawPointLabels(scale){var ctx=scale.ctx;var opts=scale.options;var pointLabelOpts=opts.pointLabels;var tickBackdropHeight=getTickBackdropHeight(opts);var outerDistance=scale.getDistanceFromCenterForValue(opts.ticks.reverse?scale.min:scale.max);var plFont=helpers$1.options._parseFont(pointLabelOpts);ctx.save();ctx.font=plFont.string;ctx.textBaseline="middle";for(var i=scale.chart.data.labels.length-1;i>=0;i--){var extra=i===0?tickBackdropHeight/2:0;var pointLabelPosition=scale.getPointPosition(i,outerDistance+extra+5);var pointLabelFontColor=valueAtIndexOrDefault$1(pointLabelOpts.fontColor,i,core_defaults.global.defaultFontColor);ctx.fillStyle=pointLabelFontColor;var angleRadians=scale.getIndexAngle(i);var angle=helpers$1.toDegrees(angleRadians);ctx.textAlign=getTextAlignForAngle(angle);adjustPointPositionForLabelHeight(angle,scale._pointLabelSizes[i],pointLabelPosition);fillText(ctx,scale.pointLabels[i],pointLabelPosition,plFont.lineHeight)}ctx.restore()}function drawRadiusLine(scale,gridLineOpts,radius,index){var ctx=scale.ctx;var circular=gridLineOpts.circular;var valueCount=scale.chart.data.labels.length;var lineColor=valueAtIndexOrDefault$1(gridLineOpts.color,index-1);var lineWidth=valueAtIndexOrDefault$1(gridLineOpts.lineWidth,index-1);var pointPosition;if(!circular&&!valueCount||!lineColor||!lineWidth){return}ctx.save();ctx.strokeStyle=lineColor;ctx.lineWidth=lineWidth;if(ctx.setLineDash){ctx.setLineDash(gridLineOpts.borderDash||[]);ctx.lineDashOffset=gridLineOpts.borderDashOffset||0}ctx.beginPath();if(circular){ctx.arc(scale.xCenter,scale.yCenter,radius,0,Math.PI*2)}else{pointPosition=scale.getPointPosition(0,radius);ctx.moveTo(pointPosition.x,pointPosition.y);for(var i=1;i<valueCount;i++){pointPosition=scale.getPointPosition(i,radius);ctx.lineTo(pointPosition.x,pointPosition.y)}}ctx.closePath();ctx.stroke();ctx.restore()}function numberOrZero(param){return helpers$1.isNumber(param)?param:0}var scale_radialLinear=scale_linearbase.extend({setDimensions:function(){var me=this;me.width=me.maxWidth;me.height=me.maxHeight;me.paddingTop=getTickBackdropHeight(me.options)/2;me.xCenter=Math.floor(me.width/2);me.yCenter=Math.floor((me.height-me.paddingTop)/2);me.drawingArea=Math.min(me.height-me.paddingTop,me.width)/2},determineDataLimits:function(){var me=this;var chart=me.chart;var min=Number.POSITIVE_INFINITY;var max=Number.NEGATIVE_INFINITY;helpers$1.each(chart.data.datasets,function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex);helpers$1.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden){return}min=Math.min(value,min);max=Math.max(value,max)})}});me.min=min===Number.POSITIVE_INFINITY?0:min;me.max=max===Number.NEGATIVE_INFINITY?0:max;me.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))},convertTicksToLabels:function(){var me=this;scale_linearbase.prototype.convertTicksToLabels.call(me);me.pointLabels=me.chart.data.labels.map(function(){var label=helpers$1.callback(me.options.pointLabels.callback,arguments,me);return label||label===0?label:""})},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},fit:function(){var me=this;var opts=me.options;if(opts.display&&opts.pointLabels.display){fitWithPointLabels(me)}else{me.setCenterPoint(0,0,0,0)}},setReductions:function(largestPossibleRadius,furthestLimits,furthestAngles){var me=this;var radiusReductionLeft=furthestLimits.l/Math.sin(furthestAngles.l);var radiusReductionRight=Math.max(furthestLimits.r-me.width,0)/Math.sin(furthestAngles.r);var radiusReductionTop=-furthestLimits.t/Math.cos(furthestAngles.t);var radiusReductionBottom=-Math.max(furthestLimits.b-(me.height-me.paddingTop),0)/Math.cos(furthestAngles.b);radiusReductionLeft=numberOrZero(radiusReductionLeft);radiusReductionRight=numberOrZero(radiusReductionRight);radiusReductionTop=numberOrZero(radiusReductionTop);radiusReductionBottom=numberOrZero(radiusReductionBottom);me.drawingArea=Math.min(Math.floor(largestPossibleRadius-(radiusReductionLeft+radiusReductionRight)/2),Math.floor(largestPossibleRadius-(radiusReductionTop+radiusReductionBottom)/2));me.setCenterPoint(radiusReductionLeft,radiusReductionRight,radiusReductionTop,radiusReductionBottom)},setCenterPoint:function(leftMovement,rightMovement,topMovement,bottomMovement){var me=this;var maxRight=me.width-rightMovement-me.drawingArea;var maxLeft=leftMovement+me.drawingArea;var maxTop=topMovement+me.drawingArea;var maxBottom=me.height-me.paddingTop-bottomMovement-me.drawingArea;me.xCenter=Math.floor((maxLeft+maxRight)/2+me.left);me.yCenter=Math.floor((maxTop+maxBottom)/2+me.top+me.paddingTop)},getIndexAngle:function(index){var chart=this.chart;var angleMultiplier=360/chart.data.labels.length;var options=chart.options||{};var startAngle=options.startAngle||0;var angle=(index*angleMultiplier+startAngle)%360;return(angle<0?angle+360:angle)*Math.PI*2/360},getDistanceFromCenterForValue:function(value){var me=this;if(helpers$1.isNullOrUndef(value)){return NaN}var scalingFactor=me.drawingArea/(me.max-me.min);if(me.options.ticks.reverse){return(me.max-value)*scalingFactor}return(value-me.min)*scalingFactor},getPointPosition:function(index,distanceFromCenter){var me=this;var thisAngle=me.getIndexAngle(index)-Math.PI/2;return{x:Math.cos(thisAngle)*distanceFromCenter+me.xCenter,y:Math.sin(thisAngle)*distanceFromCenter+me.yCenter}},getPointPositionForValue:function(index,value){return this.getPointPosition(index,this.getDistanceFromCenterForValue(value))},getBasePosition:function(index){var me=this;var min=me.min;var max=me.max;return me.getPointPositionForValue(index||0,me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0)},_drawGrid:function(){var me=this;var ctx=me.ctx;var opts=me.options;var gridLineOpts=opts.gridLines;var angleLineOpts=opts.angleLines;var lineWidth=valueOrDefault$c(angleLineOpts.lineWidth,gridLineOpts.lineWidth);var lineColor=valueOrDefault$c(angleLineOpts.color,gridLineOpts.color);var i,offset,position;if(opts.pointLabels.display){drawPointLabels(me)}if(gridLineOpts.display){helpers$1.each(me.ticks,function(label,index){if(index!==0){offset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);drawRadiusLine(me,gridLineOpts,offset,index)}})}if(angleLineOpts.display&&lineWidth&&lineColor){ctx.save();ctx.lineWidth=lineWidth;ctx.strokeStyle=lineColor;if(ctx.setLineDash){ctx.setLineDash(resolve$4([angleLineOpts.borderDash,gridLineOpts.borderDash,[]]));ctx.lineDashOffset=resolve$4([angleLineOpts.borderDashOffset,gridLineOpts.borderDashOffset,0])}for(i=me.chart.data.labels.length-1;i>=0;i--){offset=me.getDistanceFromCenterForValue(opts.ticks.reverse?me.min:me.max);position=me.getPointPosition(i,offset);ctx.beginPath();ctx.moveTo(me.xCenter,me.yCenter);ctx.lineTo(position.x,position.y);ctx.stroke()}ctx.restore()}},_drawLabels:function(){var me=this;var ctx=me.ctx;var opts=me.options;var tickOpts=opts.ticks;if(!tickOpts.display){return}var startAngle=me.getIndexAngle(0);var tickFont=helpers$1.options._parseFont(tickOpts);var tickFontColor=valueOrDefault$c(tickOpts.fontColor,core_defaults.global.defaultFontColor);var offset,width;ctx.save();ctx.font=tickFont.string;ctx.translate(me.xCenter,me.yCenter);ctx.rotate(startAngle);ctx.textAlign="center";ctx.textBaseline="middle";helpers$1.each(me.ticks,function(label,index){if(index===0&&!tickOpts.reverse){return}offset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);if(tickOpts.showLabelBackdrop){width=ctx.measureText(label).width;ctx.fillStyle=tickOpts.backdropColor;ctx.fillRect(-width/2-tickOpts.backdropPaddingX,-offset-tickFont.size/2-tickOpts.backdropPaddingY,width+tickOpts.backdropPaddingX*2,tickFont.size+tickOpts.backdropPaddingY*2)}ctx.fillStyle=tickFontColor;ctx.fillText(label,0,-offset)});ctx.restore()},_drawTitle:helpers$1.noop}),_defaults$3=defaultConfig$3;scale_radialLinear._defaults=_defaults$3;var deprecated$1=helpers$1._deprecated,resolve$5=helpers$1.options.resolve,valueOrDefault$d=helpers$1.valueOrDefault,MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,INTERVALS={millisecond:{common:true,size:1,steps:1e3},second:{common:true,size:1e3,steps:60},minute:{common:true,size:6e4,steps:60},hour:{common:true,size:36e5,steps:24},day:{common:true,size:864e5,steps:30},week:{common:false,size:6048e5,steps:4},month:{common:true,size:2628e6,steps:12},quarter:{common:false,size:7884e6,steps:4},year:{common:true,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(a,b){return a-b}function arrayUnique(items){var hash={};var out=[];var i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];if(!hash[item]){hash[item]=true;out.push(item)}}return out}function getMin(options){return helpers$1.valueOrDefault(options.time.min,options.ticks.min)}function getMax(options){return helpers$1.valueOrDefault(options.time.max,options.ticks.max)}function buildLookupTable(timestamps,min,max,distribution){if(distribution==="linear"||!timestamps.length){return[{time:min,pos:0},{time:max,pos:1}]}var table=[];var items=[min];var i,ilen,prev,curr,next;for(i=0,ilen=timestamps.length;i<ilen;++i){curr=timestamps[i];if(curr>min&&curr<max){items.push(curr)}}items.push(max);for(i=0,ilen=items.length;i<ilen;++i){next=items[i+1];prev=items[i-1];curr=items[i];if(prev===undefined||next===undefined||Math.round((next+prev)/2)!==curr){table.push({time:curr,pos:i/(ilen-1)})}}return table}function lookup(table,key,value){var lo=0;var hi=table.length-1;var mid,i0,i1;while(lo>=0&&lo<=hi){mid=lo+hi>>1;i0=table[mid-1]||null;i1=table[mid];if(!i0){return{lo:null,hi:i1}}else if(i1[key]<value){lo=mid+1}else if(i0[key]>value){hi=mid-1}else{return{lo:i0,hi:i1}}}return{lo:i1,hi:null}}function interpolate$1(table,skey,sval,tkey){var range=lookup(table,skey,sval);var prev=!range.lo?table[0]:!range.hi?table[table.length-2]:range.lo;var next=!range.lo?table[1]:!range.hi?table[table.length-1]:range.hi;var span=next[skey]-prev[skey];var ratio=span?(sval-prev[skey])/span:0;var offset=(next[tkey]-prev[tkey])*ratio;return prev[tkey]+offset}function toTimestamp(scale,input){var adapter=scale._adapter;var options=scale.options.time;var parser=options.parser;var format=parser||options.format;var value=input;if(typeof parser==="function"){value=parser(value)}if(!helpers$1.isFinite(value)){value=typeof format==="string"?adapter.parse(value,format):adapter.parse(value)}if(value!==null){return+value}if(!parser&&typeof format==="function"){value=format(input);if(!helpers$1.isFinite(value)){value=adapter.parse(value)}}return value}function parse(scale,input){if(helpers$1.isNullOrUndef(input)){return null}var options=scale.options.time;var value=toTimestamp(scale,scale.getRightValue(input));if(value===null){return value}if(options.round){value=+scale._adapter.startOf(value,options.round)}return value}function determineUnitForAutoTicks(minUnit,min,max,capacity){var ilen=UNITS.length;var i,interval,factor;for(i=UNITS.indexOf(minUnit);i<ilen-1;++i){interval=INTERVALS[UNITS[i]];factor=interval.steps?interval.steps:MAX_INTEGER;if(interval.common&&Math.ceil((max-min)/(factor*interval.size))<=capacity){return UNITS[i]}}return UNITS[ilen-1]}function determineUnitForFormatting(scale,numTicks,minUnit,min,max){var i,unit;for(i=UNITS.length-1;i>=UNITS.indexOf(minUnit);i--){unit=UNITS[i];if(INTERVALS[unit].common&&scale._adapter.diff(max,min,unit)>=numTicks-1){return unit}}return UNITS[minUnit?UNITS.indexOf(minUnit):0]}function determineMajorUnit(unit){for(var i=UNITS.indexOf(unit)+1,ilen=UNITS.length;i<ilen;++i){if(INTERVALS[UNITS[i]].common){return UNITS[i]}}}function generate(scale,min,max,capacity){var adapter=scale._adapter;var options=scale.options;var timeOpts=options.time;var minor=timeOpts.unit||determineUnitForAutoTicks(timeOpts.minUnit,min,max,capacity);var stepSize=resolve$5([timeOpts.stepSize,timeOpts.unitStepSize,1]);var weekday=minor==="week"?timeOpts.isoWeekday:false;var first=min;var ticks=[];var time;if(weekday){first=+adapter.startOf(first,"isoWeek",weekday)}first=+adapter.startOf(first,weekday?"day":minor);if(adapter.diff(max,min,minor)>1e5*stepSize){throw min+" and "+max+" are too far apart with stepSize of "+stepSize+" "+minor}for(time=first;time<max;time=+adapter.add(time,stepSize,minor)){ticks.push(time)}if(time===max||options.bounds==="ticks"){ticks.push(time)}return ticks}function computeOffsets(table,ticks,min,max,options){var start=0;var end=0;var first,last;if(options.offset&&ticks.length){first=interpolate$1(table,"time",ticks[0],"pos");if(ticks.length===1){start=1-first}else{start=(interpolate$1(table,"time",ticks[1],"pos")-first)/2}last=interpolate$1(table,"time",ticks[ticks.length-1],"pos");if(ticks.length===1){end=last}else{end=(last-interpolate$1(table,"time",ticks[ticks.length-2],"pos"))/2}}return{start:start,end:end,factor:1/(start+1+end)}}function setMajorTicks(scale,ticks,map,majorUnit){var adapter=scale._adapter;var first=+adapter.startOf(ticks[0].value,majorUnit);var last=ticks[ticks.length-1].value;var major,index;for(major=first;major<=last;major=+adapter.add(major,1,majorUnit)){index=map[major];if(index>=0){ticks[index].major=true}}return ticks}function ticksFromTimestamps(scale,values,majorUnit){var ticks=[];var map={};var ilen=values.length;var i,value;for(i=0;i<ilen;++i){value=values[i];map[value]=i;ticks.push({value:value,major:false})}return ilen===0||!majorUnit?ticks:setMajorTicks(scale,ticks,map,majorUnit)}var defaultConfig$4={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:false,unit:false,round:false,displayFormat:false,isoWeekday:false,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:false,source:"auto",major:{enabled:false}}},scale_time=core_scale.extend({initialize:function(){this.mergeTicksOptions();core_scale.prototype.initialize.call(this)},update:function(){var me=this;var options=me.options;var time=options.time||(options.time={});var adapter=me._adapter=new core_adapters._date(options.adapters.date);deprecated$1("time scale",time.format,"time.format","time.parser");deprecated$1("time scale",time.min,"time.min","ticks.min");deprecated$1("time scale",time.max,"time.max","ticks.max");helpers$1.mergeIf(time.displayFormats,adapter.formats());return core_scale.prototype.update.apply(me,arguments)},getRightValue:function(rawValue){if(rawValue&&rawValue.t!==undefined){rawValue=rawValue.t}return core_scale.prototype.getRightValue.call(this,rawValue)},determineDataLimits:function(){var me=this;var chart=me.chart;var adapter=me._adapter;var options=me.options;var unit=options.time.unit||"day";var min=MAX_INTEGER;var max=MIN_INTEGER;var timestamps=[];var datasets=[];var labels=[];var i,j,ilen,jlen,data,timestamp,labelsAdded;var dataLabels=me._getLabels();for(i=0,ilen=dataLabels.length;i<ilen;++i){labels.push(parse(me,dataLabels[i]))}for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){if(chart.isDatasetVisible(i)){data=chart.data.datasets[i].data;if(helpers$1.isObject(data[0])){datasets[i]=[];for(j=0,jlen=data.length;j<jlen;++j){timestamp=parse(me,data[j]);timestamps.push(timestamp);datasets[i][j]=timestamp}}else{datasets[i]=labels.slice(0);if(!labelsAdded){timestamps=timestamps.concat(labels);labelsAdded=true}}}else{datasets[i]=[]}}if(labels.length){min=Math.min(min,labels[0]);max=Math.max(max,labels[labels.length-1])}if(timestamps.length){timestamps=ilen>1?arrayUnique(timestamps).sort(sorter):timestamps.sort(sorter);min=Math.min(min,timestamps[0]);max=Math.max(max,timestamps[timestamps.length-1])}min=parse(me,getMin(options))||min;max=parse(me,getMax(options))||max;min=min===MAX_INTEGER?+adapter.startOf(Date.now(),unit):min;max=max===MIN_INTEGER?+adapter.endOf(Date.now(),unit)+1:max;me.min=Math.min(min,max);me.max=Math.max(min+1,max);me._table=[];me._timestamps={data:timestamps,datasets:datasets,labels:labels}},buildTicks:function(){var me=this;var min=me.min;var max=me.max;var options=me.options;var tickOpts=options.ticks;var timeOpts=options.time;var timestamps=me._timestamps;var ticks=[];var capacity=me.getLabelCapacity(min);var source=tickOpts.source;var distribution=options.distribution;var i,ilen,timestamp;if(source==="data"||source==="auto"&&distribution==="series"){timestamps=timestamps.data}else if(source==="labels"){timestamps=timestamps.labels}else{timestamps=generate(me,min,max,capacity)}if(options.bounds==="ticks"&&timestamps.length){min=timestamps[0];max=timestamps[timestamps.length-1]}min=parse(me,getMin(options))||min;max=parse(me,getMax(options))||max;for(i=0,ilen=timestamps.length;i<ilen;++i){timestamp=timestamps[i];if(timestamp>=min&&timestamp<=max){ticks.push(timestamp)}}me.min=min;me.max=max;me._unit=timeOpts.unit||(tickOpts.autoSkip?determineUnitForAutoTicks(timeOpts.minUnit,me.min,me.max,capacity):determineUnitForFormatting(me,ticks.length,timeOpts.minUnit,me.min,me.max));me._majorUnit=!tickOpts.major.enabled||me._unit==="year"?undefined:determineMajorUnit(me._unit);me._table=buildLookupTable(me._timestamps.data,min,max,distribution);me._offsets=computeOffsets(me._table,ticks,min,max,options);if(tickOpts.reverse){ticks.reverse()}return ticksFromTimestamps(me,ticks,me._majorUnit)},getLabelForIndex:function(index,datasetIndex){var me=this;var adapter=me._adapter;var data=me.chart.data;var timeOpts=me.options.time;var label=data.labels&&index<data.labels.length?data.labels[index]:"";var value=data.datasets[datasetIndex].data[index];if(helpers$1.isObject(value)){label=me.getRightValue(value)}if(timeOpts.tooltipFormat){return adapter.format(toTimestamp(me,label),timeOpts.tooltipFormat)}if(typeof label==="string"){return label}return adapter.format(toTimestamp(me,label),timeOpts.displayFormats.datetime)},tickFormatFunction:function(time,index,ticks,format){var me=this;var adapter=me._adapter;var options=me.options;var formats=options.time.displayFormats;var minorFormat=formats[me._unit];var majorUnit=me._majorUnit;var majorFormat=formats[majorUnit];var tick=ticks[index];var tickOpts=options.ticks;var major=majorUnit&&majorFormat&&tick&&tick.major;var label=adapter.format(time,format?format:major?majorFormat:minorFormat);var nestedTickOpts=major?tickOpts.major:tickOpts.minor;var formatter=resolve$5([nestedTickOpts.callback,nestedTickOpts.userCallback,tickOpts.callback,tickOpts.userCallback]);return formatter?formatter(label,index,ticks):label},convertTicksToLabels:function(ticks){var labels=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;++i){labels.push(this.tickFormatFunction(ticks[i].value,i,ticks))}return labels},getPixelForOffset:function(time){var me=this;var offsets=me._offsets;var pos=interpolate$1(me._table,"time",time,"pos");return me.getPixelForDecimal((offsets.start+pos)*offsets.factor)},getPixelForValue:function(value,index,datasetIndex){var me=this;var time=null;if(index!==undefined&&datasetIndex!==undefined){time=me._timestamps.datasets[datasetIndex][index]}if(time===null){time=parse(me,value)}if(time!==null){return me.getPixelForOffset(time)}},getPixelForTick:function(index){var ticks=this.getTicks();return index>=0&&index<ticks.length?this.getPixelForOffset(ticks[index].value):null},getValueForPixel:function(pixel){var me=this;var offsets=me._offsets;var pos=me.getDecimalForPixel(pixel)/offsets.factor-offsets.end;var time=interpolate$1(me._table,"pos",pos,"time");return me._adapter._create(time)},_getLabelSize:function(label){var me=this;var ticksOpts=me.options.ticks;var tickLabelWidth=me.ctx.measureText(label).width;var angle=helpers$1.toRadians(me.isHorizontal()?ticksOpts.maxRotation:ticksOpts.minRotation);var cosRotation=Math.cos(angle);var sinRotation=Math.sin(angle);var tickFontSize=valueOrDefault$d(ticksOpts.fontSize,core_defaults.global.defaultFontSize);return{w:tickLabelWidth*cosRotation+tickFontSize*sinRotation,h:tickLabelWidth*sinRotation+tickFontSize*cosRotation}},getLabelWidth:function(label){return this._getLabelSize(label).w},getLabelCapacity:function(exampleTime){var me=this;var timeOpts=me.options.time;var displayFormats=timeOpts.displayFormats;var format=displayFormats[timeOpts.unit]||displayFormats.millisecond;var exampleLabel=me.tickFormatFunction(exampleTime,0,ticksFromTimestamps(me,[exampleTime],me._majorUnit),format);var size=me._getLabelSize(exampleLabel);var capacity=Math.floor(me.isHorizontal()?me.width/size.w:me.height/size.h);if(me.options.offset){capacity--}return capacity>0?capacity:1}}),_defaults$4=defaultConfig$4;scale_time._defaults=_defaults$4;var scales={category:scale_category,linear:scale_linear,logarithmic:scale_logarithmic,radialLinear:scale_radialLinear,time:scale_time},FORMATS={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};core_adapters._date.override(typeof moment==="function"?{_id:"moment",formats:function(){return FORMATS},parse:function(value,format){if(typeof value==="string"&&typeof format==="string"){value=moment(value,format)}else if(!(value instanceof moment)){value=moment(value)}return value.isValid()?value.valueOf():null},format:function(time,format){return moment(time).format(format)},add:function(time,amount,unit){return moment(time).add(amount,unit).valueOf()},diff:function(max,min,unit){return moment(max).diff(moment(min),unit)},startOf:function(time,unit,weekday){time=moment(time);if(unit==="isoWeek"){return time.isoWeekday(weekday).valueOf()}return time.startOf(unit).valueOf()},endOf:function(time,unit){return moment(time).endOf(unit).valueOf()},_create:function(time){return moment(time)}}:{}),core_defaults._set("global",{plugins:{filler:{propagate:true}}});var mappers={dataset:function(source){var index=source.fill;var chart=source.chart;var meta=chart.getDatasetMeta(index);var visible=meta&&chart.isDatasetVisible(index);var points=visible&&meta.dataset._children||[];var length=points.length||0;return!length?null:function(point,i){return i<length&&points[i]._view||null}},boundary:function(source){var boundary=source.boundary;var x=boundary?boundary.x:null;var y=boundary?boundary.y:null;if(helpers$1.isArray(boundary)){return function(point,i){return boundary[i]}}return function(point){return{x:x===null?point.x:x,y:y===null?point.y:y}}}};function decodeFill(el,index,count){var model=el._model||{};var fill=model.fill;var target;if(fill===undefined){fill=!!model.backgroundColor}if(fill===false||fill===null){return false}if(fill===true){return"origin"}target=parseFloat(fill,10);if(isFinite(target)&&Math.floor(target)===target){if(fill[0]==="-"||fill[0]==="+"){target=index+target}if(target===index||target<0||target>=count){return false}return target}switch(fill){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return fill;default:return false}}function computeLinearBoundary(source){var model=source.el._model||{};var scale=source.el._scale||{};var fill=source.fill;var target=null;var horizontal;if(isFinite(fill)){return null}if(fill==="start"){target=model.scaleBottom===undefined?scale.bottom:model.scaleBottom}else if(fill==="end"){target=model.scaleTop===undefined?scale.top:model.scaleTop}else if(model.scaleZero!==undefined){target=model.scaleZero}else if(scale.getBasePixel){target=scale.getBasePixel()}if(target!==undefined&&target!==null){if(target.x!==undefined&&target.y!==undefined){return target}if(helpers$1.isFinite(target)){horizontal=scale.isHorizontal();return{x:horizontal?target:null,y:horizontal?null:target}}}return null}function computeCircularBoundary(source){var scale=source.el._scale;var options=scale.options;var length=scale.chart.data.labels.length;var fill=source.fill;var target=[];var start,end,center,i,point;if(!length){return null}start=options.ticks.reverse?scale.max:scale.min;end=options.ticks.reverse?scale.min:scale.max;center=scale.getPointPositionForValue(0,start);for(i=0;i<length;++i){point=fill==="start"||fill==="end"?scale.getPointPositionForValue(i,fill==="start"?start:end):scale.getBasePosition(i);if(options.gridLines.circular){point.cx=center.x;point.cy=center.y;point.angle=scale.getIndexAngle(i)-Math.PI/2}target.push(point)}return target}function computeBoundary(source){var scale=source.el._scale||{};if(scale.getPointPositionForValue){return computeCircularBoundary(source)}return computeLinearBoundary(source)}function resolveTarget(sources,index,propagate){var source=sources[index];var fill=source.fill;var visited=[index];var target;if(!propagate){return fill}while(fill!==false&&visited.indexOf(fill)===-1){if(!isFinite(fill)){return fill}target=sources[fill];if(!target){return false}if(target.visible){return fill}visited.push(fill);fill=target.fill}return false}function createMapper(source){var fill=source.fill;var type="dataset";if(fill===false){return null}if(!isFinite(fill)){type="boundary"}return mappers[type](source)}function isDrawable(point){return point&&!point.skip}function drawArea(ctx,curve0,curve1,len0,len1){var i,cx,cy,r;if(!len0||!len1){return}ctx.moveTo(curve0[0].x,curve0[0].y);for(i=1;i<len0;++i){helpers$1.canvas.lineTo(ctx,curve0[i-1],curve0[i])}if(curve1[0].angle!==undefined){cx=curve1[0].cx;cy=curve1[0].cy;r=Math.sqrt(Math.pow(curve1[0].x-cx,2)+Math.pow(curve1[0].y-cy,2));for(i=len1-1;i>0;--i){ctx.arc(cx,cy,r,curve1[i].angle,curve1[i-1].angle,true)}return}ctx.lineTo(curve1[len1-1].x,curve1[len1-1].y);for(i=len1-1;i>0;--i){helpers$1.canvas.lineTo(ctx,curve1[i],curve1[i-1],true)}}function doFill(ctx,points,mapper,view,color,loop){var count=points.length;var span=view.spanGaps;var curve0=[];var curve1=[];var len0=0;var len1=0;var i,ilen,index,p0,p1,d0,d1,loopOffset;ctx.beginPath();for(i=0,ilen=count;i<ilen;++i){index=i%count;p0=points[index]._view;p1=mapper(p0,index,view);d0=isDrawable(p0);d1=isDrawable(p1);if(loop&&loopOffset===undefined&&d0){loopOffset=i+1;ilen=count+loopOffset}if(d0&&d1){len0=curve0.push(p0);len1=curve1.push(p1)}else if(len0&&len1){if(!span){drawArea(ctx,curve0,curve1,len0,len1);len0=len1=0;curve0=[];curve1=[]}else{if(d0){curve0.push(p0)}if(d1){curve1.push(p1)}}}}drawArea(ctx,curve0,curve1,len0,len1);ctx.closePath();ctx.fillStyle=color;ctx.fill()}var plugin_filler={id:"filler",afterDatasetsUpdate:function(chart,options){var count=(chart.data.datasets||[]).length;var propagate=options.propagate;var sources=[];var meta,i,el,source;for(i=0;i<count;++i){meta=chart.getDatasetMeta(i);el=meta.dataset;source=null;if(el&&el._model&&el instanceof elements.Line){source={visible:chart.isDatasetVisible(i),fill:decodeFill(el,i,count),chart:chart,el:el}}meta.$filler=source;sources.push(source)}for(i=0;i<count;++i){source=sources[i];if(!source){continue}source.fill=resolveTarget(sources,i,propagate);source.boundary=computeBoundary(source);source.mapper=createMapper(source)}},beforeDatasetsDraw:function(chart){var metasets=chart._getSortedVisibleDatasetMetas();var ctx=chart.ctx;var meta,i,el,view,points,mapper,color;for(i=metasets.length-1;i>=0;--i){meta=metasets[i].$filler;if(!meta||!meta.visible){continue}el=meta.el;view=el._view;points=el._children||[];mapper=meta.mapper;color=view.backgroundColor||core_defaults.global.defaultColor;if(mapper&&color&&points.length){helpers$1.canvas.clipArea(ctx,chart.chartArea);doFill(ctx,points,mapper,view,color,el._loop);helpers$1.canvas.unclipArea(ctx)}}}},getRtlHelper$1=helpers$1.rtl.getRtlAdapter,noop$1=helpers$1.noop,valueOrDefault$e=helpers$1.valueOrDefault;function getBoxWidth(labelOpts,fontSize){return labelOpts.usePointStyle&&labelOpts.boxWidth>fontSize?fontSize:labelOpts.boxWidth}core_defaults._set("global",{legend:{display:true,position:"top",align:"center",fullWidth:true,reverse:false,weight:1e3,onClick:function(e,legendItem){var index=legendItem.datasetIndex;var ci=this.chart;var meta=ci.getDatasetMeta(index);meta.hidden=meta.hidden===null?!ci.data.datasets[index].hidden:null;ci.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(chart){var datasets=chart.data.datasets;var options=chart.options.legend||{};var usePointStyle=options.labels&&options.labels.usePointStyle;return chart._getSortedDatasetMetas().map(function(meta){var style=meta.controller.getStyle(usePointStyle?0:undefined);return{text:datasets[meta.index].label,fillStyle:style.backgroundColor,hidden:!chart.isDatasetVisible(meta.index),lineCap:style.borderCapStyle,lineDash:style.borderDash,lineDashOffset:style.borderDashOffset,lineJoin:style.borderJoinStyle,lineWidth:style.borderWidth,strokeStyle:style.borderColor,pointStyle:style.pointStyle,rotation:style.rotation,datasetIndex:meta.index}},this)}}},legendCallback:function(chart){var list=document.createElement("ul");var datasets=chart.data.datasets;var i,ilen,listItem,listItemSpan;list.setAttribute("class",chart.id+"-legend");for(i=0,ilen=datasets.length;i<ilen;i++){listItem=list.appendChild(document.createElement("li"));listItemSpan=listItem.appendChild(document.createElement("span"));listItemSpan.style.backgroundColor=datasets[i].backgroundColor;if(datasets[i].label){listItem.appendChild(document.createTextNode(datasets[i].label))}}return list.outerHTML}});var Legend=core_element.extend({initialize:function(config){var me=this;helpers$1.extend(me,config);me.legendHitBoxes=[];me._hoveredItem=null;me.doughnutMode=false},beforeUpdate:noop$1,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize},afterUpdate:noop$1,beforeSetDimensions:noop$1,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0}},afterSetDimensions:noop$1,beforeBuildLabels:noop$1,buildLabels:function(){var me=this;var labelOpts=me.options.labels||{};var legendItems=helpers$1.callback(labelOpts.generateLabels,[me.chart],me)||[];if(labelOpts.filter){legendItems=legendItems.filter(function(item){return labelOpts.filter(item,me.chart.data)})}if(me.options.reverse){legendItems.reverse()}me.legendItems=legendItems},afterBuildLabels:noop$1,beforeFit:noop$1,fit:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var display=opts.display;var ctx=me.ctx;var labelFont=helpers$1.options._parseFont(labelOpts);var fontSize=labelFont.size;var hitboxes=me.legendHitBoxes=[];var minSize=me.minSize;var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;minSize.height=display?10:0}else{minSize.width=display?10:0;minSize.height=me.maxHeight}if(!display){me.width=minSize.width=me.height=minSize.height=0;return}ctx.font=labelFont.string;if(isHorizontal){var lineWidths=me.lineWidths=[0];var totalHeight=0;ctx.textAlign="left";ctx.textBaseline="middle";helpers$1.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var width=boxWidth+fontSize/2+ctx.measureText(legendItem.text).width;if(i===0||lineWidths[lineWidths.length-1]+width+2*labelOpts.padding>minSize.width){totalHeight+=fontSize+labelOpts.padding;lineWidths[lineWidths.length-(i>0?0:1)]=0}hitboxes[i]={left:0,top:0,width:width,height:fontSize};lineWidths[lineWidths.length-1]+=width+labelOpts.padding});minSize.height+=totalHeight}else{var vPadding=labelOpts.padding;var columnWidths=me.columnWidths=[];var columnHeights=me.columnHeights=[];var totalWidth=labelOpts.padding;var currentColWidth=0;var currentColHeight=0;helpers$1.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var itemWidth=boxWidth+fontSize/2+ctx.measureText(legendItem.text).width;if(i>0&&currentColHeight+fontSize+2*vPadding>minSize.height){totalWidth+=currentColWidth+labelOpts.padding;columnWidths.push(currentColWidth);columnHeights.push(currentColHeight);currentColWidth=0;currentColHeight=0}currentColWidth=Math.max(currentColWidth,itemWidth);currentColHeight+=fontSize+vPadding;hitboxes[i]={left:0,top:0,width:itemWidth,height:fontSize}});totalWidth+=currentColWidth;columnWidths.push(currentColWidth);columnHeights.push(currentColHeight);minSize.width+=totalWidth}me.width=minSize.width;me.height=minSize.height},afterFit:noop$1,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var globalDefaults=core_defaults.global;var defaultColor=globalDefaults.defaultColor;var lineDefault=globalDefaults.elements.line;var legendHeight=me.height;var columnHeights=me.columnHeights;var legendWidth=me.width;var lineWidths=me.lineWidths;if(!opts.display){return}var rtlHelper=getRtlHelper$1(opts.rtl,me.left,me.minSize.width);var ctx=me.ctx;var fontColor=valueOrDefault$e(labelOpts.fontColor,globalDefaults.defaultFontColor);var labelFont=helpers$1.options._parseFont(labelOpts);var fontSize=labelFont.size;var cursor;ctx.textAlign=rtlHelper.textAlign("left");ctx.textBaseline="middle";ctx.lineWidth=.5;ctx.strokeStyle=fontColor;ctx.fillStyle=fontColor;ctx.font=labelFont.string;var boxWidth=getBoxWidth(labelOpts,fontSize);var hitboxes=me.legendHitBoxes;var drawLegendBox=function(x,y,legendItem){if(isNaN(boxWidth)||boxWidth<=0){return}ctx.save();var lineWidth=valueOrDefault$e(legendItem.lineWidth,lineDefault.borderWidth);ctx.fillStyle=valueOrDefault$e(legendItem.fillStyle,defaultColor);ctx.lineCap=valueOrDefault$e(legendItem.lineCap,lineDefault.borderCapStyle);ctx.lineDashOffset=valueOrDefault$e(legendItem.lineDashOffset,lineDefault.borderDashOffset);ctx.lineJoin=valueOrDefault$e(legendItem.lineJoin,lineDefault.borderJoinStyle);ctx.lineWidth=lineWidth;ctx.strokeStyle=valueOrDefault$e(legendItem.strokeStyle,defaultColor);if(ctx.setLineDash){ctx.setLineDash(valueOrDefault$e(legendItem.lineDash,lineDefault.borderDash))}if(labelOpts&&labelOpts.usePointStyle){var radius=boxWidth*Math.SQRT2/2;var centerX=rtlHelper.xPlus(x,boxWidth/2);var centerY=y+fontSize/2;helpers$1.canvas.drawPoint(ctx,legendItem.pointStyle,radius,centerX,centerY,legendItem.rotation)}else{ctx.fillRect(rtlHelper.leftForLtr(x,boxWidth),y,boxWidth,fontSize);if(lineWidth!==0){ctx.strokeRect(rtlHelper.leftForLtr(x,boxWidth),y,boxWidth,fontSize)}}ctx.restore()};var fillText=function(x,y,legendItem,textWidth){var halfFontSize=fontSize/2;var xLeft=rtlHelper.xPlus(x,boxWidth+halfFontSize);var yMiddle=y+halfFontSize;ctx.fillText(legendItem.text,xLeft,yMiddle);if(legendItem.hidden){ctx.beginPath();ctx.lineWidth=2;ctx.moveTo(xLeft,yMiddle);ctx.lineTo(rtlHelper.xPlus(xLeft,textWidth),yMiddle);ctx.stroke()}};var alignmentOffset=function(dimension,blockSize){switch(opts.align){case"start":return labelOpts.padding;case"end":return dimension-blockSize;default:return(dimension-blockSize+labelOpts.padding)/2}};var isHorizontal=me.isHorizontal();if(isHorizontal){cursor={x:me.left+alignmentOffset(legendWidth,lineWidths[0]),y:me.top+labelOpts.padding,line:0}}else{cursor={x:me.left+labelOpts.padding,y:me.top+alignmentOffset(legendHeight,columnHeights[0]),line:0}}helpers$1.rtl.overrideTextDirection(me.ctx,opts.textDirection);var itemHeight=fontSize+labelOpts.padding;helpers$1.each(me.legendItems,function(legendItem,i){var textWidth=ctx.measureText(legendItem.text).width;var width=boxWidth+fontSize/2+textWidth;var x=cursor.x;var y=cursor.y;rtlHelper.setWidth(me.minSize.width);if(isHorizontal){if(i>0&&x+width+labelOpts.padding>me.left+me.minSize.width){y=cursor.y+=itemHeight;cursor.line++;x=cursor.x=me.left+alignmentOffset(legendWidth,lineWidths[cursor.line])}}else if(i>0&&y+itemHeight>me.top+me.minSize.height){x=cursor.x=x+me.columnWidths[cursor.line]+labelOpts.padding;cursor.line++;y=cursor.y=me.top+alignmentOffset(legendHeight,columnHeights[cursor.line])}var realX=rtlHelper.x(x);drawLegendBox(realX,y,legendItem);hitboxes[i].left=rtlHelper.leftForLtr(realX,hitboxes[i].width);hitboxes[i].top=y;fillText(realX,y,legendItem,textWidth);if(isHorizontal){cursor.x+=width+labelOpts.padding}else{cursor.y+=itemHeight}});helpers$1.rtl.restoreTextDirection(me.ctx,opts.textDirection)},_getLegendItemAt:function(x,y){var me=this;var i,hitBox,lh;if(x>=me.left&&x<=me.right&&y>=me.top&&y<=me.bottom){lh=me.legendHitBoxes;for(i=0;i<lh.length;++i){hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height){return me.legendItems[i]}}}return null},handleEvent:function(e){var me=this;var opts=me.options;var type=e.type==="mouseup"?"click":e.type;var hoveredItem;if(type==="mousemove"){if(!opts.onHover&&!opts.onLeave){return}}else if(type==="click"){if(!opts.onClick){return}}else{return}hoveredItem=me._getLegendItemAt(e.x,e.y);if(type==="click"){if(hoveredItem&&opts.onClick){opts.onClick.call(me,e.native,hoveredItem)}}else{if(opts.onLeave&&hoveredItem!==me._hoveredItem){if(me._hoveredItem){opts.onLeave.call(me,e.native,me._hoveredItem)}me._hoveredItem=hoveredItem}if(opts.onHover&&hoveredItem){opts.onHover.call(me,e.native,hoveredItem)}}}});function createNewLegendAndAttach(chart,legendOpts){var legend=new Legend({ctx:chart.ctx,options:legendOpts,chart:chart});core_layouts.configure(chart,legend,legendOpts);core_layouts.addBox(chart,legend);chart.legend=legend}var plugin_legend={id:"legend",_element:Legend,beforeInit:function(chart){var legendOpts=chart.options.legend;if(legendOpts){createNewLegendAndAttach(chart,legendOpts)}},beforeUpdate:function(chart){var legendOpts=chart.options.legend;var legend=chart.legend;if(legendOpts){helpers$1.mergeIf(legendOpts,core_defaults.global.legend);if(legend){core_layouts.configure(chart,legend,legendOpts);legend.options=legendOpts}else{createNewLegendAndAttach(chart,legendOpts)}}else if(legend){core_layouts.removeBox(chart,legend);delete chart.legend}},afterEvent:function(chart,e){var legend=chart.legend;if(legend){legend.handleEvent(e)}}},noop$2=helpers$1.noop;core_defaults._set("global",{title:{display:false,fontStyle:"bold",fullWidth:true,padding:10,position:"top",text:"",weight:2e3}});var Title=core_element.extend({initialize:function(config){var me=this;helpers$1.extend(me,config);me.legendHitBoxes=[]},beforeUpdate:noop$2,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize},afterUpdate:noop$2,beforeSetDimensions:noop$2,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0}},afterSetDimensions:noop$2,beforeBuildLabels:noop$2,buildLabels:noop$2,afterBuildLabels:noop$2,beforeFit:noop$2,fit:function(){var me=this;var opts=me.options;var minSize=me.minSize={};var isHorizontal=me.isHorizontal();var lineCount,textSize;if(!opts.display){me.width=minSize.width=me.height=minSize.height=0;return}lineCount=helpers$1.isArray(opts.text)?opts.text.length:1;textSize=lineCount*helpers$1.options._parseFont(opts).lineHeight+opts.padding*2;me.width=minSize.width=isHorizontal?me.maxWidth:textSize;me.height=minSize.height=isHorizontal?textSize:me.maxHeight},afterFit:noop$2,isHorizontal:function(){var pos=this.options.position;return pos==="top"||pos==="bottom"},draw:function(){var me=this;var ctx=me.ctx;var opts=me.options;if(!opts.display){return}var fontOpts=helpers$1.options._parseFont(opts);var lineHeight=fontOpts.lineHeight;var offset=lineHeight/2+opts.padding;var rotation=0;var top=me.top;var left=me.left;var bottom=me.bottom;var right=me.right;var maxWidth,titleX,titleY;ctx.fillStyle=helpers$1.valueOrDefault(opts.fontColor,core_defaults.global.defaultFontColor);ctx.font=fontOpts.string;if(me.isHorizontal()){titleX=left+(right-left)/2;titleY=top+offset;maxWidth=right-left}else{titleX=opts.position==="left"?left+offset:right-offset;titleY=top+(bottom-top)/2;maxWidth=bottom-top;rotation=Math.PI*(opts.position==="left"?-.5:.5)}ctx.save();ctx.translate(titleX,titleY);ctx.rotate(rotation);ctx.textAlign="center";ctx.textBaseline="middle";var text=opts.text;if(helpers$1.isArray(text)){var y=0;for(var i=0;i<text.length;++i){ctx.fillText(text[i],0,y,maxWidth);y+=lineHeight}}else{ctx.fillText(text,0,0,maxWidth)}ctx.restore()}});function createNewTitleBlockAndAttach(chart,titleOpts){var title=new Title({ctx:chart.ctx,options:titleOpts,chart:chart});core_layouts.configure(chart,title,titleOpts);core_layouts.addBox(chart,title);chart.titleBlock=title}var plugin_title,plugins={},filler=plugin_filler,legend=plugin_legend,title={id:"title",_element:Title,beforeInit:function(chart){var titleOpts=chart.options.title;if(titleOpts){createNewTitleBlockAndAttach(chart,titleOpts)}},beforeUpdate:function(chart){var titleOpts=chart.options.title;var titleBlock=chart.titleBlock;if(titleOpts){helpers$1.mergeIf(titleOpts,core_defaults.global.title);if(titleBlock){core_layouts.configure(chart,titleBlock,titleOpts);titleBlock.options=titleOpts}else{createNewTitleBlockAndAttach(chart,titleOpts)}}else if(titleBlock){core_layouts.removeBox(chart,titleBlock);delete chart.titleBlock}}};for(var k in plugins.filler=filler,plugins.legend=legend,plugins.title=title,core_controller.helpers=helpers$1,core_helpers(),core_controller._adapters=core_adapters,core_controller.Animation=core_animation,core_controller.animationService=core_animations,core_controller.controllers=controllers,core_controller.DatasetController=core_datasetController,core_controller.defaults=core_defaults,core_controller.Element=core_element,core_controller.elements=elements,core_controller.Interaction=core_interaction,core_controller.layouts=core_layouts,core_controller.platform=platform,core_controller.plugins=core_plugins,core_controller.Scale=core_scale,core_controller.scaleService=core_scaleService,core_controller.Ticks=core_ticks,core_controller.Tooltip=core_tooltip,core_controller.helpers.each(scales,function(scale,type){core_controller.scaleService.registerScaleType(type,scale,scale._defaults)}),plugins){if(plugins.hasOwnProperty(k)){core_controller.plugins.register(plugins[k])}}core_controller.platform.initialize();var src=core_controller;if(typeof window!=="undefined"){window.Chart=core_controller}return(core_controller.Chart=core_controller).Legend=plugins.legend._element,core_controller.Title=plugins.title._element,core_controller.pluginService=core_controller.plugins,core_controller.PluginBase=core_controller.Element.extend({}),core_controller.canvasHelpers=core_controller.helpers.canvas,core_controller.layoutService=core_controller.layouts,core_controller.LinearScaleBase=scale_linearbase,core_controller.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(klass){core_controller[klass]=function(ctx,cfg){return new core_controller(ctx,core_controller.helpers.merge(cfg||{},{type:klass.charAt(0).toLowerCase()+klass.slice(1)}))}}),src}(function(){try{return __webpack_require__(0)}catch(e){}}())},function(module,exports,__webpack_require__){"use strict";module.exports={groupSort:function(collection,field,argument_2){var rows,sort=!(2<arguments.length&&void 0!==argument_2)||argument_2;return rows=this.groupby(collection,field),sort&&(rows=rows.sort(function(a,b){return a||b?a[field]>b[field]?1:a[field]===b[field]?0:-1:0})),rows.map(function(video){return{label:video[field],value:video[field]}})},groupby:function(collection,field){var rows,unique;return unique=[],rows=[],collection.forEach(function(row){var i,key,keys,len,newRow,results;if(row[field]){for(results=[],i=0,len=(keys=row[field].split(/\//)).length;i<len;i++)key=keys[i],-1===(null!=unique?unique.indexOf(key):void 0)?(unique.push(key),(newRow=Object.assign({},row))[field]=key,results.push(rows.push(newRow))):results.push(void 0);return results}}),rows}}},function(module,exports){module.exports={level:{GCSE:"Tier","GCSE (WJEC)":"Tier","GCSE (Legacy)":"Tier","AS Level Old":"Exam Board",KS3:"Standard",Primary:"Year"},grade:{GCSE:"Grade","GCSE (WJEC)":"Grade","GCSE (Legacy)":"Grade","AS Level Old":"Exam","AS Level":"Module",KS3:null,Primary:null},topic:{GCSE:"Topic","GCSE (WJEC)":"Topic","GCSE (Legacy)":"Topic","AS Level Old":"Module","AS Level":"Topic",KS3:"Topic",Primary:"Topic"}}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}module.exports=function(){var DateFormat=function(){function DateFormat(date){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DateFormat),this.date=date,null!=this.date&&this.date instanceof Date||(this.date=new Date),this.i18n=DateFormat.i18n}return _createClass(DateFormat,[{key:"pad",value:function(val,argument_1){var length=1<arguments.length&&void 0!==argument_1?argument_1:2;return("000000"+val).substr(-length,length)}},{key:"yyyy",value:function(){return this.date.getFullYear().toString()}},{key:"yy",value:function(){return this.yyyy().substr(2,2)}},{key:"M",value:function(){return""+(this.date.getMonth()+1)}},{key:"MM",value:function(){return this.pad(this.M())}},{key:"MMMM",value:function(){return DateFormat.i18n.months[this.date.getMonth()]}},{key:"MMM",value:function(){return this.MMMM().substr(0,3)}},{key:"d",value:function(){return""+this.date.getDate()}},{key:"dd",value:function(){return""+this.pad(this.d())}},{key:"EEEE",value:function(){return DateFormat.i18n.weekdays[this.date.getDay()]}},{key:"EEE",value:function(){return this.EEEE().substr(0,3)}},{key:"H",value:function(){return""+this.date.getHours()}},{key:"HH",value:function(){return this.pad(this.H())}},{key:"h",value:function(){var h;return(h=this.H())<13?h:""+(h-12)}},{key:"hh",value:function(){return this.pad(this.h())}},{key:"m",value:function(){return""+this.date.getMinutes()}},{key:"mm",value:function(){return""+this.pad(this.m())}},{key:"s",value:function(){return""+this.date.getSeconds()}},{key:"ss",value:function(){return""+this.pad(this.s())}},{key:"a",value:function(){return this.H()<13?"AM":"PM"}},{key:"format",value:function(_format){var _this=this;return _format.replace(/([a-z])+/gi,function(val){return _this[val]?_this[val]():val})}},{key:"parseString",value:function(format,str){return DateFormat.parseString(format,str)}}],[{key:"parseString",value:function(format,str){var counter,datePart,matchers,params,pattern,regex,vals;try{var _matchers;return _defineProperty(_matchers={yyyy:{reg:"([0-9]{4})",param:0},yy:{reg:"([0-9]{2})",param:0},M:{reg:"([0-9]{1,2})",param:1},MM:{reg:"([0-9]{1,2})",param:1},MMM:{reg:"([a-z]{3})",param:1},MMMM:{reg:"([a-z]+)",param:1},dd:{reg:"([0-9]{1,2})",param:2}},"dd",{reg:"([0-9]{1,2})",param:2}),_defineProperty(_matchers,"d",{reg:"([0-9]{1,2})",param:2}),matchers=_matchers,counter=0,datePart=[],pattern=format.replace(/([a-z])+/gi,function(val){return matchers[val]?(datePart[counter]=val,counter++,matchers[val].reg):val}),regex=new RegExp(pattern,"i"),vals=str.match(regex),params=[],datePart.forEach(function(val,idx){return params[matchers[val].param]=vals[idx+1]}),-1<params[1]-1?params[1]&&(params[1]=params[1]-1):params[1]=DateFormat.i18n.months.indexOf(DateFormat.i18n.months.filter(function(month){return params[1].substr(0,3)===month.substr(0,3)})[0]),params[0]<90&&(params[0]="20"+params[0]),new Date(params[0],params[1],params[2])}catch(error){return error,!1}}}]),DateFormat}();return DateFormat.i18n={months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DateFormat}.call(void 0)},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("raw","","","",function(opts){this.on("update",function(){return this.root.innerHTML=opts.content})})},function(module,exports,__webpack_require__){"use strict";module.exports=function(collection,field){var rows,unique;return unique=[],rows=[],collection.forEach(function(row){if(-1===unique.indexOf(row[field]))return unique.push(row[field]),rows.push(row)}),rows}},function(module,exports){module.exports=function(obj){return null!=obj&&"object"==typeof obj}},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("assignedmodal",'<modal id="assignedmodal" title="Assignment" bssize="xl" onclose="{handleClose}" onsave="{handleSave}"> <div class="row clearfix"> <div class="col-sm-12"> <div class="row"> <questionpicker stores="{parent.opts.stores}" assignedid="{parent.opts.params.assigned_id}"></questionpicker> <div class="col-md-12"> <panel name="assignment" heading="Assignment Details"> <assignedmodalform stores="{parent.parent.opts.stores}" assignedid="{parent.parent.opts.params.assigned_id}" removeclip="{true}"></assignedmodalform> </panel> </div> </div> </div> </div> </modal>',"grid{ margin:-15px 0 5px 0; outline:1px solid #ddd; } .gridheader{ outline:1px solid #ddd; }","",function(opts){var _this;this.on("mount",function(){return opts.stores.on("assignedwork_saved",this.handleClose),this.cliplist=[],this.assignedwork=null,opts.params.assigned_id||(opts.params.assigned_id="new"),opts.stores.on("assignedwork_changed_one",this.handleAssignedWorkChange),"new"===opts.params.assigned_id?opts.stores.trigger("assignedwork_set",{questions:[],playlist:{}}):opts.params.assigned_id.match(/^new/)&&(opts.params.assigned_id=opts.params.assigned_id.replace(/[^0-9]+/g,"")),this.tags.modal.show(),this.questionTotal=0}),this.on("unmount",function(){return opts.stores.off("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.off("assignedwork_saved",this.handleClose)}),this.handleAssignedWorkChange=(_this=this,function(assignedwork){var ref;return _this.questionTotal=null!=assignedwork&&null!=(ref=assignedwork.questions)?ref.length:void 0,_this.update()}),this.handleClose=function(){return opts.page("/assignedwork")},this.handleSave=function(_this){return function(){return _this.questionTotal<=100?opts.stores.trigger("assignedwork_save"):opts.stores.trigger("toaster_add",{type:"warning",title:"Error",message:"The number of questions per assignment is limited to 100. Please remove some questions."})}}(this)})},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function Transform(handle,elem1){var base,base1,base2,base3,base4,options=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Transform),this.dragStart=this.dragStart.bind(this),this.dragEnd=this.dragEnd.bind(this),this.getAngle=this.getAngle.bind(this),this.handle=handle,this.elem=elem1,this.options=options,this.handle.addEventListener("mousedown",this.dragStart),this.handle.addEventListener("touchstart",this.dragStart),null==(base=this.options).vertical&&(base.vertical=!0),null==(base1=this.options).horizontal&&(base1.horizontal=!0),null==(base2=this.options).dragging&&(base2.dragging=function(pos){}),null==(base3=this.options).dragStart&&(base3.dragStart=function(){}),null==(base4=this.options).dragEnd&&(base4.dragEnd=function(){})}return _createClass(Transform,[{key:"dragStart",value:function(e){var ev,isTouch,left,origin,style,top,touch,_this=this;return e.preventDefault(),e.stopPropagation(),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("touchend",this.dragEnd),document.addEventListener("mousemove",this.dragMove,!1),document.addEventListener("touchmove",this.dragMove,!1),isTouch=!1,ev=e.touches?(isTouch=!0,{left:(touch=e.touches[0]).pageX,top:touch.pageY}):{left:e.pageX,top:e.pageY},top=this.elem.offsetTop,left=this.elem.offsetLeft,this.start={left:ev.left-left,top:ev.top-top,offsetLeft:left,offsetTop:top},origin=null,style=window.getComputedStyle(this.elem,null),["transform-origin","-moz-transform-origin","-webkit-transform-origin","-ms-transform-origin"].forEach(function(version){return origin=style.getPropertyValue(version)||_this.origin}),origin&&(this.tsOrigin={left:+origin.match(/^([0-9]+)/)[1],top:+origin.match(/([0-9])[^0-9]+$/)[1]}),this.options.dragStart(this.start,{isTouch:isTouch})}},{key:"dragEnd",value:function(){return document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("touchmove",this.dragMove),this.options.dragEnd()}},{key:"dragMove",value:function(){}},{key:"getAngle",value:function(elem){var a,b,radians,st,tr,values;tr=(st=window.getComputedStyle(elem,null)).getPropertyValue("-webkit-transform")||st.getPropertyValue("-moz-transform")||st.getPropertyValue("-ms-transform")||st.getPropertyValue("-o-transform")||st.getPropertyValue("transform");try{values=tr.split("(")[1].split(")")[0].split(",")}catch(error){return error,{radians:0,degrees:0}}var _values2=_slicedToArray(values,4);return a=_values2[0],b=_values2[1],_values2[2],_values2[3],b/Math.sqrt(a*a+b*b),{radians:radians=Math.atan2(b,a),degrees:radians*(180/Math.PI)}}},{key:"rotateMatix",value:function(x,y,centerX,centerY,radians){var cos,sin;return cos=Math.cos,sin=Math.sin,{left:(x-centerX)*cos(radians)-(y-centerY)*sin(radians)+centerX,top:(x-centerX)*sin(radians)+(y-centerY)*cos(radians)+centerY}}}]),Transform}()},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){!function(moment){"use strict";var af;moment.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(input){return/^nm$/i.test(input)},meridiem:function(hours,minutes,isLower){if(hours<12){return isLower?"vm":"VM"}else{return isLower?"nm":"NM"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(number===1||number===8||number>=20?"ste":"de")},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},pluralForm=function(n){return n===0?0:n===1?1:n===2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},plurals={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},pluralize=function(u){return function(number,withoutSuffix,string,isFuture){var f=pluralForm(number),str=plurals[u][pluralForm(number)];if(f===2){str=str[withoutSuffix?0:1]}return str.replace(/%d/i,number)}},months=["","","","","","","","","","","",""],ar;moment.defineLocale("ar",{months:months,monthsShort:months,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:pluralize("s"),ss:pluralize("s"),m:pluralize("m"),mm:pluralize("m"),h:pluralize("h"),hh:pluralize("h"),d:pluralize("d"),dd:pluralize("d"),M:pluralize("M"),MM:pluralize("M"),y:pluralize("y"),yy:pluralize("y")},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var arDz;moment.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var arKw;moment.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},pluralForm=function(n){return n===0?0:n===1?1:n===2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},plurals={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},pluralize=function(u){return function(number,withoutSuffix,string,isFuture){var f=pluralForm(number),str=plurals[u][pluralForm(number)];if(f===2){str=str[withoutSuffix?0:1]}return str.replace(/%d/i,number)}},months=["","","","","","","","","","","",""],arLy;moment.defineLocale("ar-ly",{months:months,monthsShort:months,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:pluralize("s"),ss:pluralize("s"),m:pluralize("m"),mm:pluralize("m"),h:pluralize("h"),hh:pluralize("h"),d:pluralize("d"),dd:pluralize("d"),M:pluralize("M"),MM:pluralize("M"),y:pluralize("y"),yy:pluralize("y")},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var arMa;moment.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},arSa;moment.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]}).replace(/,/g,"")},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var arTn;moment.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var suffixes={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},az;moment.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(input){return/^(gndz|axam)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<4){return"gec"}else if(hour<12){return"shr"}else if(hour<17){return"gndz"}else{return"axam"}},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(number){if(number===0){return number+"-nc"}var a=number%10,b=number%100-a,c=number>=100?100:null;return number+(suffixes[a]||suffixes[b]||suffixes[c])},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function plural(word,num){var forms=word.split("_");return num%10===1&&num%100!==11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2]}function relativeTimeWithPlural(number,withoutSuffix,key){var format={ss:withoutSuffix?"__":"__",mm:withoutSuffix?"__":"__",hh:withoutSuffix?"__":"__",dd:"__",MM:"__",yy:"__"};if(key==="m"){return withoutSuffix?"":""}else if(key==="h"){return withoutSuffix?"":""}else{return number+" "+plural(format[key],+number)}}var be;moment.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:relativeTimeWithPlural,hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":case"w":case"W":return(number%10===2||number%10===3)&&(number%100!==12&&number%100!==13)?number+"-":number+"-";case"D":return number+"-";default:return number}},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var bg;moment.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(number){var lastDigit=number%10,last2Digits=number%100;if(number===0){return number+"-"}else if(last2Digits===0){return number+"-"}else if(last2Digits>10&&last2Digits<20){return number+"-"}else if(lastDigit===1){return number+"-"}else if(lastDigit===2){return number+"-"}else if(lastDigit===7||lastDigit===8){return number+"-"}else{return number+"-"}},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var bm;moment.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},bn;moment.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""&&hour>=4||meridiem===""&&hour<5||meridiem===""){return hour+12}else{return hour}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},bo;moment.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""&&hour>=4||meridiem===""&&hour<5||meridiem===""){return hour+12}else{return hour}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function relativeTimeWithMutation(number,withoutSuffix,key){var format={mm:"munutenn",MM:"miz",dd:"devezh"};return number+" "+mutation(format[key],number)}function specialMutationForYears(number){switch(lastNumber(number)){case 1:case 3:case 4:case 5:case 9:return number+" bloaz";default:return number+" vloaz"}}function lastNumber(number){if(number>9){return lastNumber(number%10)}return number}function mutation(text,number){if(number===2){return softMutation(text)}return text}function softMutation(text){var mutationTable={m:"v",b:"v",d:"z"};if(mutationTable[text.charAt(0)]===undefined){return text}return mutationTable[text.charAt(0)]+text.substring(1)}var br;moment.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:relativeTimeWithMutation,h:"un eur",hh:"%d eur",d:"un devezh",dd:relativeTimeWithMutation,M:"ur miz",MM:relativeTimeWithMutation,y:"ur bloaz",yy:specialMutationForYears},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(number){var output=number===1?"a":"vet";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"ss":if(number===1){result+="sekunda"}else if(number===2||number===3||number===4){result+="sekunde"}else{result+="sekundi"}return result;case"m":return withoutSuffix?"jedna minuta":"jedne minute";case"mm":if(number===1){result+="minuta"}else if(number===2||number===3||number===4){result+="minute"}else{result+="minuta"}return result;case"h":return withoutSuffix?"jedan sat":"jednog sata";case"hh":if(number===1){result+="sat"}else if(number===2||number===3||number===4){result+="sata"}else{result+="sati"}return result;case"dd":if(number===1){result+="dan"}else{result+="dana"}return result;case"MM":if(number===1){result+="mjesec"}else if(number===2||number===3||number===4){result+="mjeseca"}else{result+="mjeseci"}return result;case"yy":if(number===1){result+="godina"}else if(number===2||number===3||number===4){result+="godine"}else{result+="godina"}return result}}var bs;moment.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ca;moment.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:true,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(number,period){var output=number===1?"r":number===2?"n":number===3?"r":number===4?"t":"";if(period==="w"||period==="W"){output="a"}return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var months="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),monthsShort="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),monthsParse=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],monthsRegex=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,cs;function plural(n){return n>1&&n<5&&~~(n/10)!==1}function translate(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"pr sekund":"pr sekundami";case"ss":if(withoutSuffix||isFuture){return result+(plural(number)?"sekundy":"sekund")}else{return result+"sekundami"}break;case"m":return withoutSuffix?"minuta":isFuture?"minutu":"minutou";case"mm":if(withoutSuffix||isFuture){return result+(plural(number)?"minuty":"minut")}else{return result+"minutami"}break;case"h":return withoutSuffix?"hodina":isFuture?"hodinu":"hodinou";case"hh":if(withoutSuffix||isFuture){return result+(plural(number)?"hodiny":"hodin")}else{return result+"hodinami"}break;case"d":return withoutSuffix||isFuture?"den":"dnem";case"dd":if(withoutSuffix||isFuture){return result+(plural(number)?"dny":"dn")}else{return result+"dny"}break;case"M":return withoutSuffix||isFuture?"msc":"mscem";case"MM":if(withoutSuffix||isFuture){return result+(plural(number)?"msce":"msc")}else{return result+"msci"}break;case"y":return withoutSuffix||isFuture?"rok":"rokem";case"yy":if(withoutSuffix||isFuture){return result+(plural(number)?"roky":"let")}else{return result+"lety"}break}}moment.defineLocale("cs",{months:months,monthsShort:monthsShort,monthsRegex:monthsRegex,monthsShortRegex:monthsRegex,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var cv;moment.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(output){var affix=/$/i.exec(output)?"":/$/i.exec(output)?"":"";return output+affix},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var cy;moment.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(number){var b=number,output="",lookup=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];if(b>20){if(b===40||b===50||b===60||b===80||b===100){output="fed"}else{output="ain"}}else if(b>0){output=lookup[b]}return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var da;moment.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function processRelativeTime(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}var de;moment.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function processRelativeTime(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}var deAt;moment.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function processRelativeTime(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}var deCh;moment.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var months=["","","","","","","","","","","",""],weekdays=["","","","","","",""],dv;moment.defineLocale("dv",{months:months,monthsShort:months,weekdays:weekdays,weekdaysShort:weekdays,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:7,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function isFunction(input){return input instanceof Function||Object.prototype.toString.call(input)==="[object Function]"}var el;moment.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(momentToFormat,format){if(!momentToFormat){return this._monthsNominativeEl}else if(typeof format==="string"&&/D/.test(format.substring(0,format.indexOf("MMMM")))){return this._monthsGenitiveEl[momentToFormat.month()]}else{return this._monthsNominativeEl[momentToFormat.month()]}},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"":""}else{return isLower?"":""}},isPM:function(input){return(input+"").toLowerCase()[0]===""},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(key,mom){var output=this._calendarEl[key],hours=mom&&mom.hours();if(isFunction(output)){output=output.apply(mom)}return output.replace("{}",hours%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var enSG;moment.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var enAu;moment.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var enCa;moment.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var enGb;moment.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var enIe;moment.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var enIl;moment.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var enNz;moment.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var eo;moment.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(input){return input.charAt(0).toLowerCase()==="p"},meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"p.t.m.":"P.T.M."}else{return isLower?"a.t.m.":"A.T.M."}},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var monthsShortDot="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),monthsParse=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],monthsRegex=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,es;moment.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){if(!m){return monthsShortDot}else if(/-MMM-/.test(format)){return monthsShort[m.month()]}else{return monthsShortDot[m.month()]}},monthsRegex:monthsRegex,monthsShortRegex:monthsRegex,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var monthsShortDot="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),monthsParse=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],monthsRegex=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,esDo;moment.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){if(!m){return monthsShortDot}else if(/-MMM-/.test(format)){return monthsShort[m.month()]}else{return monthsShortDot[m.month()]}},monthsRegex:monthsRegex,monthsShortRegex:monthsRegex,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var monthsShortDot="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),monthsParse=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],monthsRegex=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,esUs;moment.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){if(!m){return monthsShortDot}else if(/-MMM-/.test(format)){return monthsShort[m.month()]}else{return monthsShortDot[m.month()]}},monthsRegex:monthsRegex,monthsShortRegex:monthsRegex,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function processRelativeTime(number,withoutSuffix,key,isFuture){var format={s:["mne sekundi","mni sekund","paar sekundit"],ss:[number+"sekundi",number+"sekundit"],m:["he minuti","ks minut"],mm:[number+" minuti",number+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[number+" tunni",number+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[number+" kuu",number+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[number+" aasta",number+" aastat"]};if(withoutSuffix){return format[key][2]?format[key][2]:format[key][1]}return isFuture?format[key][0]:format[key][1]}var et;moment.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:processRelativeTime,ss:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:"%d peva",M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var eu;moment.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:true,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},fa;moment.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(input){return/  /.test(input)},meridiem:function(hour,minute,isLower){if(hour<12){return"  "}else{return"  "}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[-]/g,function(match){return numberMap[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var numbersPast="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),numbersFuture=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",numbersPast[7],numbersPast[8],numbersPast[9]],fi;function translate(number,withoutSuffix,key,isFuture){var result="";switch(key){case"s":return isFuture?"muutaman sekunnin":"muutama sekunti";case"ss":return isFuture?"sekunnin":"sekuntia";case"m":return isFuture?"minuutin":"minuutti";case"mm":result=isFuture?"minuutin":"minuuttia";break;case"h":return isFuture?"tunnin":"tunti";case"hh":result=isFuture?"tunnin":"tuntia";break;case"d":return isFuture?"pivn":"piv";case"dd":result=isFuture?"pivn":"piv";break;case"M":return isFuture?"kuukauden":"kuukausi";case"MM":result=isFuture?"kuukauden":"kuukautta";break;case"y":return isFuture?"vuoden":"vuosi";case"yy":result=isFuture?"vuoden":"vuotta";break}result=verbalNumber(number,isFuture)+" "+result;return result}function verbalNumber(number,isFuture){return number<10?isFuture?numbersFuture[number]:numbersPast[number]:number}moment.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var fo;moment.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var fr;moment.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(number,period){switch(period){case"D":return number+(number===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return number+(number===1?"er":"e");case"w":case"W":return number+(number===1?"re":"e")}},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var frCa;moment.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(number,period){switch(period){default:case"M":case"Q":case"D":case"DDD":case"d":return number+(number===1?"er":"e");case"w":case"W":return number+(number===1?"re":"e")}}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var frCh;moment.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(number,period){switch(period){default:case"M":case"Q":case"D":case"DDD":case"d":return number+(number===1?"er":"e");case"w":case"W":return number+(number===1?"re":"e")}},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var monthsShortWithDots="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),monthsShortWithoutDots="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),fy;moment.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(m,format){if(!m){return monthsShortWithDots}else if(/-MMM-/.test(format)){return monthsShortWithoutDots[m.month()]}else{return monthsShortWithDots[m.month()]}},monthsParseExact:true,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(number===1||number===8||number>=20?"ste":"de")},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var months=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Mitheamh","Iil","Lnasa","Men Fmhair","Deaireadh Fmhair","Samhain","Nollaig"],monthsShort=["Ean","Feab","Mrt","Aibr","Beal","Mit","Iil","Lna","Men","Deai","Samh","Noll"],weekdays=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Satharn"],weekdaysShort=["Dom","Lua","Mi","Ca","Da","hAo","Sat"],weekdaysMin=["Do","Lu","M","Ce","D","hA","Sa"],ga;moment.defineLocale("ga",{months:months,monthsShort:monthsShort,monthsParseExact:true,weekdays:weekdays,weekdaysShort:weekdaysShort,weekdaysMin:weekdaysMin,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(number){var output=number===1?"d":number%10===2?"na":"mh";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var months=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],weekdays=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin=["D","Lu","M","Ci","Ar","Ha","Sa"],gd;moment.defineLocale("gd",{months:months,monthsShort:monthsShort,monthsParseExact:true,weekdays:weekdays,weekdaysShort:weekdaysShort,weekdaysMin:weekdaysMin,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(number){var output=number===1?"d":number%10===2?"na":"mh";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var gl;moment.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:true,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[ma "+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(this.hours()!==1?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(this.hours()!==1?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(this.hours()!==1?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(str){if(str.indexOf("un")===0){return"n"+str}return"en "+str},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function processRelativeTime(number,withoutSuffix,key,isFuture){var format={s:["thodde secondanim","thodde second"],ss:[number+" secondanim",number+" second"],m:["eka mintan","ek minute"],mm:[number+" mintanim",number+" mintam"],h:["eka voran","ek vor"],hh:[number+" voranim",number+" voram"],d:["eka disan","ek dis"],dd:[number+" disanim",number+" dis"],M:["eka mhoinean","ek mhoino"],MM:[number+" mhoineanim",number+" mhoine"],y:["eka vorsan","ek voros"],yy:[number+" vorsanim",number+" vorsam"]};return withoutSuffix?format[key][0]:format[key][1]}var gomLatn;moment.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:processRelativeTime,ss:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(number,period){switch(period){case"D":return number+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return number}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="rati"){return hour<4?hour:hour+12}else if(meridiem==="sokalli"){return hour}else if(meridiem==="donparam"){return hour>12?hour:hour+12}else if(meridiem==="sanje"){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return"rati"}else if(hour<12){return"sokalli"}else if(hour<16){return"donparam"}else if(hour<20){return"sanje"}else{return"rati"}}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},gu;moment.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var he;moment.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(number){if(number===2){return""}return number+" "},d:"",dd:function(number){if(number===2){return""}return number+" "},M:"",MM:function(number){if(number===2){return""}return number+" "},y:"",yy:function(number){if(number===2){return""}else if(number%10===0&&number!==10){return number+" "}return number+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(input){return/^("| |)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<5){return" "}else if(hour<10){return""}else if(hour<12){return isLower?'"':" "}else if(hour<18){return isLower?'"':" "}else{return""}}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},hi;moment.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"ss":if(number===1){result+="sekunda"}else if(number===2||number===3||number===4){result+="sekunde"}else{result+="sekundi"}return result;case"m":return withoutSuffix?"jedna minuta":"jedne minute";case"mm":if(number===1){result+="minuta"}else if(number===2||number===3||number===4){result+="minute"}else{result+="minuta"}return result;case"h":return withoutSuffix?"jedan sat":"jednog sata";case"hh":if(number===1){result+="sat"}else if(number===2||number===3||number===4){result+="sata"}else{result+="sati"}return result;case"dd":if(number===1){result+="dan"}else{result+="dana"}return result;case"MM":if(number===1){result+="mjesec"}else if(number===2||number===3||number===4){result+="mjeseca"}else{result+="mjeseci"}return result;case"yy":if(number===1){result+="godina"}else if(number===2||number===3||number===4){result+="godine"}else{result+="godina"}return result}}var hr;moment.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var weekEndings="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" "),hu;function translate(number,withoutSuffix,key,isFuture){var num=number;switch(key){case"s":return isFuture||withoutSuffix?"nhny msodperc":"nhny msodperce";case"ss":return num+(isFuture||withoutSuffix)?" msodperc":" msodperce";case"m":return"egy"+(isFuture||withoutSuffix?" perc":" perce");case"mm":return num+(isFuture||withoutSuffix?" perc":" perce");case"h":return"egy"+(isFuture||withoutSuffix?" ra":" rja");case"hh":return num+(isFuture||withoutSuffix?" ra":" rja");case"d":return"egy"+(isFuture||withoutSuffix?" nap":" napja");case"dd":return num+(isFuture||withoutSuffix?" nap":" napja");case"M":return"egy"+(isFuture||withoutSuffix?" hnap":" hnapja");case"MM":return num+(isFuture||withoutSuffix?" hnap":" hnapja");case"y":return"egy"+(isFuture||withoutSuffix?" v":" ve");case"yy":return num+(isFuture||withoutSuffix?" v":" ve")}return""}function week(isFuture){return(isFuture?"":"[mlt] ")+"["+weekEndings[this.day()]+"] LT[-kor]"}moment.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(input){return input.charAt(1).toLowerCase()==="u"},meridiem:function(hours,minutes,isLower){if(hours<12){return isLower===true?"de":"DE"}else{return isLower===true?"du":"DU"}},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return week.call(this,true)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return week.call(this,false)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var hyAm;moment.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(number,period){switch(period){case"DDD":case"w":case"W":case"DDDo":if(number===1){return number+"-"}return number+"-";default:return number}},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var id;moment.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="pagi"){return hour}else if(meridiem==="siang"){return hour>=11?hour:hour+12}else if(meridiem==="sore"||meridiem==="malam"){return hour+12}},meridiem:function(hours,minutes,isLower){if(hours<11){return"pagi"}else if(hours<15){return"siang"}else if(hours<19){return"sore"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function plural(n){if(n%100===11){return true}else if(n%10===1){return false}return true}function translate(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"nokkrar sekndur":"nokkrum sekndum";case"ss":if(plural(number)){return result+(withoutSuffix||isFuture?"sekndur":"sekndum")}return result+"seknda";case"m":return withoutSuffix?"mnta":"mntu";case"mm":if(plural(number)){return result+(withoutSuffix||isFuture?"mntur":"mntum")}else if(withoutSuffix){return result+"mnta"}return result+"mntu";case"hh":if(plural(number)){return result+(withoutSuffix||isFuture?"klukkustundir":"klukkustundum")}return result+"klukkustund";case"d":if(withoutSuffix){return"dagur"}return isFuture?"dag":"degi";case"dd":if(plural(number)){if(withoutSuffix){return result+"dagar"}return result+(isFuture?"daga":"dgum")}else if(withoutSuffix){return result+"dagur"}return result+(isFuture?"dag":"degi");case"M":if(withoutSuffix){return"mnuur"}return isFuture?"mnu":"mnui";case"MM":if(plural(number)){if(withoutSuffix){return result+"mnuir"}return result+(isFuture?"mnui":"mnuum")}else if(withoutSuffix){return result+"mnuur"}return result+(isFuture?"mnu":"mnui");case"y":return withoutSuffix||isFuture?"r":"ri";case"yy":if(plural(number)){return result+(withoutSuffix||isFuture?"r":"rum")}return result+(withoutSuffix||isFuture?"r":"ri")}}var is;moment.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:translate,ss:translate,m:translate,mm:translate,h:"klukkustund",hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var it;moment.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(s){return(/^[0-9].+$/.test(s)?"tra":"in")+" "+s},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var itCh;moment.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(s){return(/^[0-9].+$/.test(s)?"tra":"in")+" "+s},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ja;moment.defineLocale("ja",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(now){if(now.week()<this.week()){return"[]dddd LT"}else{return"dddd LT"}},lastDay:"[] LT",lastWeek:function(now){if(this.week()<now.week()){return"[]dddd LT"}else{return"dddd LT"}},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var jv;moment.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="enjing"){return hour}else if(meridiem==="siyang"){return hour>=11?hour:hour+12}else if(meridiem==="sonten"||meridiem==="ndalu"){return hour+12}},meridiem:function(hours,minutes,isLower){if(hours<11){return"enjing"}else if(hours<15){return"siyang"}else if(hours<19){return"sonten"}else{return"ndalu"}},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ka;moment.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(s){return/(|||)/.test(s)?s.replace(/$/,""):s+""},past:function(s){if(/(||||)/.test(s)){return s.replace(/(|)$/," ")}if(//.test(s)){return s.replace(/$/," ")}},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(number){if(number===0){return number}if(number===1){return number+"-"}if(number<20||number<=100&&number%20===0||number%100===0){return"-"+number}return number+"-"},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var suffixes={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},kk;moment.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(number){var a=number%10,b=number>=100?100:null;return number+(suffixes[number]||suffixes[a]||suffixes[b])},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},km;moment.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},kn;moment.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(number){return number+""},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ko;moment.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},meridiemParse:/|/,isPM:function(token){return token===""},meridiem:function(hour,minute,isUpper){return hour<12?"":""}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},months=[" ","","","","","","","",""," "," "," "],ku;moment.defineLocale("ku",{months:months,monthsShort:months,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return//.test(input)},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var suffixes={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},ky;moment.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(number){var a=number%10,b=number>=100?100:null;return number+(suffixes[number]||suffixes[a]||suffixes[b])},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function processRelativeTime(number,withoutSuffix,key,isFuture){var format={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return withoutSuffix?format[key][0]:format[key][1]}function processFutureTime(string){var number=string.substr(0,string.indexOf(" "));if(eifelerRegelAppliesToNumber(number)){return"a "+string}return"an "+string}function processPastTime(string){var number=string.substr(0,string.indexOf(" "));if(eifelerRegelAppliesToNumber(number)){return"viru "+string}return"virun "+string}function eifelerRegelAppliesToNumber(number){number=parseInt(number,10);if(isNaN(number)){return false}if(number<0){return true}else if(number<10){if(4<=number&&number<=7){return true}return false}else if(number<100){var lastDigit=number%10,firstDigit=number/10;if(lastDigit===0){return eifelerRegelAppliesToNumber(firstDigit)}return eifelerRegelAppliesToNumber(lastDigit)}else if(number<1e4){while(number>=10){number=number/10}return eifelerRegelAppliesToNumber(number)}else{number=number/1e3;return eifelerRegelAppliesToNumber(number)}}var lb;moment.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:processFutureTime,past:processPastTime,s:"e puer Sekonnen",ss:"%d Sekonnen",m:processRelativeTime,mm:"%d Minutten",h:processRelativeTime,hh:"%d Stonnen",d:processRelativeTime,dd:"%d Deeg",M:processRelativeTime,MM:"%d Mint",y:processRelativeTime,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var lo;moment.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(number){return""+number}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var units={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},lt;function translateSeconds(number,withoutSuffix,key,isFuture){if(withoutSuffix){return"kelios sekunds"}else{return isFuture?"keli sekundi":"kelias sekundes"}}function translateSingular(number,withoutSuffix,key,isFuture){return withoutSuffix?forms(key)[0]:isFuture?forms(key)[1]:forms(key)[2]}function special(number){return number%10===0||number>10&&number<20}function forms(key){return units[key].split("_")}function translate(number,withoutSuffix,key,isFuture){var result=number+" ";if(number===1){return result+translateSingular(number,withoutSuffix,key[0],isFuture)}else if(withoutSuffix){return result+(special(number)?forms(key)[1]:forms(key)[0])}else{if(isFuture){return result+forms(key)[1]}else{return result+(special(number)?forms(key)[1]:forms(key)[2])}}}moment.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:translateSeconds,ss:translate,m:translateSingular,mm:translate,h:translateSingular,hh:translate,d:translateSingular,dd:translate,M:translateSingular,MM:translate,y:translateSingular,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(number){return number+"-oji"},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var units={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")},lv;function format(forms,number,withoutSuffix){if(withoutSuffix){return number%10===1&&number%100!==11?forms[2]:forms[3]}else{return number%10===1&&number%100!==11?forms[0]:forms[1]}}function relativeTimeWithPlural(number,withoutSuffix,key){return number+" "+format(units[key],number,withoutSuffix)}function relativeTimeWithSingular(number,withoutSuffix,key){return format(units[key],number,withoutSuffix)}function relativeSeconds(number,withoutSuffix){return withoutSuffix?"daas sekundes":"dam sekundm"}moment.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:relativeSeconds,ss:relativeTimeWithPlural,m:relativeTimeWithSingular,mm:relativeTimeWithPlural,h:relativeTimeWithSingular,hh:relativeTimeWithPlural,d:relativeTimeWithSingular,dd:relativeTimeWithPlural,M:relativeTimeWithSingular,MM:relativeTimeWithPlural,y:relativeTimeWithSingular,yy:relativeTimeWithPlural},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var translator={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(number,wordKey){return number===1?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator.words[key];if(key.length===1){return withoutSuffix?wordKey[0]:wordKey[1]}else{return number+" "+translator.correctGrammaticalCase(number,wordKey)}}},me;moment.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var lastWeekDays=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return lastWeekDays[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:translator.translate,m:translator.translate,mm:translator.translate,h:translator.translate,hh:translator.translate,d:"dan",dd:translator.translate,M:"mjesec",MM:translator.translate,y:"godinu",yy:translator.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var mi;moment.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var mk;moment.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(number){var lastDigit=number%10,last2Digits=number%100;if(number===0){return number+"-"}else if(last2Digits===0){return number+"-"}else if(last2Digits>10&&last2Digits<20){return number+"-"}else if(lastDigit===1){return number+"-"}else if(lastDigit===2){return number+"-"}else if(lastDigit===7||lastDigit===8){return number+"-"}else{return number+"-"}},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ml;moment.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""&&hour>=4||meridiem===" "||meridiem===""){return hour+12}else{return hour}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return" "}else if(hour<20){return""}else{return""}}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function translate(number,withoutSuffix,key,isFuture){switch(key){case"s":return withoutSuffix?" ":" ";case"ss":return number+(withoutSuffix?" ":" ");case"m":case"mm":return number+(withoutSuffix?" ":" ");case"h":case"hh":return number+(withoutSuffix?" ":" ");case"d":case"dd":return number+(withoutSuffix?" ":" ");case"M":case"MM":return number+(withoutSuffix?" ":" ");case"y":case"yy":return number+(withoutSuffix?" ":" ");default:return number}}var mn;moment.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+" ";default:return number}}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},mr;function relativeTimeMr(number,withoutSuffix,string,isFuture){var output="";if(withoutSuffix){switch(string){case"s":output=" ";break;case"ss":output="%d ";break;case"m":output=" ";break;case"mm":output="%d ";break;case"h":output=" ";break;case"hh":output="%d ";break;case"d":output=" ";break;case"dd":output="%d ";break;case"M":output=" ";break;case"MM":output="%d ";break;case"y":output=" ";break;case"yy":output="%d ";break}}else{switch(string){case"s":output=" ";break;case"ss":output="%d ";break;case"m":output=" ";break;case"mm":output="%d ";break;case"h":output=" ";break;case"hh":output="%d ";break;case"d":output=" ";break;case"dd":output="%d ";break;case"M":output=" ";break;case"MM":output="%d ";break;case"y":output=" ";break;case"yy":output="%d ";break}}return output.replace(/%d/i,number)}moment.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:relativeTimeMr,ss:relativeTimeMr,m:relativeTimeMr,mm:relativeTimeMr,h:relativeTimeMr,hh:relativeTimeMr,d:relativeTimeMr,dd:relativeTimeMr,M:relativeTimeMr,MM:relativeTimeMr,y:relativeTimeMr,yy:relativeTimeMr},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ms;moment.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="pagi"){return hour}else if(meridiem==="tengahari"){return hour>=11?hour:hour+12}else if(meridiem==="petang"||meridiem==="malam"){return hour+12}},meridiem:function(hours,minutes,isLower){if(hours<11){return"pagi"}else if(hours<15){return"tengahari"}else if(hours<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var msMy;moment.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="pagi"){return hour}else if(meridiem==="tengahari"){return hour>=11?hour:hour+12}else if(meridiem==="petang"||meridiem==="malam"){return hour+12}},meridiem:function(hours,minutes,isLower){if(hours<11){return"pagi"}else if(hours<15){return"tengahari"}else if(hours<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var mt;moment.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},my;moment.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var nb;moment.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:true,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},ne;moment.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<3){return""}else if(hour<12){return""}else if(hour<16){return""}else if(hour<20){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var monthsShortWithDots="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsShortWithoutDots="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),monthsParse=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],monthsRegex=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,nl;moment.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(m,format){if(!m){return monthsShortWithDots}else if(/-MMM-/.test(format)){return monthsShortWithoutDots[m.month()]}else{return monthsShortWithDots[m.month()]}},monthsRegex:monthsRegex,monthsShortRegex:monthsRegex,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(number===1||number===8||number>=20?"ste":"de")},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var monthsShortWithDots="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsShortWithoutDots="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),monthsParse=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],monthsRegex=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,nlBe;moment.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(m,format){if(!m){return monthsShortWithDots}else if(/-MMM-/.test(format)){return monthsShortWithoutDots[m.month()]}else{return monthsShortWithDots[m.month()]}},monthsRegex:monthsRegex,monthsShortRegex:monthsRegex,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(number===1||number===8||number>=20?"ste":"de")},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var nn;moment.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},paIn;moment.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var monthsNominative="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),monthsSubjective="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),pl;function plural(n){return n%10<5&&n%10>1&&~~(n/10)%10!==1}function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"ss":return result+(plural(number)?"sekundy":"sekund");case"m":return withoutSuffix?"minuta":"minut";case"mm":return result+(plural(number)?"minuty":"minut");case"h":return withoutSuffix?"godzina":"godzin";case"hh":return result+(plural(number)?"godziny":"godzin");case"MM":return result+(plural(number)?"miesice":"miesicy");case"yy":return result+(plural(number)?"lata":"lat")}}moment.defineLocale("pl",{months:function(momentToFormat,format){if(!momentToFormat){return monthsNominative}else if(format===""){return"("+monthsSubjective[momentToFormat.month()]+"|"+monthsNominative[momentToFormat.month()]+")"}else if(/D MMMM/.test(format)){return monthsSubjective[momentToFormat.month()]}else{return monthsNominative[momentToFormat.month()]}},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:"1 dzie",dd:"%d dni",M:"miesic",MM:translate,y:"rok",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var pt;moment.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ptBr;moment.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function relativeTimeWithPlural(number,withoutSuffix,key){var format={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},separator=" ";if(number%100>=20||number>=100&&number%100===0){separator=" de "}return number+separator+format[key]}var ro;moment.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:true,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:relativeTimeWithPlural,m:"un minut",mm:relativeTimeWithPlural,h:"o or",hh:relativeTimeWithPlural,d:"o zi",dd:relativeTimeWithPlural,M:"o lun",MM:relativeTimeWithPlural,y:"un an",yy:relativeTimeWithPlural},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function plural(word,num){var forms=word.split("_");return num%10===1&&num%100!==11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2]}function relativeTimeWithPlural(number,withoutSuffix,key){var format={ss:withoutSuffix?"__":"__",mm:withoutSuffix?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(key==="m"){return withoutSuffix?"":""}else{return number+" "+plural(format[key],+number)}}var monthsParse=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],ru;moment.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(now){if(now.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}}else{if(this.day()===2){return"[] dddd, [] LT"}else{return"[] dddd, [] LT"}}},lastWeek:function(now){if(now.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}}else{if(this.day()===2){return"[] dddd, [] LT"}else{return"[] dddd, [] LT"}}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:relativeTimeWithPlural,m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"",hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/i,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":return number+"-";case"D":return number+"-";case"w":case"W":return number+"-";default:return number}},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var months=["","","","","","","","","","","",""],days=["","","","","","",""],sd;moment.defineLocale("sd",{months:months,monthsShort:months,weekdays:days,weekdaysShort:days,weekdaysMin:days,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}return""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var se;moment.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var si;moment.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(number){return number+" "},meridiemParse:/ | |.|../,isPM:function(input){return input===".."||input===" "},meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"..":" "}else{return isLower?"..":" "}}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var months="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),monthsShort="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),sk;function plural(n){return n>1&&n<5}function translate(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"pr seknd":"pr sekundami";case"ss":if(withoutSuffix||isFuture){return result+(plural(number)?"sekundy":"seknd")}else{return result+"sekundami"}break;case"m":return withoutSuffix?"minta":isFuture?"mintu":"mintou";case"mm":if(withoutSuffix||isFuture){return result+(plural(number)?"minty":"mint")}else{return result+"mintami"}break;case"h":return withoutSuffix?"hodina":isFuture?"hodinu":"hodinou";case"hh":if(withoutSuffix||isFuture){return result+(plural(number)?"hodiny":"hodn")}else{return result+"hodinami"}break;case"d":return withoutSuffix||isFuture?"de":"dom";case"dd":if(withoutSuffix||isFuture){return result+(plural(number)?"dni":"dn")}else{return result+"dami"}break;case"M":return withoutSuffix||isFuture?"mesiac":"mesiacom";case"MM":if(withoutSuffix||isFuture){return result+(plural(number)?"mesiace":"mesiacov")}else{return result+"mesiacmi"}break;case"y":return withoutSuffix||isFuture?"rok":"rokom";case"yy":if(withoutSuffix||isFuture){return result+(plural(number)?"roky":"rokov")}else{return result+"rokmi"}break}}moment.defineLocale("sk",{months:months,monthsShort:monthsShort,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function processRelativeTime(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"nekaj sekund":"nekaj sekundami";case"ss":if(number===1){result+=withoutSuffix?"sekundo":"sekundi"}else if(number===2){result+=withoutSuffix||isFuture?"sekundi":"sekundah"}else if(number<5){result+=withoutSuffix||isFuture?"sekunde":"sekundah"}else{result+="sekund"}return result;case"m":return withoutSuffix?"ena minuta":"eno minuto";case"mm":if(number===1){result+=withoutSuffix?"minuta":"minuto"}else if(number===2){result+=withoutSuffix||isFuture?"minuti":"minutama"}else if(number<5){result+=withoutSuffix||isFuture?"minute":"minutami"}else{result+=withoutSuffix||isFuture?"minut":"minutami"}return result;case"h":return withoutSuffix?"ena ura":"eno uro";case"hh":if(number===1){result+=withoutSuffix?"ura":"uro"}else if(number===2){result+=withoutSuffix||isFuture?"uri":"urama"}else if(number<5){result+=withoutSuffix||isFuture?"ure":"urami"}else{result+=withoutSuffix||isFuture?"ur":"urami"}return result;case"d":return withoutSuffix||isFuture?"en dan":"enim dnem";case"dd":if(number===1){result+=withoutSuffix||isFuture?"dan":"dnem"}else if(number===2){result+=withoutSuffix||isFuture?"dni":"dnevoma"}else{result+=withoutSuffix||isFuture?"dni":"dnevi"}return result;case"M":return withoutSuffix||isFuture?"en mesec":"enim mesecem";case"MM":if(number===1){result+=withoutSuffix||isFuture?"mesec":"mesecem"}else if(number===2){result+=withoutSuffix||isFuture?"meseca":"mesecema"}else if(number<5){result+=withoutSuffix||isFuture?"mesece":"meseci"}else{result+=withoutSuffix||isFuture?"mesecev":"meseci"}return result;case"y":return withoutSuffix||isFuture?"eno leto":"enim letom";case"yy":if(number===1){result+=withoutSuffix||isFuture?"leto":"letom"}else if(number===2){result+=withoutSuffix||isFuture?"leti":"letoma"}else if(number<5){result+=withoutSuffix||isFuture?"leta":"leti"}else{result+=withoutSuffix||isFuture?"let":"leti"}return result}}var sl;moment.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:processRelativeTime,ss:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var sq;moment.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:true,meridiemParse:/PD|MD/,isPM:function(input){return input.charAt(0)==="M"},meridiem:function(hours,minutes,isLower){return hours<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var translator={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(number,wordKey){return number===1?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator.words[key];if(key.length===1){return withoutSuffix?wordKey[0]:wordKey[1]}else{return number+" "+translator.correctGrammaticalCase(number,wordKey)}}},sr;moment.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var lastWeekDays=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return lastWeekDays[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:translator.translate,m:translator.translate,mm:translator.translate,h:translator.translate,hh:translator.translate,d:"dan",dd:translator.translate,M:"mesec",MM:translator.translate,y:"godinu",yy:translator.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var translator={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(number,wordKey){return number===1?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator.words[key];if(key.length===1){return withoutSuffix?wordKey[0]:wordKey[1]}else{return number+" "+translator.correctGrammaticalCase(number,wordKey)}}},srCyrl;moment.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var lastWeekDays=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return lastWeekDays[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:translator.translate,m:translator.translate,mm:translator.translate,h:translator.translate,hh:translator.translate,d:"",dd:translator.translate,M:"",MM:translator.translate,y:"",yy:translator.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ss;moment.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(hours,minutes,isLower){if(hours<11){return"ekuseni"}else if(hours<15){return"emini"}else if(hours<19){return"entsambama"}else{return"ebusuku"}},meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="ekuseni"){return hour}else if(meridiem==="emini"){return hour>=11?hour:hour+12}else if(meridiem==="entsambama"||meridiem==="ebusuku"){if(hour===0){return 0}return hour+12}},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var sv;moment.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"e":b===1?"a":b===2?"a":b===3?"e":"e";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var sw;moment.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var symbolMap={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},ta;moment.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number+""},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiemParse:/|||||/,meridiem:function(hour,minute,isLower){if(hour<2){return" "}else if(hour<6){return" "}else if(hour<10){return" "}else if(hour<14){return" "}else if(hour<18){return" "}else if(hour<22){return" "}else{return" "}},meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<2?hour:hour+12}else if(meridiem===""||meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else{return hour+12}},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var te;moment.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var tet;moment.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var suffixes={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},tg;moment.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=11?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<11){return""}else if(hour<16){return""}else if(hour<19){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(number){var a=number%10,b=number>=100?100:null;return number+(suffixes[number]||suffixes[a]||suffixes[b])},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var th;moment.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var tlPh;moment.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var numbersNouns="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_"),tlh;function translateFuture(output){var time=output;time=output.indexOf("jaj")!==-1?time.slice(0,-3)+"leS":output.indexOf("jar")!==-1?time.slice(0,-3)+"waQ":output.indexOf("DIS")!==-1?time.slice(0,-3)+"nem":time+" pIq";return time}function translatePast(output){var time=output;time=output.indexOf("jaj")!==-1?time.slice(0,-3)+"Hu":output.indexOf("jar")!==-1?time.slice(0,-3)+"wen":output.indexOf("DIS")!==-1?time.slice(0,-3)+"ben":time+" ret";return time}function translate(number,withoutSuffix,string,isFuture){var numberNoun=numberAsNoun(number);switch(string){case"ss":return numberNoun+" lup";case"mm":return numberNoun+" tup";case"hh":return numberNoun+" rep";case"dd":return numberNoun+" jaj";case"MM":return numberNoun+" jar";case"yy":return numberNoun+" DIS"}}function numberAsNoun(number){var hundred=Math.floor(number%1e3/100),ten=Math.floor(number%100/10),one=number%10,word="";if(hundred>0){word+=numbersNouns[hundred]+"vatlh"}if(ten>0){word+=(word!==""?" ":"")+numbersNouns[ten]+"maH"}if(one>0){word+=(word!==""?" ":"")+numbersNouns[one]}return word===""?"pagh":word}moment.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:true,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:translateFuture,past:translatePast,s:"puS lup",ss:translate,m:"wa tup",mm:translate,h:"wa rep",hh:translate,d:"wa jaj",dd:translate,M:"wa jar",MM:translate,y:"wa DIS",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var suffixes={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},tr;moment.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(number,period){switch(period){case"d":case"D":case"Do":case"DD":return number;default:if(number===0){return number+"'nc"}var a=number%10,b=number%100-a,c=number>=100?100:null;return number+(suffixes[a]||suffixes[b]||suffixes[c])}},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var tzl;function processRelativeTime(number,withoutSuffix,key,isFuture){var format={s:["viensas secunds","'iensas secunds"],ss:[number+" secunds",""+number+" secunds"],m:["'n mut","'iens mut"],mm:[number+" muts",""+number+" muts"],h:["'n ora","'iensa ora"],hh:[number+" oras",""+number+" oras"],d:["'n ziua","'iensa ziua"],dd:[number+" ziuas",""+number+" ziuas"],M:["'n mes","'iens mes"],MM:[number+" mesen",""+number+" mesen"],y:["'n ar","'iens ar"],yy:[number+" ars",""+number+" ars"]};return isFuture?format[key][0]:withoutSuffix?format[key][0]:format[key][1]}moment.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(input){return"d'o"===input.toLowerCase()},meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"d'o":"D'O"}else{return isLower?"d'a":"D'A"}},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:processRelativeTime,ss:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var tzm;moment.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var tzmLatn;moment.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var ugCn;moment.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===" "||meridiem===""||meridiem===" "){return hour}else if(meridiem===" "||meridiem===""){return hour+12}else{return hour>=11?hour:hour+12}},meridiem:function(hour,minute,isLower){var hm=hour*100+minute;if(hm<600){return" "}else if(hm<900){return""}else if(hm<1130){return" "}else if(hm<1230){return""}else if(hm<1800){return" "}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"-";case"w":case"W":return number+"-";default:return number}},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";function plural(word,num){var forms=word.split("_");return num%10===1&&num%100!==11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2]}function relativeTimeWithPlural(number,withoutSuffix,key){var format={ss:withoutSuffix?"__":"__",mm:withoutSuffix?"__":"__",hh:withoutSuffix?"__":"__",dd:"__",MM:"__",yy:"__"};if(key==="m"){return withoutSuffix?"":""}else if(key==="h"){return withoutSuffix?"":""}else{return number+" "+plural(format[key],+number)}}function weekdaysCaseReplace(m,format){var weekdays={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};if(m===true){return weekdays["nominative"].slice(1,7).concat(weekdays["nominative"].slice(0,1))}if(!m){return weekdays["nominative"]}var nounCase=/(\[[]\]) ?dddd/.test(format)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(format)?"genitive":"nominative";return weekdays[nounCase][m.day()]}function processHoursFunction(str){return function(){return str+""+(this.hours()===11?"":"")+"] LT"}}var uk;moment.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:weekdaysCaseReplace,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:processHoursFunction("[ "),nextDay:processHoursFunction("[ "),lastDay:processHoursFunction("[ "),nextWeek:processHoursFunction("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return processHoursFunction("[] dddd [").call(this);case 1:case 2:case 4:return processHoursFunction("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:relativeTimeWithPlural,m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"",hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":case"w":case"W":return number+"-";case"D":return number+"-";default:return number}},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var months=["","","","","","","","","","","",""],days=["","","","","","",""],ur;moment.defineLocale("ur",{months:months,monthsShort:months,weekdays:days,weekdaysShort:days,weekdaysMin:days,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}return""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var uz;moment.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var uzLatn;moment.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var vi;moment.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:true,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:true,meridiemParse:/sa|ch/i,isPM:function(input){return/^ch$/i.test(input)},meridiem:function(hours,minutes,isLower){if(hours<12){return isLower?"sa":"SA"}else{return isLower?"ch":"CH"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var xPseudo;moment.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:true,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var yo;moment.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var zhCn;moment.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""||meridiem===""||meridiem===""){return hour}else if(meridiem===""||meridiem===""){return hour+12}else{return hour>=11?hour:hour+12}},meridiem:function(hour,minute,isLower){var hm=hour*100+minute;if(hm<600){return""}else if(hm<900){return""}else if(hm<1130){return""}else if(hm<1230){return""}else if(hm<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var zhHk;moment.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""||meridiem===""||meridiem===""){return hour}else if(meridiem===""){return hour>=11?hour:hour+12}else if(meridiem===""||meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){var hm=hour*100+minute;if(hm<600){return""}else if(hm<900){return""}else if(hm<1130){return""}else if(hm<1230){return""}else if(hm<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){!function(moment){"use strict";var zhTw;moment.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""||meridiem===""||meridiem===""){return hour}else if(meridiem===""){return hour>=11?hour:hour+12}else if(meridiem===""||meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){var hm=hour*100+minute;if(hm<600){return""}else if(hm<900){return""}else if(hm<1130){return""}else if(hm<1230){return""}else if(hm<1800){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";var _place;_place=function(opts,argument_1){var newpos,pos,srcpos,fix=1<arguments.length&&void 0!==argument_1&&argument_1;if(pos={top:(srcpos=opts.target.getBoundingClientRect()).top,left:srcpos.left},"right"===opts.placement&&(pos.left=srcpos.left+srcpos.width),"left"===opts.placement&&(pos.left=pos.left-opts.element.offsetWidth),"bottom"===opts.placement&&(pos.top=srcpos.top+srcpos.height),"top"===opts.placement&&(pos.top=pos.top-opts.element.offsetHeight),opts.placement.match(/bottom|top/i)&&(pos.left=srcpos.left-opts.element.offsetWidth/2+opts.target.offsetWidth/2,pos.left<0&&(pos.left=srcpos.left),pos.right<0&&(pos.left=srcpos.left-opts.element.offsetWidth+opts.target.offsetWidth)),opts.placement.match(/left|right/i)&&(pos.top=srcpos.top-opts.element.offsetHeight/2+opts.target.offsetHeight/2,pos.top<0&&(pos.top=srcpos.top),pos.bottom<0&&(pos.top=srcpos.top-opts.element.offsetHeight+opts.target.offsetHeight)),opts.element.style.top=pos.top+window.pageYOffset+"px",opts.element.style.left=pos.left+window.pageXOffset+"px",(newpos=opts.element.getBoundingClientRect()).left<0||newpos.top<0||newpos.left+newpos.width>document.body.clientWidth||newpos.top+newpos.height>document.body.clientHeight){switch(opts.placement){case"right":opts.placement="left";break;case"left":opts.placement="right";break;case"top":opts.placement="bottom";break;case"bottom":opts.placement="top"}if(fix)return _place(opts,!1)}return{top:pos.top+window.pageYOffset,left:pos.left+window.pageXOffset,placement:opts.placement}},module.exports=_place},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("popover",'<div if="{show}" onclick="{popclicked}" name="pop" riot-style="display:block;opacity:{opacity};top:{top};left:{left}" class="popover fade {placement} {in:show}"> <div class="arrow"></div> <h3 id="popover-top" if="{opts.title}" class="popover-title">{opts.title}</h3> <div style="padding:9px" class="popover-content"><yield></yield></div> </div>',"","",function(opts){var placementlib,_this;placementlib=__webpack_require__(143),this.show=!1,this.timeOut=null,this.opacity=0,this.placement=this.opts.placement||"bottom",this.parentNode=this.root.parentNode,this.hide=(_this=this,function(){return document.removeEventListener("click",_this.hide,!1),_this.parentNode.appendChild(_this.root),_this.show=!1,opts.hiding&&opts.hiding(),_this.update()}),this.popclicked=function(e){return e.preventDefault(),e.stopPropagation()},this.on("unmount",function(_this){return function(){if(_this.show&&_this.hide(),_this.timeOut)return clearTimeout(_this.timeOut)}}(this)),this.clicked=function(_this){return function(e){return _this.show?_this.timeOut=setTimeout(function(){return _this.hide()}):(_this.show=!0,_this.update(),_this.parentNode=_this.root.parentNode,document.body.appendChild(_this.root),_this.timeOut=setTimeout(function(){var pos;return document.addEventListener("click",_this.hide,!1),pos=placementlib({placement:_this.placement,target:e.target,element:_this.pop}),_this.placement=pos.placement,_this.top=Math.round(pos.top)+"px",_this.left=Math.round(pos.left)+"px",_this.opacity=1,_this.update()}))}}(this)})},function(module,exports,__webpack_require__){(function(process){module.exports=function(){"use strict";var isarray=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"},pathToRegexp_1=pathToRegexp,parse_1=parse,compile_1=compile,tokensToFunction_1=tokensToFunction,tokensToRegExp_1=tokensToRegExp,PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(str){var tokens=[];var key=0;var index=0;var path="";var res;while((res=PATH_REGEXP.exec(str))!=null){var m=res[0];var escaped=res[1];var offset=res.index;path+=str.slice(index,offset);index=offset+m.length;if(escaped){path+=escaped[1];continue}if(path){tokens.push(path);path=""}var prefix=res[2];var name=res[3];var capture=res[4];var group=res[5];var suffix=res[6];var asterisk=res[7];var repeat=suffix==="+"||suffix==="*";var optional=suffix==="?"||suffix==="*";var delimiter=prefix||"/";var pattern=capture||group||(asterisk?".*":"[^"+delimiter+"]+?");tokens.push({name:name||key++,prefix:prefix||"",delimiter:delimiter,optional:optional,repeat:repeat,pattern:escapeGroup(pattern)})}if(index<str.length){path+=str.substr(index)}if(path){tokens.push(path)}return tokens}function compile(str){return tokensToFunction(parse(str))}function tokensToFunction(tokens){var matches=new Array(tokens.length);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]==="object"){matches[i]=new RegExp("^"+tokens[i].pattern+"$")}}return function(obj){var path="";var data=obj||{};for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){path+=token;continue}var value=data[token.name];var segment;if(value==null){if(token.optional){continue}else{throw new TypeError('Expected "'+token.name+'" to be defined')}}if(isarray(value)){if(!token.repeat){throw new TypeError('Expected "'+token.name+'" to not repeat, but received "'+value+'"')}if(value.length===0){if(token.optional){continue}else{throw new TypeError('Expected "'+token.name+'" to not be empty')}}for(var j=0;j<value.length;j++){segment=encodeURIComponent(value[j]);if(!matches[i].test(segment)){throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"')}path+=(j===0?token.prefix:token.delimiter)+segment}continue}segment=encodeURIComponent(value);if(!matches[i].test(segment)){throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"')}path+=token.prefix+segment}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){re.keys=keys;return re}function flags(options){return options.sensitive?"":"i"}function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups){for(var i=0;i<groups.length;i++){keys.push({name:i,prefix:null,delimiter:null,optional:false,repeat:false,pattern:null})}}return attachKeys(path,keys)}function arrayToRegexp(path,keys,options){var parts=[];for(var i=0;i<path.length;i++){parts.push(pathToRegexp(path[i],keys,options).source)}var regexp=new RegExp("(?:"+parts.join("|")+")",flags(options));return attachKeys(regexp,keys)}function stringToRegexp(path,keys,options){var tokens=parse(path);var re=tokensToRegExp(tokens,options);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]!=="string"){keys.push(tokens[i])}}return attachKeys(re,keys)}function tokensToRegExp(tokens,options){options=options||{};var strict=options.strict;var end=options.end!==false;var route="";var lastToken=tokens[tokens.length-1];var endsWithSlash=typeof lastToken==="string"&&/\/$/.test(lastToken);for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){route+=escapeString(token)}else{var prefix=escapeString(token.prefix);var capture=token.pattern;if(token.repeat){capture+="(?:"+prefix+capture+")*"}if(token.optional){if(prefix){capture="(?:"+prefix+"("+capture+"))?"}else{capture="("+capture+")?"}}else{capture=prefix+"("+capture+")"}route+=capture}}if(!strict){route=(endsWithSlash?route.slice(0,-2):route)+"(?:\\/(?=$))?"}if(end){route+="$"}else{route+=strict&&endsWithSlash?"":"(?=\\/|$)"}return new RegExp("^"+route,flags(options))}function pathToRegexp(path,keys,options){keys=keys||[];if(!isarray(keys)){options=keys;keys=[]}else if(!options){options={}}if(path instanceof RegExp){return regexpToRegexp(path,keys,options)}if(isarray(path)){return arrayToRegexp(path,keys,options)}return stringToRegexp(path,keys,options)}pathToRegexp_1.parse=parse_1,pathToRegexp_1.compile=compile_1,pathToRegexp_1.tokensToFunction=tokensToFunction_1,pathToRegexp_1.tokensToRegExp=tokensToRegExp_1;var hasDocument="undefined"!==typeof document,hasWindow="undefined"!==typeof window,hasHistory="undefined"!==typeof history,hasProcess=typeof process!=="undefined",clickEvent=hasDocument&&document.ontouchstart?"touchstart":"click",isLocation=hasWindow&&!!(window.history.location||window.location);function Page(){this.callbacks=[];this.exits=[];this.current="";this.len=0;this._decodeURLComponents=true;this._base="";this._strict=false;this._running=false;this._hashbang=false;this.clickHandler=this.clickHandler.bind(this);this._onpopstate=this._onpopstate.bind(this)}function createPage(){var pageInstance=new Page;function pageFn(){return page.apply(pageInstance,arguments)}pageFn.callbacks=pageInstance.callbacks;pageFn.exits=pageInstance.exits;pageFn.base=pageInstance.base.bind(pageInstance);pageFn.strict=pageInstance.strict.bind(pageInstance);pageFn.start=pageInstance.start.bind(pageInstance);pageFn.stop=pageInstance.stop.bind(pageInstance);pageFn.show=pageInstance.show.bind(pageInstance);pageFn.back=pageInstance.back.bind(pageInstance);pageFn.redirect=pageInstance.redirect.bind(pageInstance);pageFn.replace=pageInstance.replace.bind(pageInstance);pageFn.dispatch=pageInstance.dispatch.bind(pageInstance);pageFn.exit=pageInstance.exit.bind(pageInstance);pageFn.configure=pageInstance.configure.bind(pageInstance);pageFn.sameOrigin=pageInstance.sameOrigin.bind(pageInstance);pageFn.clickHandler=pageInstance.clickHandler.bind(pageInstance);pageFn.create=createPage;Object.defineProperty(pageFn,"len",{get:function(){return pageInstance.len},set:function(val){pageInstance.len=val}});Object.defineProperty(pageFn,"current",{get:function(){return pageInstance.current},set:function(val){pageInstance.current=val}});pageFn.Context=Context;pageFn.Route=Route;return pageFn}function page(path,fn){if("function"===typeof path){return page.call(this,"*",path)}if("function"===typeof fn){var route=new Route(path,null,this);for(var i=1;i<arguments.length;++i){this.callbacks.push(route.middleware(arguments[i]))}}else if("string"===typeof path){this["string"===typeof fn?"redirect":"show"](path,fn)}else{this.start(path)}}function unhandled(ctx){if(ctx.handled)return;var current;var page=this;var window=page._window;if(page._hashbang){current=isLocation&&this._getBase()+window.location.hash.replace("#!","")}else{current=isLocation&&window.location.pathname+window.location.search}if(current===ctx.canonicalPath)return;page.stop();ctx.handled=false;isLocation&&(window.location.href=ctx.canonicalPath)}function escapeRegExp(s){return s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Context(path,state,pageInstance){var _page=this.page=pageInstance||page;var window=_page._window;var hashbang=_page._hashbang;var pageBase=_page._getBase();if("/"===path[0]&&0!==path.indexOf(pageBase))path=pageBase+(hashbang?"#!":"")+path;var i=path.indexOf("?");this.canonicalPath=path;var re=new RegExp("^"+escapeRegExp(pageBase));this.path=path.replace(re,"")||"/";if(hashbang)this.path=this.path.replace("#!","")||"/";this.title=hasDocument&&window.document.title;this.state=state||{};this.state.path=path;this.querystring=~i?_page._decodeURLEncodedURIComponent(path.slice(i+1)):"";this.pathname=_page._decodeURLEncodedURIComponent(~i?path.slice(0,i):path);this.params={};this.hash="";if(!hashbang){if(!~this.path.indexOf("#"))return;var parts=this.path.split("#");this.path=this.pathname=parts[0];this.hash=_page._decodeURLEncodedURIComponent(parts[1])||"";this.querystring=this.querystring.split("#")[0]}}function Route(path,options,page){var _page=this.page=page||globalPage;var opts=options||{};opts.strict=opts.strict||page._strict;this.path=path==="*"?"(.*)":path;this.method="GET";this.regexp=pathToRegexp_1(this.path,this.keys=[],opts)}Page.prototype.configure=function(options){var opts=options||{};this._window=opts.window||hasWindow&&window;this._decodeURLComponents=opts.decodeURLComponents!==false;this._popstate=opts.popstate!==false&&hasWindow;this._click=opts.click!==false&&hasDocument;this._hashbang=!!opts.hashbang;var _window=this._window;if(this._popstate){_window.addEventListener("popstate",this._onpopstate,false)}else if(hasWindow){_window.removeEventListener("popstate",this._onpopstate,false)}if(this._click){_window.document.addEventListener(clickEvent,this.clickHandler,false)}else if(hasDocument){_window.document.removeEventListener(clickEvent,this.clickHandler,false)}if(this._hashbang&&hasWindow&&!hasHistory){_window.addEventListener("hashchange",this._onpopstate,false)}else if(hasWindow){_window.removeEventListener("hashchange",this._onpopstate,false)}},Page.prototype.base=function(path){if(0===arguments.length)return this._base;this._base=path},Page.prototype._getBase=function(){var base=this._base;if(!!base)return base;var loc=hasWindow&&this._window&&this._window.location;if(hasWindow&&this._hashbang&&loc&&loc.protocol==="file:"){base=loc.pathname}return base},Page.prototype.strict=function(enable){if(0===arguments.length)return this._strict;this._strict=enable},Page.prototype.start=function(options){var opts=options||{};this.configure(opts);if(false===opts.dispatch)return;this._running=true;var url;if(isLocation){var window=this._window;var loc=window.location;if(this._hashbang&&~loc.hash.indexOf("#!")){url=loc.hash.substr(2)+loc.search}else if(this._hashbang){url=loc.search+loc.hash}else{url=loc.pathname+loc.search+loc.hash}}this.replace(url,null,true,opts.dispatch)},Page.prototype.stop=function(){if(!this._running)return;this.current="";this.len=0;this._running=false;var window=this._window;this._click&&window.document.removeEventListener(clickEvent,this.clickHandler,false);hasWindow&&window.removeEventListener("popstate",this._onpopstate,false);hasWindow&&window.removeEventListener("hashchange",this._onpopstate,false)},Page.prototype.show=function(path,state,dispatch,push){var ctx=new Context(path,state,this),prev=this.prevContext;this.prevContext=ctx;this.current=ctx.path;if(false!==dispatch)this.dispatch(ctx,prev);if(false!==ctx.handled&&false!==push)ctx.pushState();return ctx},Page.prototype.back=function(path,state){var page=this;if(this.len>0){var window=this._window;hasHistory&&window.history.back();this.len--}else if(path){setTimeout(function(){page.show(path,state)})}else{setTimeout(function(){page.show(page._getBase(),state)})}},Page.prototype.redirect=function(from,to){var inst=this;if("string"===typeof from&&"string"===typeof to){page.call(this,from,function(e){setTimeout(function(){inst.replace(to)},0)})}if("string"===typeof from&&"undefined"===typeof to){setTimeout(function(){inst.replace(from)},0)}},Page.prototype.replace=function(path,state,init,dispatch){var ctx=new Context(path,state,this),prev=this.prevContext;this.prevContext=ctx;this.current=ctx.path;ctx.init=init;ctx.save();if(false!==dispatch)this.dispatch(ctx,prev);return ctx},Page.prototype.dispatch=function(ctx,prev){var i=0,j=0,page=this;function nextExit(){var fn=page.exits[j++];if(!fn)return nextEnter();fn(prev,nextExit)}function nextEnter(){var fn=page.callbacks[i++];if(ctx.path!==page.current){ctx.handled=false;return}if(!fn)return unhandled.call(page,ctx);fn(ctx,nextEnter)}if(prev){nextExit()}else{nextEnter()}},Page.prototype.exit=function(path,fn){if(typeof path==="function"){return this.exit("*",path)}var route=new Route(path,null,this);for(var i=1;i<arguments.length;++i){this.exits.push(route.middleware(arguments[i]))}},Page.prototype.clickHandler=function(e){if(1!==this._which(e))return;if(e.metaKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;var el=e.target;var eventPath=e.path||(e.composedPath?e.composedPath():null);if(eventPath){for(var i=0;i<eventPath.length;i++){if(!eventPath[i].nodeName)continue;if(eventPath[i].nodeName.toUpperCase()!=="A")continue;if(!eventPath[i].href)continue;el=eventPath[i];break}}while(el&&"A"!==el.nodeName.toUpperCase())el=el.parentNode;if(!el||"A"!==el.nodeName.toUpperCase())return;var svg=typeof el.href==="object"&&el.href.constructor.name==="SVGAnimatedString";if(el.hasAttribute("download")||el.getAttribute("rel")==="external")return;var link=el.getAttribute("href");if(!this._hashbang&&this._samePath(el)&&(el.hash||"#"===link))return;if(link&&link.indexOf("mailto:")>-1)return;if(svg?el.target.baseVal:el.target)return;if(!svg&&!this.sameOrigin(el.href))return;var path=svg?el.href.baseVal:el.pathname+el.search+(el.hash||"");path=path[0]!=="/"?"/"+path:path;if(hasProcess&&path.match(/^\/[a-zA-Z]:\//)){path=path.replace(/^\/[a-zA-Z]:\//,"/")}var orig=path;var pageBase=this._getBase();if(path.indexOf(pageBase)===0){path=path.substr(pageBase.length)}if(this._hashbang)path=path.replace("#!","");if(pageBase&&orig===path&&(!isLocation||this._window.location.protocol!=="file:")){return}e.preventDefault();this.show(orig)},Page.prototype._onpopstate=function(){var loaded=false;if(!hasWindow){return function(){}}if(hasDocument&&document.readyState==="complete"){loaded=true}else{window.addEventListener("load",function(){setTimeout(function(){loaded=true},0)})}return function onpopstate(e){if(!loaded)return;var page=this;if(e.state){var path=e.state.path;page.replace(path,e.state)}else if(isLocation){var loc=page._window.location;page.show(loc.pathname+loc.search+loc.hash,undefined,undefined,false)}}}(),Page.prototype._which=function(e){e=e||hasWindow&&this._window.event;return null==e.which?e.button:e.which},Page.prototype._toURL=function(href){var window=this._window;if(typeof URL==="function"&&isLocation){return new URL(href,window.location.toString())}else if(hasDocument){var anc=window.document.createElement("a");anc.href=href;return anc}},Page.prototype.sameOrigin=function(href){if(!href||!isLocation)return false;var url=this._toURL(href);var window=this._window;var loc=window.location;return loc.protocol===url.protocol&&loc.hostname===url.hostname&&(loc.port===url.port||loc.port===""&&url.port===80)},Page.prototype._samePath=function(url){if(!isLocation)return false;var window=this._window;var loc=window.location;return url.pathname===loc.pathname&&url.search===loc.search},Page.prototype._decodeURLEncodedURIComponent=function(val){if(typeof val!=="string"){return val}return this._decodeURLComponents?decodeURIComponent(val.replace(/\+/g," ")):val},Context.prototype.pushState=function(){var page=this.page;var window=page._window;var hashbang=page._hashbang;page.len++;if(hasHistory){window.history.pushState(this.state,this.title,hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)}},Context.prototype.save=function(){var page=this.page;if(hasHistory){page._window.history.replaceState(this.state,this.title,page._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)}},Route.prototype.middleware=function(fn){var self=this;return function(ctx,next){if(self.match(ctx.path,ctx.params))return fn(ctx,next);next()}},Route.prototype.match=function(path,params){var keys=this.keys,qsIndex=path.indexOf("?"),pathname=~qsIndex?path.slice(0,qsIndex):path,m=this.regexp.exec(decodeURIComponent(pathname));if(!m)return false;delete params[0];for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=this.page._decodeURLEncodedURIComponent(m[i]);if(val!==undefined||!hasOwnProperty.call(params,key.name)){params[key.name]=val}}return true};var globalPage=createPage(),page_js=globalPage,default_1=globalPage;return page_js.default=default_1,page_js}()}).call(this,__webpack_require__(267))},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var AnswerStore,AssignedworkStore,ClassStore,FeedbackStore,LogStore,LoginStore,MessageStore,QuestionStore,RiotControl,Routes,SessionStore,ToastStore,UserStore,VideoStore,checkScroll,extravid,groupby,groups,mode,natsort,navBar,page,redirect,remounted,request,resource,resourceUtils,riot,suspendCheck,user,utils,videolinks,i,s,o,r,a,m,indexOf=[].indexOf;__webpack_require__(147),riot=__webpack_require__(1),window.$=window.jQuery=__webpack_require__(149),RiotControl=__webpack_require__(150),groupby=__webpack_require__(11),request=__webpack_require__(2),__webpack_require__(155);try{Raven.config("https://60ce4fe01f3e495b9e235602423d42c1@sentry.duodesign.co.uk/3",{shouldSendCallback:function(data){return!data.message.match(/'jQ'/)&&100*Math.random()<=10}}).install()}catch(error){error}__webpack_require__(156),__webpack_require__(157),utils=__webpack_require__(158),natsort=__webpack_require__(4),resourceUtils=__webpack_require__(159),resource=__webpack_require__(160)(request,RiotControl,resourceUtils),0<=indexOf.call(Element.prototype,"remove")||(Element.prototype.remove=function(){if(this.parentNode)return this.parentNode.removeChild(this)}),__webpack_require__(161),__webpack_require__(162),__webpack_require__(163),__webpack_require__(164),__webpack_require__(165),__webpack_require__(166),__webpack_require__(167),__webpack_require__(168),__webpack_require__(169),__webpack_require__(170),__webpack_require__(171),__webpack_require__(172),__webpack_require__(173),__webpack_require__(174),__webpack_require__(13),__webpack_require__(13),__webpack_require__(175),__webpack_require__(176),__webpack_require__(177),__webpack_require__(178),__webpack_require__(179),__webpack_require__(180),__webpack_require__(181),__webpack_require__(182),__webpack_require__(183),__webpack_require__(184),__webpack_require__(185),__webpack_require__(186),__webpack_require__(187),__webpack_require__(188),__webpack_require__(189),__webpack_require__(190),__webpack_require__(191),__webpack_require__(192),__webpack_require__(193),__webpack_require__(194),__webpack_require__(195),__webpack_require__(196),__webpack_require__(197),__webpack_require__(198),__webpack_require__(199),__webpack_require__(200),__webpack_require__(201),__webpack_require__(202),__webpack_require__(203),__webpack_require__(204),__webpack_require__(205),__webpack_require__(206),__webpack_require__(207),__webpack_require__(208),__webpack_require__(209),__webpack_require__(210),__webpack_require__(212),__webpack_require__(213),__webpack_require__(214),__webpack_require__(215),__webpack_require__(216),__webpack_require__(217),__webpack_require__(218),__webpack_require__(219),__webpack_require__(220),__webpack_require__(221),__webpack_require__(222),__webpack_require__(223),__webpack_require__(224),__webpack_require__(226),__webpack_require__(227),__webpack_require__(228),__webpack_require__(229),__webpack_require__(230),__webpack_require__(232),__webpack_require__(233),__webpack_require__(234),__webpack_require__(235),__webpack_require__(236),__webpack_require__(239),__webpack_require__(240),__webpack_require__(241),__webpack_require__(242),__webpack_require__(243),__webpack_require__(244),__webpack_require__(245),__webpack_require__(246),__webpack_require__(247),__webpack_require__(248),__webpack_require__(249),__webpack_require__(250),__webpack_require__(251),__webpack_require__(252),__webpack_require__(253),__webpack_require__(254),__webpack_require__(255),__webpack_require__(256),__webpack_require__(258),__webpack_require__(144),__webpack_require__(263),__webpack_require__(265),__webpack_require__(266),__webpack_require__(268),__webpack_require__(269),__webpack_require__(270),__webpack_require__(271),__webpack_require__(272),__webpack_require__(273),__webpack_require__(10),__webpack_require__(274),__webpack_require__(275),__webpack_require__(276),page=__webpack_require__(145),VideoStore=__webpack_require__(277),SessionStore=__webpack_require__(278),UserStore=__webpack_require__(279),ClassStore=__webpack_require__(280),ToastStore=__webpack_require__(281),LoginStore=__webpack_require__(282),QuestionStore=__webpack_require__(283),AssignedworkStore=__webpack_require__(284),AnswerStore=__webpack_require__(285),LogStore=__webpack_require__(286),MessageStore=__webpack_require__(287),FeedbackStore=__webpack_require__(288),RiotControl.addStore(new VideoStore(riot,resource,groupby,utils,natsort)),RiotControl.addStore(new SessionStore(riot,resource)),RiotControl.addStore(new ClassStore(riot,resource,utils)),RiotControl.addStore(new UserStore(riot,resource,utils,RiotControl,request)),RiotControl.addStore(new QuestionStore(riot,resource)),RiotControl.addStore(new AssignedworkStore(riot,resource,utils,RiotControl,request,resourceUtils)),RiotControl.addStore(new LoginStore(riot,request,utils,RiotControl)),RiotControl.addStore(new ToastStore(riot)),RiotControl.addStore(new AnswerStore(riot,resource,RiotControl)),RiotControl.addStore(new LogStore(riot,resource,RiotControl)),RiotControl.addStore(new MessageStore(riot,resource,utils)),RiotControl.addStore(new FeedbackStore(riot,resource,utils,RiotControl)),mode="",Routes=remounted=groups=user=null,window.lastinteraction=new Date,RiotControl.trigger("message_count"),document.addEventListener("mousemove",function(){return window.lastinteraction=new Date}),document.addEventListener("scroll",function(){return window.lastinteraction=new Date}),setInterval(function(){if(new Date-window.lastinteraction<12e4)return RiotControl.trigger("message_count")},3e5),i=window,s=document,o="script",r="ga",i.GoogleAnalyticsObject=r,i.ga=i.ga||function(){(i.ga.q=i.ga.q||[]).push(arguments)},i.ga.l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",m.parentNode.insertBefore(a,m),ga("create","UA-84289525-1","auto"),redirect=function(ctx,next,page){var month,year;return year=(new Date).getFullYear(),month=(new Date).getMonth()+1,page.redirect("/usage/logins/"+year+"/"+month)},suspendCheck=function(ctx,next,page){var path,ref,ref1;return path=ctx.canonicalPath.replace(/[^\/]$/,"$&/"),ga("set","page",path),ga("send","pageview",{dimension1:window.centre_id||"unknown"}),!0===(null!=user&&null!=(ref=user.org)?ref.suspend:void 0)&&"/renew"!==ctx.path&&"/suspended"!==ctx.path?page("/suspended"):!0!==(null!=user&&null!=(ref1=user.org)?ref1.suspend:void 0)&&"/suspended"===ctx.path?page("/"):next()},riot.mount("app",{stores:RiotControl}),document.querySelector("change-password")&&riot.mount("change-password"),RiotControl.one("session_changed",function(res){var _ref;user=res.user,-1<(groups=user.groups.map(function(group){return group.name})).indexOf("Students")&&(mode="student",Routes=[{route:"*",use:suspendCheck},{route:"/",path:"/vle/",label:"My Work",tag:"student-workpanel"},{route:"/assignment/:assigned_id/:question_id?",tag:"student-panel"},{route:"/browse/:video_id?",path:"/vle/browse",label:"Videos",tag:"browsepanel"},{route:"/browse/:video_id/practice/:question_id?",tag:"questionpanel"},{route:"/stats/",tag:"student-stats-panel",path:"/vle/stats/",label:"My Progress"},{route:"/extras",tag:"extras",label:"Extras",path:"/vle/extras/student"},{route:"/extras/*",tag:"extras"},{route:"/account",tag:"accountpanel"},{route:"/suspended",tag:"suspended"},{route:"*",tag:"notfound"}]),-1<groups.indexOf("Teachers")&&(mode="teacher",Routes=[{route:"*",use:suspendCheck},{route:"/",path:"/vle/",label:"Classes",tag:"classpanel",routes:[{route:"/",tag:"classdashboard"},{route:"/classes/:class_id",tag:"classmarks-tabbed",routes:[{route:"/edit",tag:"classmodal"}]},{route:"/classes/:class_id/:user_id/independent",tag:"student-stats"},{route:"/classes/:class_id/:user_id/:assigned_id/:question_id?",tag:"userassignment"},{route:"/classes/:class_id/:user_id",tag:"usersmarks"}]},{route:"/assignedwork",path:"/vle/assignedwork",label:"Assignments",tag:"assignmentmanagerpanel",routes:[{route:"/assignments/:assigned_id/:mode?",tag:"assignedmodal"},{route:"/mywork/:assigned_id/:mode?",tag:"myworkmodal"}]},{route:"/assignedwork/assignment/:assigned_id/:question_id?",tag:"student-panel"},{route:"/assignedwork/exam/:assigned_id/:question_id?",tag:"student-panel"},{route:"/users",path:"/vle/users",label:"Users",tag:"userpanel",routes:[{route:"/:user_id?",tag:"usermodal"}]},{route:"/browse/:video_id?",path:"/vle/browse",label:"Videos",tag:"browsepanel"},{route:"/browse/:video_id/practice/:question_id?",tag:"questionpanel"},{route:"/usage/",path:"/vle/usage/",label:"Usage",tag:"teacherstatspanel",routes:[{route:"/",use:redirect},{route:"/logins/:year?/:month?/:class_id?/:yeargroup?",tag:"loginsperday2"},{route:"/videos/:year?/:month?/:class_id?/:qualification?",tag:"clipstats"},{route:"/questions/:year?/:month?/:class_id?/:qualification?",tag:"questionstats"}]},{route:"/feedback/",path:"/vle/feedback/",label:"Feedback",tag:"teachersfeedback"},{route:"/extras",tag:"extras",label:"Extras",path:"/vle/extras/teacher"},{route:"/extras/*",tag:"extras"},{path:"/help",label:"Help"},{route:"/account",tag:"accountpanel"},{route:"/renew",tag:"renewform"},{route:"/suspended",tag:"suspended"},{route:"*",tag:"notfound"}]),-1<groups.indexOf("School Admins")&&(mode="admin",Routes=[{route:"*",use:suspendCheck},{route:"/",path:"/vle/",label:"Classes",tag:"classpanel",routes:[{route:"/",tag:"classdashboard"},{route:"/classlist",tag:"classlist"},{route:"/allclasslist",tag:"classlist"},{route:"/allclasses/",tag:"classdashboard"},{route:"/classes/:class_id",tag:"classmarks-tabbed",routes:[{route:"/edit",tag:"classmodal"}]},{route:"/classes/:class_id/:user_id/independent",tag:"student-stats"},{route:"/classes/:class_id/:user_id/:assigned_id",tag:"userassignment"},{route:"/classes/:class_id/:user_id",tag:"usersmarks"},{route:"/allclasses/:class_id",tag:"classmarks-tabbed",routes:[{route:"/edit",tag:"classmodal"}]},{route:"/allclasses/:class_id/:user_id/independent",tag:"student-stats"},{route:"/classes/:class_id/:user_id/:assigned_id/:question_id?",tag:"userassignment"},{route:"/allclasses/:class_id/:user_id",tag:"usersmarks"},{route:"/allclasses/:class_id/:user_id/:assigned_id/:question_id?",tag:"userassignment"}]},{route:"/assignedwork",path:"/vle/assignedwork",label:"Assignments",tag:"assignmentmanagerpanel",routes:[{route:"/assignments/:assigned_id/:mode?",tag:"assignedmodal"},{route:"/mywork/:assigned_id/:mode?",tag:"myworkmodal"}]},{route:"/assignedwork/assignment/:assigned_id/:question_id?",tag:"student-panel"},{route:"/assignedwork/exam/:assigned_id/:question_id?",tag:"student-panel"},{route:"/users",path:"/vle/users",label:"Users",tag:"userpanel",routes:[{route:"/:user_id?",tag:"usermodal"}]},{route:"/browse/:video_id?",path:"/vle/browse",label:"Videos",tag:"browsepanel"},{route:"/browse/:video_id/practice/:question_id?",tag:"questionpanel"},{route:"/usage/",path:"/vle/usage/",label:"Usage",tag:"teacherstatspanel",routes:[{route:"/",use:redirect},{route:"/logins/:year?/:month?/:class_id?/:yeargroup?",tag:"loginsperday2"},{route:"/videos/:year?/:month?/:class_id?/:qualification?",tag:"clipstats"},{route:"/questions/:year?/:month?/:class_id?/:qualification?",tag:"questionstats"}]},{route:"/feedback/",path:"/vle/feedback/",label:"Feedback",tag:"teachersfeedback"},{route:"/extras",tag:"extras",label:"Extras",path:"/vle/extras/admin"},{route:"/extras/*",tag:"extras"},{path:"/help",label:"Help"},{route:"/account",tag:"accountpanel"},{route:"/renew",tag:"renewform"},{route:"/suspended",tag:"suspended"},{route:"*",tag:"notfound"}]),-1<groups.indexOf("guest")&&!Routes&&(mode="guest",Routes=[(_ref={route:"/",path:"/vle/"},_defineProperty(_ref,"path","/vle/"),_defineProperty(_ref,"label","Demo Videos"),_defineProperty(_ref,"tag","browsepanel"),_ref),{route:"/browse/:video_id?",tag:"browsepanel"},{route:"/browse/:video_id/practice/:question_id?",tag:"questionpanel"},{route:"*",tag:"notfound"}]);if(mode&&!remounted)return remounted=!0,riot.mount("app",{stores:RiotControl,routeroptions:{hashbang:!1,base:"/vle"},routes:Routes,mode:mode,page:page}),riot.update()}),navBar=document.querySelector(".navbar"),checkScroll=function(){var navHeight;return navHeight=(navBar=document.querySelector(".navbar")).getBoundingClientRect().height,window.scrollY<navHeight&&"/"===document.location.pathname?navBar.className=navBar.className.replace(/ ?unscrolled ?/,"")+" unscrolled":navBar.className=navBar.className.replace(/ ?unscrolled ?/,"")},navBar&&["scroll","load","resize"].forEach(function(type){return window.addEventListener(type,checkScroll)}),[].slice.call(document.querySelectorAll("[youtube]")).forEach(function(elem){var html,url;return url=elem.getAttribute("youtube"),html="",html+='<div class="img-responsive" style="'+elem.getAttribute("style")+'">',html+='  <div class="embed-responsive embed-responsive-4by3">',html+='    <iframe src="'+url+'"></iframe>',html+="  </div>",html+="</div>",elem.outerHTML=html}),videolinks=[].slice.call(document.querySelectorAll('a[href^="https://player.vimeo.com"]')),extravid=null,videolinks&&0<videolinks.length&&(setTimeout(function(){return extravid=riot.mount("extravideo")}),videolinks.forEach(function(elem){return elem.addEventListener("click",function(event){var title,vimeo_id;return event.preventDefault(),vimeo_id=event.target.href.match(/[0-9]+$/),title=event.target.textContent,extravid[0].open(vimeo_id,title)})})),window.location.pathname.match(/^\/vle\/?/)||riot.mount("*",{stores:RiotControl})},function(module,exports){"function"!=typeof Object.assign&&(Object.assign=function(target){"use strict";if(null==target)throw new TypeError("Cannot convert undefined or null to object");target=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(null!=source)for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target})},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,global,factory;
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
global="undefined"!=typeof window?window:this,factory=function(window,noGlobal){function fcamelCase(all,letter){return letter.toUpperCase()}var arr=[],document=window.document,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi;function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);return"function"!==type&&!jQuery.isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&0<length&&length-1 in obj)}jQuery.fn=jQuery.prototype={jquery:"2.2.4",constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(0<=j&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],target!==(copy=options[name])&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(clone=copyIsArray?(copyIsArray=!1,src&&jQuery.isArray(src)?src:[]):src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&0<=realStringObj-parseFloat(realStringObj)+1},isPlainObject:function(obj){var key;if("object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype||{},"isPrototypeOf"))return!1;for(key in obj);return void 0===key||hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;(code=jQuery.trim(code))&&(1===code.indexOf("use strict")?((script=document.createElement("script")).text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&!1!==callback.call(obj[i],i,obj[i]);i++);else for(i in obj)if(!1===callback.call(obj[i],i,obj[i]))break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)!callback(elems[i],i)!=callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)null!=(value=callback(elems[i],i,arg))&&ret.push(value);else for(i in elems)null!=(value=callback(elems[i],i,arg))&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn))return args=slice.call(arguments,2),(proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))}).guid=fn.guid=fn.guid||jQuery.guid++,proxy},now:Date.now,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(window){function funescape(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!=high||escapedWhitespace?escaped:high<0?String.fromCharCode(65536+high):String.fromCharCode(high>>10|55296,1023&high|56320)}function unloadHandler(){setDocument()}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig");try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(1!==nodeType)newContext=context,newSelector=selector;else if("object"!==context.nodeName.toLowerCase()){for((nid=context.getAttribute("id"))?nid=nid.replace(rescape,"\\$&"):context.setAttribute("id",nid=expando),i=(groups=tokenize(selector)).length,nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";i--;)groups[i]=nidselect+" "+toSelector(groups[i]);newSelector=groups.join(","),newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];return function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||1<<31)-(~a.sourceIndex||1<<31);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){return"input"===elem.nodeName.toLowerCase()&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&void 0!==context.getElementsByTagName&&context}for(i in support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return!!documentElement&&"HTML"!==documentElement.nodeName},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement&&(docElem=(document=doc).documentElement,documentIsHTML=!isXML(document),(parent=document.defaultView)&&parent.top!==parent&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(document.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(void 0!==context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=void 0!==elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return void 0!==context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"!==tag)return results;for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(void 0!==context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare||(1&(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0}),document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return 0<Sizzle(expr,document,null,[elem]).length},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},(Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||void 0!==elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&-1<result.indexOf(check):"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?-1<(" "+result.replace(rwhitespace," ")+" ").indexOf(check):"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!=forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(diff=(nodeIndex=(cache=(uniqueCache=(outerCache=(node=parent)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1])&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(diff=nodeIndex=(cache=(uniqueCache=(outerCache=(node=elem)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1]),!1===diff)for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((uniqueCache=(outerCache=node[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]=[dirruns,diff]),node!==elem)););return(diff-=last)===first||diff%first==0&&0<=diff/first}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):1<fn.length?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf(seed,matched[i])]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return 0<Sizzle(selector,elem).length}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return-1<(elem.textContent||elem.innerText||getText(elem)).indexOf(text)}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return(elemLang=elemLang.toLowerCase())===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return!1===elem.disabled},disabled:function(elem){return!0===elem.disabled},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;0<=--i;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}}).pseudos.nth=Expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if((oldCache=(uniqueCache=(outerCache=elem[expando]||(elem[expando]={}))[elem.uniqueID]||(outerCache[elem.uniqueID]={}))[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if((uniqueCache[dir]=newCache)[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return 1<matchers.length?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||function(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&-1<(temp=postFinder?indexOf(seed,elem):preMap[i])&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return-1<indexOf(checkContext,elem)},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(1<i&&elementMatcher(matchers),1<i&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){function superMatcher(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context===document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument===document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(0<matchedCount)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&0<setMatched.length&&1<matchedCount+setMatchers.length&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched}var bySet=0<setMatchers.length,byElement=0<elementMatchers.length;return bySet?markFunction(superMatcher):superMatcher}return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length)),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(i=(match=match||tokenize(selector)).length;i--;)(cached=matcherFromTokens(match[i]))[expando]?setMatchers.push(cached):elementMatchers.push(cached);(cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))).selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(2<(tokens=match[0]=match[0].slice(0)).length&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(!(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0]))return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),!(selector=seed.length&&toSelector(tokens)))return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return!0===elem[name]?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;function siblings(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}var dir=function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return-1<indexOf.call(qualifier,elem)!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;i<len;i++)jQuery.find(selector,self[i],ret);return(ret=this.pushStack(1<len?jQuery.unique(ret):ret)).selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"!=typeof selector)return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this));if(!(match="<"===selector[0]&&">"===selector[selector.length-1]&&3<=selector.length?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return(elem=document.getElementById(match[2]))&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}).prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?-1<pos.index(cur):1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(1<matched.length?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),1<this.length&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var readyList,rnotwhite=/\S+/g;function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}jQuery.Callbacks=function(options){options="string"==typeof options?function(options){var object={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}(options):jQuery.extend({},options);function fire(){for(locked=options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)!1===list[firingIndex].apply(memory[0],memory[1])&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")}var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){jQuery.isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==jQuery.type(arg)&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;-1<(index=jQuery.inArray(arg,list,index));)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?-1<jQuery.inArray(fn,list):0<list.length},empty:function(){return list=list&&[],this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=[context,(args=args||[]).slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){function updateFunc(i,contexts,values){return function(value){contexts[i]=this,values[i]=1<arguments.length?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}}var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred();if(1<length)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);i<length;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}}),jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(!0===wait?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0)!==wait&&0<--jQuery.readyWait||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready")))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed))),readyList.promise(obj)},jQuery.ready.promise();function acceptData(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType}var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key))for(i in chainable=!0,key)access(elems,fn,i,key[i],!0,emptyGet,raw);else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(fn=raw?(fn.call(elems,value),null):(bulk=fn,function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={register:function(owner,initial){var value=initial||{};return owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,writable:!0,configurable:!0}),owner[this.expando]},cache:function(owner){if(!acceptData(owner))return{};var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[data]=value;else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?void 0!==(stored=this.get(owner,key))?stored:this.get(owner,jQuery.camelCase(key)):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(void 0!==cache){if(void 0===key)this.register(owner);else{i=(name=jQuery.isArray(key)?key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?[key,camel]:(name=camel)in cache?[name]:name.match(rnotwhite)||[])).length;for(;i--;)delete cache[name[i]]}void 0!==key&&!jQuery.isEmptyObject(cache)||(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return void 0!==cache&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),"string"==typeof(data=elem.getAttribute(name))){try{data="true"===data||"false"!==data&&("null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data)}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0!==key)return"object"==typeof key?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data,camelKey;if(elem&&void 0===value)return void 0!==(data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase()))?data:(camelKey=jQuery.camelCase(key),void 0!==(data=dataUser.get(elem,camelKey))?data:void 0!==(data=dataAttr(elem,camelKey,void 0))?data:void 0);camelKey=jQuery.camelCase(key),this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value),-1<key.indexOf("-")&&void 0!==data&&dataUser.set(this,key,value)})},null,value,1<arguments.length,null,!0);if(this.length&&(data=dataUser.get(elem),1===elem.nodeType&&!dataPriv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&0===(name=attrs[i].name).indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name]));dataPriv.set(elem,"hasDataAttrs",!0)}return data},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type);"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){function resolve(){--count||defer.resolveWith(elements,[elements])}var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length;for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)(tmp=dataPriv.get(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});function isHidden(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)}var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"];function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit)for(unit=unit||initialInUnit[3],valueParts=valueParts||[],initialInUnit=+initial||1;initialInUnit/=scale=scale||".5",jQuery.style(elem,prop,initialInUnit+unit),scale!==(scale=currentValue()/initial)&&1!==scale&&--maxIterations;);return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}var rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(context,tag){var ret=void 0!==context.getElementsByTagName?context.getElementsByTagName(tag||"*"):void 0!==context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var div,input,rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if((elem=elems[i])||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&-1<jQuery.inArray(elem,selection))ignored&&ignored.push(elem);else if(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}div=document.createDocumentFragment().appendChild(document.createElement("div")),(input=document.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=void 0),types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),!1===fn)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(elemData)for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return void 0!==jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),t=(types=(types||"").match(rnotwhite)||[""]).length;t--;)type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,namespaces,eventHandle)||elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(t=(types=(types||"").match(rnotwhite)||[""]).length;t--;)if(type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},handlers=events[type=(selector?special.delegateType:special.bindType)||type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue,args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if((args[0]=event).delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!event.rnamespace.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,void 0!==(ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args))&&!1===(event.result=ret)&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&("click"!==event.type||isNaN(event.button)||event.button<1))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&(!0!==cur.disabled||"click"!==event.type)){for(matches=[],i=0;i<delegateCount;i++)void 0===matches[sel=(handleObj=handlers[i]).selector+" "]&&(matches[sel]=handleObj.needsContext?-1<jQuery(sel,this).index(cur):jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(doc=(eventDoc=event.target.ownerDocument||document).documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)event[prop=copy[i]]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&!1===src.returnValue?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===this||jQuery.contains(this,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"!=typeof types)return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=void 0),!1===fn&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)});for(type in types)this.off(type,selector,types[type]);return this}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(pdataOld=dataPriv.access(src),pdataCur=dataPriv.set(dest,pdataOld),events=pdataOld.events))for(type in delete pdataCur.handle,pdataCur.events={},events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||1<l&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(first=(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored)).firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(hasScripts=(scripts=jQuery.map(getAll(fragment,"script"),disableScript)).length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&jQuery.contains(node.ownerDocument,node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,src,dest,nodeName,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),i=0,l=(srcElements=getAll(elem)).length;i<l;i++)src=srcElements[i],dest=destElements[i],void 0,"input"===(nodeName=dest.nodeName.toLowerCase())&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return 0<(destElements=getAll(clone,"script")).length&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&&(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,elem).appendChild(elem)})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"};function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||("none"!==(display=actualDisplay(nodeName,doc))&&display||((doc=(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement))[0].contentDocument).write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function swap(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in ret=callback.apply(elem,args||[]),options)elem.style[name]=old[name];return ret}var rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)},documentElement=document.documentElement;function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return""!==(ret=(computed=computed||getStyles(elem))?computed.getPropertyValue(name)||computed[name]:void 0)&&void 0!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),computed&&!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(!conditionFn())return(this.get=hookFn).apply(this,arguments);delete this.get}}}!function(){var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",div.innerHTML="",documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal="2px"===divStyle.marginLeft,boxSizingReliableVal="4px"===divStyle.width,div.style.marginRight="50%",pixelMarginRightVal="4px"===divStyle.marginRight,documentElement.removeChild(container)}div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",container.appendChild(div),jQuery.extend(support,{pixelPosition:function(){return computeStyleTests(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computeStyleTests(),boxSizingReliableVal},pixelMarginRight:function(){return null==boxSizingReliableVal&&computeStyleTests(),pixelMarginRightVal},reliableMarginLeft:function(){return null==boxSizingReliableVal&&computeStyleTests(),reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",documentElement.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight),documentElement.removeChild(container),div.removeChild(marginDiv),ret}}))}();var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;function vendorPropName(name){if(name in emptyStyle)return name;for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in emptyStyle)return name}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;i<4;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(val<=0||null==val){if(((val=curCSS(elem,name,styles))<0||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(values[index]=dataPriv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;index<length;index++)(elem=elements[index]).style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;if(name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value)return hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name];"string"===(type=typeof value)&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value==value&&("number"===type&&(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value))}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),(hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName])&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),!0===extra||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles);return subtract&&(matches=rcssNum.exec(value))&&"px"!==(matches[3]||"px")&&(elem.style[name]=value,value=jQuery.css(elem,name)),setPositiveNumber(0,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed)return swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,1<arguments.length)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),((jQuery.Tween=Tween).prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}}).init.prototype=Tween.prototype,(Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""))&&"auto"!==result?result:0},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||null==tween.elem.style[jQuery.cssProps[tween.prop]]&&!jQuery.cssHooks[tween.prop]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}}).scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function createFxNow(){return window.setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)attrs["margin"+(which=cssExpand[i])]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(remaining/animation.duration||0),index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(!function(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(easing=specialEasing[name=jQuery.camelCase(index)],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),(hooks=jQuery.cssHooks[name])&&"expand"in hooks)for(index in value=hooks.expand(value),delete props[name],value)index in props||(props[index]=value[index],specialEasing[index]=easing);else specialEasing[name]=easing}(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return jQuery.isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)),result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){for(var prop,index=0,length=(props=jQuery.isFunction(props)?(callback=props,["*"]):props.match(rnotwhite)).length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[function(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");for(prop in opts.queue||(null==(hooks=jQuery._queueHooks(elem,"fx")).unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],"inline"===("none"===(display=jQuery.css(elem,"display"))?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display)&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]})),props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else for(prop in dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;for(prop in dataPriv.remove(elem,"fxshow"),orig)jQuery.style(elem,prop,orig[prop])}),orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,null!=opt.queue&&!0!==opt.queue||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){function doAnimation(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)}var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback);return doAnimation.finish=doAnimation,empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){function stopQueue(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)}return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&!1!==type&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return!1!==type&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)(timer=timers[i])()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId=timerId||window.setInterval(jQuery.fx.tick,jQuery.fx.interval)},jQuery.fx.stop=function(){window.clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,(input=document.createElement("input")).value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,1<arguments.length)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return void 0===elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:null==(ret=jQuery.find.attr(elem,name))?void 0:ret)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,1<arguments.length)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null},set:function(elem){var parent=elem.parentNode;parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&(" "+curValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");curValue!==(finalValue=jQuery.trim(cur))&&elem.setAttribute("class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&(" "+curValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)for(;-1<cur.indexOf(" "+clazz+" ");)cur=cur.replace(" "+clazz+" "," ");curValue!==(finalValue=jQuery.trim(cur))&&elem.setAttribute("class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"==type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if("string"==type)for(i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else void 0!==value&&"boolean"!=type||((className=getClass(this))&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||!1===value?"":dataPriv.get(this,"__className__")||""))})},hasClass:function(selector){var className,elem,i=0;for(className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&-1<(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className))return!0;return!1}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];return arguments.length?(isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(null==(val=isFunction?value.call(this,i,jQuery(this).val()):value)?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))})):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem)).replace(rspaces," ")}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;i<max;i++)if(((option=options[i]).selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)((option=options[i]).selected=-1<jQuery.inArray(jQuery.valHooks.option.get(option),values))&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value))return elem.checked=-1<jQuery.inArray(jQuery(elem).val(),value)}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(-1<type.indexOf(".")&&(type=(namespaces=type.split(".")).shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,(event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event)).isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||!1!==special.trigger.apply(elem,data))){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=1<i?bubbleType:special.bindType||type,(handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),!1===event.result&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&!1!==special._default.apply(eventPath.pop(),data)||!acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&((tmp=elem[ontype])&&(elem[ontype]=null),elem[jQuery.event.triggered=type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem)}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return 0<arguments.length?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),support.focusin="onfocusin"in window,support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){function handler(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))}jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=void 0}return xml&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep=deep||{})[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(state<2)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;for(i in(fireGlobals=jQuery.event&&s.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),!1===s.cache&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&!1!==s.contentType||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]),s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||2===state))return jqXHR.abort();for(i in strAbort="abort",{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),2===state)return jqXHR;s.async&&0<s.timeout&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(state<2))throw e;done(-1,e)}}else done(-1,"No Transport");function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=0<status?4:0,isSuccess=200<=status&&status<300||304===status,responses&&(response=function(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType=firstDataType||type}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}(s,jqXHR,responses)),response=function(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(!(conv=converters[prev+" "+current]||converters["* "+current]))for(conv2 in converters)if((tmp=conv2.split(" "))[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){!0===conv?conv=converters[conv2]:!0!==converters[conv2]&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(!0!==conv)if(conv&&s.throws)response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&((modified=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[cacheURL]=modified),(modified=jqXHR.getResponseHeader("etag"))&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,isSuccess=!(error=response.error))):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)},jQuery.expr.filters.visible=function(elem){return 0<elem.offsetWidth||0<elem.offsetHeight||0<elem.getClientRects().length};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}jQuery.param=function(a,traditional){function add(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)}var prefix,s=[];if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];for(i in options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=callback("error"),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){var script,callback;if(s.crossDomain)return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):!1!==s.jsonp&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return-1<off&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),0<self.length&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),curLeft=("absolute"===position||"fixed"===position)&&-1<(curCSSTop+curCSSLeft).indexOf("auto")?(curTop=(curPosition=curElem.position()).top,curPosition.left):(curTop=parseFloat(curCSSTop)||0,parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;return doc?(docElem=doc.documentElement,jQuery.contains(docElem,elem)?(box=elem.getBoundingClientRect(),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box):void 0},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(void 0===val)return win?win[prop]:elem[method];win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val},method,val,arguments.length)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},size:function(){return this.length}}),jQuery.fn.andSelf=jQuery.fn.addBack,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return jQuery}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__);var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery},"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)},function(module,exports,__webpack_require__){var RiotControl={_stores:[],addStore:function(store){this._stores.push(store)}};["on","one","off","trigger"].forEach(function(api){RiotControl[api]=function(){var args=[].slice.call(arguments);this._stores.forEach(function(el){el[api].apply(null,args)})}}),module.exports=RiotControl},function(module,exports,__webpack_require__){function Emitter(obj){if(obj)return function(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}(obj)}(module.exports=Emitter).prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var cb,callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks)for(var i=0,len=(callbacks=callbacks.slice(0)).length;i<len;++i)callbacks[i].apply(this,args);return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports){module.exports=function(arr,fn,initial){for(var idx=0,len=arr.length,curr=3==arguments.length?initial:arr[idx++];idx<len;)curr=fn.call(null,curr,arr[idx],++idx,arr);return curr}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12);exports.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},exports.parse=function(fn){return this._parser=fn,this},exports.timeout=function(ms){return this._timeout=ms,this},exports.then=function(fulfill,reject){return this.end(function(err,res){err?reject(err):fulfill(res)})},exports.use=function(fn){return fn(this),this},exports.get=function(field){return this._header[field.toLowerCase()]},exports.getHeader=exports.get,exports.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},exports.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},exports.field=function(name,val){return this._getFormData().append(name,val),this}},function(module,exports){module.exports=function(RequestConstructor,method,url){return"function"==typeof url?new RequestConstructor("GET",method).end(url):2==arguments.length?new RequestConstructor("GET",method):new RequestConstructor(method,url)}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";var r=function(r){this.rules=[],this.params=r};return r.prototype=function(){function r(r,t,e){for(var n={},s={},a=0;a<r.parts.length;a++){var i=r.parts[a],u=t[a];if(void 0!==u){if(":"==i.charAt(0)){n[i.substr(1)]=u;continue}if(i!==u)return!1}else{if(":"!=i.charAt(0))return!1;s[i.substr(1)]=!0}}for(var a=0;a<e.length;a++){var l=e[a].split("=",2),f=l[0];2!=l.length||n[f]||s[f]||(n[f]=l[1])}return n}return{add:function(r,t){this.rules.push({parts:r.replace(/^\//,"").split("/"),handler:t})},run:function(t){t.length&&(t=t.replace(/\/+/g,"/").replace(/^\/|\/($|\?)/,"").replace(/#.*$/,""));for(var e=t.split("?",2),n=e[0].split("/",50),s=e[1]?e[1].split("&",50):[],a=0;a<this.rules.length;a++){var i=this.rules[a],u=r(i,n,s);if(u){if(u.url=t,this.params)for(var l in u)this.params[l]=u[l];return i.handler&&i.handler.call(u),!0}}return!1}}}(),r})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){"use strict";var closeMenus,collapse,dropdowns,qsall,toggle,toggleMenu;qsall=function(elem,selector){return[].slice.call(elem.querySelectorAll(selector))},toggle=document.querySelectorAll(".navbar-toggle")[0],collapse=document.querySelectorAll(".navbar-collapse")[0],dropdowns=qsall(document,".dropdown"),toggleMenu=function(){return collapse.classList.toggle("collapse"),collapse.classList.toggle("in")},closeMenus=function(){return function(){for(var results=[],i=0,ref=dropdowns.length;0<=ref?i<=ref:ref<=i;0<=ref?i++:i--)results.push(i);return results}.apply(this).forEach(function(dropdown){return dropdown.getElementsByClassName("dropdown-toggle")[0].classList.remove("dropdown-open"),dropdown.classList.remove("open")})},dropdowns.forEach(function(dropdown){return dropdown.addEventListener("click",function(){var open;if(document.body.clientWidth<768&&(open=this.classList.contains("open"),closeMenus(),!open))return this.getElementsByClassName("dropdown-toggle")[0].classList.toggle("dropdown-open"),this.classList.toggle("open")})}),toggle&&toggle.addEventListener("click",toggleMenu,!1)},function(module,exports){!function(){function t(){}function e(t){var e=t.length-1;return function(){var n=g.call(arguments,0,e),i=g.call(arguments,e);return t.apply(this,n.concat([i]))}}function n(t){return e(function(e,n){"function"!=typeof e&&(e=b(e));return t.call(this,function(t){return e.apply(t,[t].concat(n))})})}function i(t){var e=g.call(arguments,1);return function(){return t.apply(this,e)}}function o(t,e,n){e?e[q]===n&&e.parent:t.ends[w],n?n[w]===e&&n.parent:t.ends[q]}function a(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (20142015)  v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function l(t){return a(),Et(t)}function c(e){function n(t){var e,n;return t&&t.nodeType?(n=(e=x(t).children(".mq-root-block").attr(Rt))&&O.byId[e].controller)?s[n.KIND_OF_MQ](n):null:null}function i(t,e){var n,i,r;for(n in e&&e.handlers&&(e.handlers={fns:e.handlers,APIClasses:s}),e)e.hasOwnProperty(n)&&(i=e[n],r=E[n],t[n]=r?r(i):i)}var s,r,o;if(!(I<=e&&e<=R))throw"Only interface versions between "+I+" and "+R+" supported. You specified: "+e;for(o in s={},n.L=w,n.R=q,n.saneKeyboardEvents=B,n.config=function(t){return i(S.p,t),this},n.registerEmbed=function(t,e){if(!/^[a-z][a-z0-9]*$/i.test(t))throw"Embed name must start with letter and be only letters and digits";L[t]=e},r=s.AbstractMathQuill=v(A,function(t){t.init=function(t){this.__controller=t,this.__options=t.options,this.id=t.id,this.data=t.data},t.__mathquillify=function(t){var e,n=this.__controller,i=n.root,s=n.container;n.createTextarea(),e=s.addClass(t).contents().detach(),i.jQ=x('<span class="mq-root-block"/>').attr(Rt,i.id).appendTo(s),this.latex(e.text()),this.revert=function(){return s.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(e)}},t.config=function(t){return i(this.__options,t),this},t.el=function(){return this.__controller.container[0]},t.text=function(){return this.__controller.exportText()},t.latex=function(t){return 0<arguments.length?(this.__controller.renderLatexMath(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},t.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},t.reflow=function(){return this.__controller.root.postOrder("reflow"),this}}),n.prototype=r.prototype,s.EditableField=v(r,function(e,n){e.__mathquillify=function(){return n.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},e.focus=function(){return this.__controller.textarea.focus(),this},e.blur=function(){return this.__controller.textarea.blur(),this},e.write=function(t){return this.__controller.writeLatex(t),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},e.empty=function(){var t=this.__controller.root,e=this.__controller.cursor;return t.eachChild("postOrder","dispose"),t.ends[w]=t.ends[q]=0,t.jQ.empty(),delete e.selection,e.insAtRightEnd(t),this},e.cmd=function(t){var e,n=this.__controller.notify(),i=n.cursor;return/^\\[a-z]+$/i.test(t)&&!i.isTooDeep()?(t=t.slice(1),(e=Q[t])&&(t=e(t),i.selection&&t.replaces(i.replaceSelection()),t.createLeftOf(i.show()),this.__controller.scrollHoriz())):i.parent.write(i,t),n.blurred&&i.hide().parent.blur(),this},e.select=function(){var t=this.__controller;for(t.notify("move").cursor.insAtRightEnd(t.root);t.cursor[w];)t.selectLeft();return this},e.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},e.moveToDirEnd=function(t){return this.__controller.notify("move").cursor.insAtDirEnd(t,this.__controller.root),this},e.moveToLeftEnd=function(){return this.moveToDirEnd(w)},e.moveToRightEnd=function(){return this.moveToDirEnd(q)},e.keystroke=function(e){var n;for(e=e.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<e.length;n+=1)this.__controller.keystroke(e[n],{preventDefault:t});return this},e.typedText=function(t){for(var e=0;e<t.length;e+=1)this.__controller.typedText(t.charAt(e));return this},e.dropEmbedded=function(t,e,n){var s=t-x(window).scrollLeft(),r=e-x(window).scrollTop(),o=document.elementFromPoint(s,r);this.__controller.seek(x(o),t,e),St().setOptions(n).createLeftOf(this.__controller.cursor)},e.clickAt=function(t,e,n){n=n||document.elementFromPoint(t,e);var i=this.__controller,s=i.root;return Lt.contains(s.jQ[0],n)||(n=s.jQ[0]),i.seek(x(n),t+pageXOffset,e+pageYOffset),i.blurred&&this.focus(),this},e.ignoreNextMousedown=function(t){return this.__controller.cursor.options.ignoreNextMousedown=t,this}}),(n.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"}).prototype=s.EditableField.prototype,_)!function(t,i){var r=s[t]=i(s);(n[t]=function(i,s){var o,a=n(i);return a instanceof r||!i||!i.nodeType?a:((o=D(r.RootBlock(),x(i),S())).KIND_OF_MQ=t,r(o).__mathquillify(s,e))}).prototype=r.prototype}(o,_[o]);return n}function u(t){var e,n="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" ");for(e=0;e<n.length;e+=1)!function(e){t[e]=function(t){this.controller.handle(e,t)}}(n[e]);t.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function h(t,e,n){return v(G,{ctrlSeq:t,htmlTemplate:"<"+e+" "+n+">&0</"+e+">"})}function f(t){var e=this.parent,n=t;do{if(n[q])return t.insLeftOf(e);n=n.parent.parent}while(n!==e);t.insRightOf(e)}function p(t,e){t.jQadd=function(){e.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},t.reflow=function(){var t=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));pt(this.delimjQs,zt(1+.2*(t-1),1.2),1.2*t)}}function d(t,e){e=e||t;var n=Dt[t],s=Dt[e];j[t]=i(Ct,w,t,n,e,s),j[n]=i(Ct,q,t,n,e,s)}var m,g,b,v,w,q,x,y,O,k,Q,j,T,C,D,_,S,E,A,L,I,R,z,M,B,F,N,$,P,U,W,V,H,G,K,Y,Z,X,J,tt,et,nt,it,st,rt,ot,at,lt,ct,ut,ht,ft,pt,dt,gt,vt,wt,qt,xt,yt,Ot,kt,Qt,jt,Tt,Ct,Dt,_t,St,Et,At,Lt=window.jQuery,It="mathquill-command-id",Rt="mathquill-block-id",zt=Math.min,Mt=Math.max;if(!Lt)throw"MathQuill requires jQuery 1.5.2+ to be loaded first";for(rt in g=[].slice,b=e(function(t,n){return e(function(e,i){if(t in e)return e[t].apply(e,n.concat(i))})}),v=function(t,e){function i(t){return"object"==typeof t}function s(t){return"function"==typeof t}function r(){}return function t(n,o){function a(){var t=new l;return s(t.init)&&t.init.apply(t,arguments),t}function l(){}var c,u,h;return void 0===o&&(o=n,n=Object),a.Bare=l,c=r.prototype=n.prototype,((u=l.prototype=a.prototype=a.p=new r).constructor=a).extend=function(e){return t(a,e)},(a.open=function(t){if(h={},s(t)?h=t.call(a,u,c,a,n):i(t)&&(h=t),i(h))for(var r in h)e.call(h,r)&&(u[r]=h[r]);return s(u.init)||(u.init=n),a})(o)}}(0,{}.hasOwnProperty),w=-1,q=1,x=v(Lt,function(t){t.insDirOf=function(t,e){return t===w?this.insertBefore(e.first()):this.insertAfter(e.last())},t.insAtDirEnd=function(t,e){return t===w?this.prependTo(e):this.appendTo(e)}}),y=v(function(t){t.parent=0,t[w]=0,t[q]=0,t.init=function(t,e,n){this.parent=t,this[w]=e,this[q]=n},this.copy=function(t){return y(t.parent,t[w],t[q])}}),O=v(function(t){t[w]=0,t[q]=0;var i=t.parent=0;this.byId={},t.init=function(){this.id=i+=1,(O.byId[this.id]=this).ends={},this.ends[w]=0,this.ends[q]=0},t.dispose=function(){delete O.byId[this.id]},t.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},t.jQ=x(),t.jQadd=function(t){return this.jQ=this.jQ.add(t)},t.jQize=function(t){function e(t){var n,i;for(t.getAttribute&&(n=t.getAttribute("mathquill-command-id"),i=t.getAttribute("mathquill-block-id"),n&&O.byId[n].jQadd(t),i&&O.byId[i].jQadd(t)),t=t.firstChild;t;t=t.nextSibling)e(t)}var n;for(t=x(t||this.html()),n=0;n<t.length;n+=1)e(t[n]);return t},t.createDir=function(t,e){var n=this;return n.jQize(),n.jQ.insDirOf(t,e.jQ),e[t]=n.adopt(e.parent,e[w],e[q]),n},t.createLeftOf=function(t){return this.createDir(w,t)},t.selectChildren=function(t,e){return C(t,e)},t.bubble=n(function(t){var e;for(e=this;e&&!1!==t(e);e=e.parent);return this}),t.postOrder=n(function(t){return function e(n){n.eachChild(e),t(n)}(this),this}),t.isEmpty=function(){return 0===this.ends[w]&&0===this.ends[q]},t.isStyleBlock=function(){return!1},t.children=function(){return k(this.ends[w],this.ends[q])},t.eachChild=function(){var t=this.children();return t.each.apply(t,arguments),this},t.foldChildren=function(t,e){return this.children().fold(t,e)},t.withDirAdopt=function(t,e,n,i){return k(this,this).withDirAdopt(t,e,n,i),this},t.adopt=function(t,e,n){return k(this,this).adopt(t,e,n),this},t.disown=function(){return k(this,this).disown(),this},t.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}}),k=v(function(t){t.init=function(t,e,n){if(n===m&&(n=w),this.ends={},t){t.parent,e.parent,this.ends[n]=t,this.ends[-n]=e;var i=this.fold([],function(t,e){return t.push.apply(t,e.jQ.get()),t});this.jQ=this.jQ.add(i)}},t.jQ=x(),t.withDirAdopt=function(t,e,n,i){return t===w?this.adopt(e,n,i):this.adopt(e,i,n)},t.adopt=function(t,e,n){var i,s,r;return o(t,e,n),(i=this).disowned=!1,(s=i.ends[w])?(r=i.ends[q],e||(t.ends[w]=s),n?n[w]=r:t.ends[q]=r,i.ends[q][q]=n,i.each(function(n){n[w]=e,n.parent=t,e&&(e[q]=n),e=n}),i):this},t.disown=function(){var t,e,n=this,i=n.ends[w];return!i||n.disowned||(n.disowned=!0,t=n.ends[q],o(e=i.parent,i[w],i),o(e,t,t[q]),i[w]?i[w][q]=t[q]:e.ends[w]=t[q],t[q]?t[q][w]=i[w]:e.ends[q]=i[w]),n},t.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},t.each=n(function(t){var e=this,n=e.ends[w];if(!n)return e;for(;n!==e.ends[q][q]&&!1!==t(n);n=n[q]);return e}),t.fold=function(t,e){return this.each(function(n){t=e.call(this,t,n)}),t}}),Q={},j={},T=v(y,function(t){t.init=function(t,e){this.parent=t,this.options=e;var n=this.jQ=this._jQ=x('<span class="mq-cursor">&#8203;</span>');this.blink=function(){n.toggleClass("mq-blink")},this.upDownCache={}},t.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[q]?this.selection&&this.selection.ends[w][w]===this[w]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[q].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},t.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=x(),this},t.withDirInsertAt=function(t,e,n,i){var s=this.parent;this.parent=e,this[t]=n,this[-t]=i,s!==e&&s.blur&&s.blur(this)},t.insDirOf=function(t,e){return this.jQ.insDirOf(t,e.jQ),this.withDirInsertAt(t,e.parent,e[t],e),this.parent.jQ.addClass("mq-hasCursor"),this},t.insLeftOf=function(t){return this.insDirOf(w,t)},t.insRightOf=function(t){return this.insDirOf(q,t)},t.insAtDirEnd=function(t,e){return this.jQ.insAtDirEnd(t,e.jQ),this.withDirInsertAt(t,e,0,e.ends[t]),e.focus(),this},t.insAtLeftEnd=function(t){return this.insAtDirEnd(w,t)},t.insAtRightEnd=function(t){return this.insAtDirEnd(q,t)},t.jumpUpDown=function(t,e){var n,i,s=this;s.upDownCache[t.id]=y.copy(s),(n=s.upDownCache[e.id])?n[q]?s.insLeftOf(n[q]):s.insAtRightEnd(n.parent):(i=s.offset().left,e.seek(i,s))},t.offset=function(){var e=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),e},t.unwrapGramp=function(){var t=this.parent.parent,e=t.parent,n=t[q],s=t[w];if(t.disown().eachChild(function(i){i.isEmpty()||(i.children().adopt(e,s,n).each(function(e){e.jQ.insertBefore(t.jQ.first())}),s=i.ends[q])}),!this[q])if(this[w])this[q]=this[w][q];else for(;!this[q];){if(this.parent=this.parent[q],!this.parent){this[q]=t[q],this.parent=e;break}this[q]=this.parent.ends[w]}this[q]?this.insLeftOf(this[q]):this.insAtRightEnd(e),t.jQ.remove(),t[w].siblingDeleted&&t[w].siblingDeleted(this.options,q),t[q].siblingDeleted&&t[q].siblingDeleted(this.options,w)},t.startSelection=function(){var t,e=this.anticursor=y.copy(this),n=e.ancestors={};for(t=e;t.parent;t=t.parent)n[t.parent.id]=t},t.endSelection=function(){delete this.anticursor},t.select=function(){var t,e,n,i,r,o,a,l=this.anticursor;if(this[w]===l[w]&&this.parent===l.parent)return!1;for(t=this;t.parent;t=t.parent)if(t.parent.id in l.ancestors){e=t.parent;break}if(n=l.ancestors[e.id],o=q,t[w]!==n)for(a=t;a;a=a[q])if(a[q]===n[q]){o=w,i=t,r=n;break}return o===q&&(i=n,r=t),i instanceof y&&(i=i[q]),r instanceof y&&(r=r[w]),this.hide().selection=e.selectChildren(i,r),this.insDirOf(o,this.selection.ends[o]),this.selectionChanged(),!0},t.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},t.deleteSelection=function(){this.selection&&(this[w]=this.selection.ends[w][w],this[q]=this.selection.ends[q][q],this.selection.remove(),this.selectionChanged(),delete this.selection)},t.replaceSelection=function(){var t=this.selection;return t&&(this[w]=t.ends[w][w],this[q]=t.ends[q][q],delete this.selection),t},t.depth=function(){for(var t=this,e=0;t=t.parent;)e+=t instanceof V?1:0;return e},t.isTooDeep=function(t){if(this.options.maxDepth!==m)return this.depth()+(t||0)>this.options.maxDepth}}),C=v(k,function(t,e){t.init=function(){e.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},t.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),e.adopt.apply(this,arguments)},t.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},t.join=function(t){return this.fold("",function(e,n){return e+n[t]()})}}),D=v(function(t){t.init=function(t,e,n){this.id=t.id,this.data={},this.root=t,this.container=e,this.options=n,(t.controller=this).cursor=t.cursor=T(t,n)},t.handle=function(t,e){var n,i=this.options.handlers;i&&i.fns[t]&&(n=i.APIClasses[this.KIND_OF_MQ](this),e===w||e===q?i.fns[t](e,n):i.fns[t](n))};var e=[];this.onNotify=function(t){e.push(t)},t.notify=function(){for(var t=0;t<e.length;t+=1)e[t].apply(this.cursor,arguments);return this}}),_={},S=v(),E={},A=v(),L={},l.prototype=A.p,l.VERSION="v0.10.1",l.interfaceVersion=function(t){if(1!==t)throw"Only interface version 1 supported. You specified: "+t;return(a=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (20142015)  v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),l},I=(l.getInterface=c).MIN=1,R=c.MAX=2,l.noConflict=function(){return window.MathQuill=z,l},z=window.MathQuill,window.MathQuill=l,M=v(function(t,e,n){function i(t,e){throw"Parse Error: "+e+" at "+(t=t?"'"+t+"'":"EOF")}var r,o,a;t.init=function(t){this._=t},t.parse=function(t){return this.skip(a)._(""+t,function(t,e){return e},i)},t.or=function(t){var e=this;return n(function(n,i,s){return e._(n,i,function(e){return t._(n,i,s)})})},t.then=function(t){var e=this;return n(function(i,r,o){return e._(i,function(e,i){return(t instanceof n?t:t(i))._(e,r,o)},o)})},t.many=function(){var t=this;return n(function(e,n,i){function s(t,n){return e=t,o.push(n),!0}function r(){return!1}for(var o=[];t._(e,s,r););return n(e,o)})},t.times=function(t,e){arguments.length<2&&(e=t);var i=this;return n(function(n,s,r){function o(t,e){return h.push(e),n=t,!0}function a(t,e){return c=e,n=t,!1}function l(t,e){return!1}var c,u,h=[],f=!0;for(u=0;u<t;u+=1)if(!(f=i._(n,o,a)))return r(n,c);for(;u<e&&f;u+=1)f=i._(n,o,l);return s(n,h)})},t.result=function(t){return this.then(o(t))},t.atMost=function(t){return this.times(0,t)},t.atLeast=function(t){var e=this;return e.times(t).then(function(t){return e.many().map(function(e){return t.concat(e)})})},t.map=function(t){return this.then(function(e){return o(t(e))})},t.skip=function(t){return this.then(function(e){return t.result(e)})},this.string=function(t){var e=t.length,i="expected '"+t+"'";return n(function(n,s,r){var o=n.slice(0,e);return o===t?s(n.slice(e),o):r(n,i)})},r=this.regex=function(t){t.toString().charAt(1);var e="expected "+t;return n(function(n,i,s){var r,o=t.exec(n);return o?(r=o[0],i(n.slice(r.length),r)):s(n,e)})},o=n.succeed=function(t){return n(function(e,n){return n(e,t)})},n.fail=function(t){return n(function(e,n,i){return i(e,t)})},n.letter=r(/^[a-z]/i),n.letters=r(/^[a-z]*/i),n.digit=r(/^[0-9]/),n.digits=r(/^[0-9]*/),n.whitespace=r(/^\s+/),n.optWhitespace=r(/^\s*/),n.any=n(function(t,e,n){return t?e(t.slice(1),t.charAt(0)):n(t,"expected any character")}),n.all=n(function(t,e,n){return e("",t)}),a=n.eof=n(function(t,e,n){return t?n(t,"expected EOF"):e(t,t)})}),B=function(){function e(t){var e,i=t.which||t.keyCode,s=n[i],r=[];return t.ctrlKey&&r.push("Ctrl"),t.originalEvent&&t.originalEvent.metaKey&&r.push("Meta"),t.altKey&&r.push("Alt"),t.shiftKey&&r.push("Shift"),e=s||String.fromCharCode(i),r.length||s?(r.push(e),r.join("-")):e}var n={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};return function(n,i){function s(t){y=t,clearTimeout(g),g=setTimeout(t)}function r(e){s(function(n){y=t,clearTimeout(g),e(n)})}function l(){i.keystroke(e(v),v)}function f(){if(!function(){var t=q[0];return"selectionStart"in t&&t.selectionStart!==t.selectionEnd}()){var t=q.val();1===t.length?(q.val(""),i.typedText(t)):t&&q[0].select&&q[0].select()}}function m(){var t=q.val();q.val(""),t&&i.paste(t)}var g,b,v=null,w=null,q=Lt(n),x=Lt(i.container||q),y=t;return x.bind("keydown keypress input keyup focusout paste",function(t){y(t)}),b=!1,x.bind({keydown:function(t){v=t,w=null,b&&r(function(t){t&&"focusout"===t.type||!q[0].select||q[0].select()}),l()},keypress:function(t){v&&w&&l(),w=t,s(f)},keyup:function(t){v&&!w&&s(f)},focusout:function(){v=w=null},cut:function(){r(function(){i.cut()})},copy:function(){r(function(){i.copy()})},paste:function(t){q.focus(),s(m)}}),{select:function(e){y(),y=t,clearTimeout(g),q.val(e),e&&q[0].select&&q[0].select(),b=!!e}}}}(),D.open(function(t,e){t.exportText=function(){return this.root.foldChildren("",function(t,e){return t+e.text()})}}),D.open(function(t){t.focusBlurEvents=function(){function t(){clearTimeout(n),r.selection&&r.selection.jQ.addClass("mq-blur"),e()}function e(){r.hide().parent.blur(),i.container.removeClass("mq-focused"),x(window).unbind("blur",t)}var n,i=this,s=i.root,r=i.cursor;i.textarea.focus(function(){i.blurred=!1,clearTimeout(n),i.container.addClass("mq-focused"),r.parent||r.insAtRightEnd(s),r.selection?(r.selection.jQ.removeClass("mq-blur"),i.selectionChanged()):r.show()}).blur(function(){i.blurred=!0,n=setTimeout(function(){s.postOrder("intentionalBlur"),r.clearSelection().endSelection(),e()}),x(window).bind("blur",t)}),i.blurred=!0,r.hide().parent.blur()}}),D.open(function(t){t.keystroke=function(t,e){this.cursor.parent.keystroke(t,e,this)}}),O.open(function(t){t.keystroke=function(t,e,n){var i=n.cursor;switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(w);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(q,t,e);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(w,t,e);case"End":n.notify("move").cursor.insAtRightEnd(i.parent);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root);break;case"Shift-End":for(;i[q];)n.selectRight();break;case"Ctrl-Shift-End":for(;i[q]||i.parent!==n.root;)n.selectRight();break;case"Home":n.notify("move").cursor.insAtLeftEnd(i.parent);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root);break;case"Shift-Home":for(;i[w];)n.selectLeft();break;case"Ctrl-Shift-Home":for(;i[w]||i.parent!==n.root;)n.selectLeft();break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Ctrl-Right":break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":if(i[w])for(;i[w];)n.selectLeft();else n.selectLeft();case"Shift-Down":if(i[q])for(;i[q];)n.selectRight();else n.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(q);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":for(n.notify("move").cursor.insAtRightEnd(n.root);i[w];)n.selectLeft();break;default:return}e.preventDefault(),n.scrollHoriz()},t.moveOutOf=t.moveTowards=t.deleteOutOf=t.deleteTowards=t.unselectInto=t.selectOutOf=t.selectTowards=function(){}}),D.open(function(t){function e(t,e){var n=t.notify("upDown").cursor,i=e+"Into",s=e+"OutOf";return n[q][i]?n.insAtLeftEnd(n[q][i]):n[w][i]?n.insAtRightEnd(n[w][i]):n.parent.bubble(function(t){var e=t[s];if(e&&("function"==typeof e&&(e=t[s](n)),e instanceof O&&n.jumpUpDown(t,e),!0!==e))return!1}),t}this.onNotify(function(t){"move"!==t&&"upDown"!==t||this.show().clearSelection()}),t.escapeDir=function(t,e,n){var i=this.cursor;if(i.parent!==this.root&&n.preventDefault(),i.parent!==this.root)return i.parent.moveOutOf(t,i),this.notify("move")},E.leftRightIntoCmdGoes=function(t){if(t&&"up"!==t&&"down"!==t)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+t+'"';return t},t.moveDir=function(t){var e=this.cursor,n=e.options.leftRightIntoCmdGoes;return e.selection?e.insDirOf(t,e.selection.ends[t]):e[t]?e[t].moveTowards(t,e,n):e.parent.moveOutOf(t,e,n),this.notify("move")},t.moveLeft=function(){return this.moveDir(w)},t.moveRight=function(){return this.moveDir(q)},t.moveUp=function(){return e(this,"up")},t.moveDown=function(){return e(this,"down")},this.onNotify(function(t){"upDown"!==t&&(this.upDownCache={})}),this.onNotify(function(t){"edit"===t&&this.show().deleteSelection()}),t.deleteDir=function(t){var e,n;return n=(e=this.cursor).selection,this.notify("edit"),n||(e[t]?e[t].deleteTowards(t,e):e.parent.deleteOutOf(t,e)),e[w].siblingDeleted&&e[w].siblingDeleted(e.options,q),e[q].siblingDeleted&&e[q].siblingDeleted(e.options,w),e.parent.bubble("reflow"),this},t.ctrlDeleteDir=function(t){var e=this.cursor;return!e[t]||e.selection?this.deleteDir(t):(this.notify("edit"),t===w?k(e.parent.ends[w],e[w]).remove():k(e[q],e.parent.ends[q]).remove(),e.insAtDirEnd(t,e.parent),e[w].siblingDeleted&&e[w].siblingDeleted(e.options,q),e[q].siblingDeleted&&e[q].siblingDeleted(e.options,w),e.parent.bubble("reflow"),this)},t.backspace=function(){return this.deleteDir(w)},t.deleteForward=function(){return this.deleteDir(q)},this.onNotify(function(t){"select"!==t&&this.endSelection()}),t.selectDir=function(t){var e,n=this.notify("select").cursor,i=n.selection;n.anticursor||n.startSelection(),(e=n[t])?i&&i.ends[t]===e&&n.anticursor[-t]!==e?e.unselectInto(t,n):e.selectTowards(t,n):n.parent.selectOutOf(t,n),n.clearSelection(),n.select()||n.show()},t.selectLeft=function(){return this.selectDir(w)},t.selectRight=function(){return this.selectDir(q)}}),F=function(){function e(t){var e,n=t[0]||V();for(e=1;e<t.length;e+=1)t[e].children().adopt(n,n.ends[q],0);return n}var n=M.string,i=M.regex,s=M.letter,r=M.any,o=M.optWhitespace,a=M.succeed,l=M.fail,c=s.map(function(t){return tt(t)}),u=i(/^[^${}\\_^]/).map(function(t){return U(t)}),f=i(/^[^\\a-eg-zA-Z]/).or(n("\\").then(i(/^[a-z]+/i).or(i(/^\s+/).result(" ")).or(r))).then(function(t){var e=Q[t];return e?e(t).parser():l("unknown command: \\"+t)}).or(c).or(u),p=n("{").then(function(){return m}).skip(n("}")),d=o.then(p.or(f.map(function(t){var e=V();return t.adopt(e,0,0),e}))),m=d.many().map(e).skip(o),g=n("[").then(d.then(function(t){return"]"!==t.join("latex")?a(t):l()}).many().map(e).skip(o)).skip(n("]")),b=m;return b.block=d,b.optBlock=g,b}(),D.open(function(t,e){t.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},E.maxDepth=function(t){return"number"==typeof t?t:m},t.writeLatex=function(t){var n=this.notify("edit").cursor,i=M.all,s=M.eof,r=F.skip(s).or(i.result(!1)).parse(t);return r&&!r.isEmpty()&&r.prepareInsertionAt(n)&&(r.children().adopt(n.parent,n[w],n[q]),r.jQize().insertBefore(n.jQ),n[w]=r.ends[q],r.finalizeInsert(n.options,n),r.ends[q][q].siblingCreated&&r.ends[q][q].siblingCreated(n.options,w),r.ends[w][w].siblingCreated&&r.ends[w][w].siblingCreated(n.options,q),n.parent.bubble("reflow")),this},t.renderLatexMath=function(t){var e,n=this.root,i=this.cursor,s=(i.options,n.jQ),r=M.all,o=M.eof,a=F.skip(o).or(r.result(!1)).parse(t);n.eachChild("postOrder","dispose"),n.ends[w]=n.ends[q]=0,a&&a.prepareInsertionAt(i)?(a.children().adopt(n,0,0),e=a.join("html"),s.html(e),n.jQize(s.children()),n.finalizeInsert(i.options)):s.empty(),delete i.selection,i.insAtRightEnd(n)},t.renderLatexText=function(t){var e,n,i,s,r,a,c,u,h=this.root,f=this.cursor;if(h.jQ.children().slice(1).remove(),h.eachChild("postOrder","dispose"),h.ends[w]=h.ends[q]=0,delete f.selection,f.show().insAtRightEnd(h),e=M.regex,n=M.string,i=M.eof,s=M.all,r=n("$").then(F).skip(n("$").or(i)).map(function(t){var e,n=Y(f);return n.createBlocks(),e=n.ends[w],t.children().adopt(e,0,0),n}),a=n("\\$").result("$").or(e(/^[^$]/)).map(U),c=r.or(a).many().skip(i).or(s.result(!1)).parse(t)){for(u=0;u<c.length;u+=1)c[u].adopt(h,h.ends[q],0);h.jQize().appendTo(h.jQ),h.finalizeInsert(f.options)}}}),D.open(function(e){S.p.ignoreNextMousedown=t,e.delegateMouseEvents=function(){var e=this.root.jQ;this.container.bind("mousedown.mathquill",function(n){function i(t){o=x(t.target)}function s(t){u.anticursor||u.startSelection(),c.seek(o,t.pageX,t.pageY).cursor.select(),o=m}var o,a=x(n.target).closest(".mq-root-block"),c=O.byId[a.attr(Rt)||e.attr(Rt)].controller,u=c.cursor,h=u.blink,f=c.textareaSpan,p=c.textarea;n.preventDefault(),n.target.unselectable=!0,u.options.ignoreNextMousedown(n)||(u.options.ignoreNextMousedown=t,c.blurred&&(c.editable||a.prepend(f),p.focus()),u.blink=t,c.seek(x(n.target),n.pageX,n.pageY).cursor.startSelection(),a.mousemove(i),x(n.target.ownerDocument).mousemove(s).mouseup(function r(t){u.blink=h,u.selection||(c.editable?u.show():f.detach()),a.unbind("mousemove",i),x(t.target.ownerDocument).unbind("mousemove",s).unbind("mouseup",r)}))})}}),D.open(function(t){t.seek=function(t,e,n){var i,r,o,a=this.notify("select").cursor;return t&&((i=t.attr(Rt)||t.attr(It))||(i=(r=t.parent()).attr(Rt)||r.attr(It))),o=i?O.byId[i]:this.root,a.clearSelection().show(),o.seek(e,a),this.scrollHoriz(),this}}),D.open(function(t){t.scrollHoriz=function(){var t,e,n,i,s,r=this.cursor,o=r.selection,a=this.root.jQ[0].getBoundingClientRect();if(o)if(i=(n=o.jQ[0].getBoundingClientRect()).left-(a.left+20),s=n.right-(a.right-20),o.ends[w]===r[q])if(i<0)e=i;else{if(!(0<s))return;e=n.left-s<a.left+20?i:s}else if(0<s)e=s;else{if(!(i<0))return;e=n.right-i>a.right-20?s:i}else if((t=r.jQ[0].getBoundingClientRect().left)>a.right-20)e=t-(a.right-20);else{if(!(t<a.left+20))return;e=t-(a.left+20)}this.root.jQ.stop().animate({scrollLeft:"+="+e},100)}}),D.open(function(t){S.p.substituteTextarea=function(){return x("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},t.createTextarea=function(){var t,e=this.textareaSpan=x('<span class="mq-textarea"></span>'),n=this.options.substituteTextarea();if(!n.nodeType)throw"substituteTextarea() must return a DOM element, got "+n;n=this.textarea=x(n).appendTo(e),(t=this).cursor.selectionChanged=function(){t.selectionChanged()}},t.selectionChanged=function(){var t=this;dt(t.container[0]),t.textareaSelectionTimeout===m&&(t.textareaSelectionTimeout=setTimeout(function(){t.setTextareaSelection()}))},t.setTextareaSelection=function(){this.textareaSelectionTimeout=m;var t="";this.cursor.selection&&(t=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(t="$"+t+"$")),this.selectFn(t)},t.staticMathTextareaEvents=function(){function t(){s.detach(),e.blurred=!0}var e=this,n=(e.root,e.cursor),i=e.textarea,s=e.textareaSpan;this.container.prepend(Lt('<span class="mq-selectable">').text("$"+e.exportLatex()+"$")),e.blurred=!0,i.bind("cut paste",!1).bind("copy",function(){e.setTextareaSelection()}).focus(function(){e.blurred=!1}).blur(function(){n.selection&&n.selection.clear(),setTimeout(t)}),e.selectFn=function(t){i.val(t),t&&i.select()}},S.p.substituteKeyboardEvents=B,t.editablesTextareaEvents=function(){var e=this.textarea,n=this.textareaSpan,i=this.options.substituteKeyboardEvents(e,this);this.selectFn=function(t){i.select(t)},this.container.prepend(n),this.focusBlurEvents()},t.typedText=function(t){if("\n"===t)return this.handle("enter");var e=this.notify().cursor;e.parent.write(e,t),this.scrollHoriz()},t.cut=function(){var t=this,e=t.cursor;e.selection&&setTimeout(function(){t.notify("edit"),e.parent.bubble("reflow")})},t.copy=function(){this.setTextareaSelection()},t.paste=function(t){this.options.statelessClipboard&&(t="$"===t.slice(0,1)&&"$"===t.slice(-1)?t.slice(1,-1):"\\text{"+t+"}"),this.writeLatex(t).cursor.show()}}),N=v(O,function(t,e){t.finalizeInsert=function(t,e){var n=this;n.postOrder("finalizeTree",t),n.postOrder("contactWeld",e),n.postOrder("blur"),n.postOrder("reflow"),n[q].siblingCreated&&n[q].siblingCreated(t,w),n[w].siblingCreated&&n[w].siblingCreated(t,q),n.bubble("reflow")},t.prepareInsertionAt=function(t){var e,n=t.options.maxDepth;if(n!==m){if((e=t.depth())>n)return!1;this.removeNodesDeeperThan(n-e)}return!0},t.removeNodesDeeperThan=function(t){for(var e,n=0,i=[[this,n]];i.length;)(e=i.shift())[0].children().each(function(s){var r=s instanceof V?1:0;(n=e[1]+r)<=t?i.push([s,n]):(r?s.children():s).remove()})}}),$=v(N,function(t,e){t.init=function(t,n,i){var s=this;e.init.call(s),s.ctrlSeq||(s.ctrlSeq=t),n&&(s.htmlTemplate=n),i&&(s.textTemplate=i)},t.replaces=function(t){t.disown(),this.replacedFragment=t},t.isEmpty=function(){return this.foldChildren(!0,function(t,e){return t&&e.isEmpty()})},t.parser=function(){var t=F.block,e=this;return t.times(e.numBlocks()).map(function(t){e.blocks=t;for(var n=0;n<t.length;n+=1)t[n].adopt(e,e.ends[q],0);return e})},t.createLeftOf=function(t){var n=this,i=n.replacedFragment;n.createBlocks(),e.createLeftOf.call(n,t),i&&(i.adopt(n.ends[w],0,0),i.jQ.appendTo(n.ends[w].jQ),n.placeCursor(t),n.prepareInsertionAt(t)),n.finalizeInsert(t.options),n.placeCursor(t)},t.createBlocks=function(){var t,n=this,i=n.numBlocks(),s=n.blocks=Array(i);for(t=0;t<i;t+=1)(s[t]=V()).adopt(n,n.ends[q],0)},t.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.ends[w],function(t,e){return t.isEmpty()?t:e}))},t.moveTowards=function(t,e,n){var i=n&&this[n+"Into"];e.insAtDirEnd(-t,i||this.ends[-t])},t.deleteTowards=function(t,e){this.isEmpty()?e[t]=this.remove()[t]:this.moveTowards(t,e,null)},t.selectTowards=function(t,e){e[-t]=this,e[t]=this[t]},t.selectChildren=function(){return C(this,this)},t.unselectInto=function(t,e){e.insAtDirEnd(-t,e.anticursor.ancestors[this.id])},t.seek=function(t,e){function n(t){var e={};return e[w]=t.jQ.offset().left,e[q]=e[w]+t.jQ.outerWidth(),e}var i,s=this,r=n(s);return t<r[w]?e.insLeftOf(s):t>r[q]?e.insRightOf(s):(i=r[w],void s.eachChild(function(o){var a=n(o);return t<a[w]?(t-i<a[w]-t?o[w]?e.insAtRightEnd(o[w]):e.insLeftOf(s):e.insAtLeftEnd(o),!1):t>a[q]?void(o[q]?i=a[q]:r[q]-t<t-a[q]?e.insRightOf(s):e.insAtRightEnd(o)):(o.seek(t,e),!1)}))},t.numBlocks=function(){var t=this.htmlTemplate.match(/&\d+/g);return t?t.length:0},t.html=function(){var t,e,n,i=this,r=i.blocks,o=" mathquill-command-id="+i.id,a=i.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);for(a.join(""),this.htmlTemplate,e=a[t=0];e;e=a[t+=1])if("/>"===e.slice(-2))a[t]=e.slice(0,-2)+o+"/>";else if("<"===e.charAt(0))for(e.charAt(1),a[t]=e.slice(0,-1)+o+">",n=1;"</"===(e=a[t+=1]).slice(0,2)?n-=1:"<"===e.charAt(0)&&"/>"!==e.slice(-2)&&(n+=1),0<n;);return a.join("").replace(/>&(\d+)/g,function(t,e){return" mathquill-block-id="+r[e].id+">"+r[e].join("html")})},t.latex=function(){return this.foldChildren(this.ctrlSeq,function(t,e){return t+"{"+(e.latex()||" ")+"}"})},t.textTemplate=[""],t.text=function(){var t=this,e=0;return t.foldChildren(t.textTemplate[e],function(n,i){e+=1;var s=i.text();return n&&"("===t.textTemplate[e]&&"("===s[0]&&")"===s.slice(-1)?n+s.slice(1,-1)+t.textTemplate[e]:n+s+(t.textTemplate[e]||"")})}}),P=v($,function(e,n){e.init=function(t,e,i){i=i||(t&&1<t.length?t.slice(1):t),n.init.call(this,t,e,[i])},e.parser=function(){return M.succeed(this)},e.numBlocks=function(){return 0},e.replaces=function(t){t.remove()},e.createBlocks=t,e.moveTowards=function(t,e){e.jQ.insDirOf(t,this.jQ),e[-t]=this,e[t]=this[t]},e.deleteTowards=function(t,e){e[t]=this.remove()[t]},e.seek=function(t,e){t-this.jQ.offset().left<this.jQ.outerWidth()/2?e.insLeftOf(this):e.insRightOf(this)},e.latex=function(){return this.ctrlSeq},e.text=function(){return this.textTemplate},e.placeCursor=t,e.isEmpty=function(){return!0}}),U=v(P,function(t,e){t.init=function(t,n){e.init.call(this,t,"<span>"+(n||t)+"</span>")}}),W=v(P,function(t,e){t.init=function(t,n,i){e.init.call(this,t,'<span class="mq-binary-operator">'+n+"</span>",i)}}),V=v(N,function(t,e){t.join=function(t){return this.foldChildren("",function(e,n){return e+n[t]()})},t.html=function(){return this.join("html")},t.latex=function(){return this.join("latex")},t.text=function(){return this.ends[w]===this.ends[q]&&0!==this.ends[w]?this.ends[w].text():this.join("text")},t.keystroke=function(t,n,i){return!i.options.spaceBehavesLikeTab||"Spacebar"!==t&&"Shift-Spacebar"!==t?e.keystroke.apply(this,arguments):(n.preventDefault(),void i.escapeDir("Shift-Spacebar"===t?w:q,t,n))},t.moveOutOf=function(t,e,n){n&&this.parent[n+"Into"]||!this[t]?e.insDirOf(t,this.parent):e.insAtDirEnd(-t,this[t])},t.selectOutOf=function(t,e){e.insDirOf(t,this.parent)},t.deleteOutOf=function(t,e){e.unwrapGramp()},t.seek=function(t,e){var n=this.ends[q];if(!n||n.jQ.offset().left+n.jQ.outerWidth()<t)return e.insAtRightEnd(this);if(t<this.ends[w].jQ.offset().left)return e.insAtLeftEnd(this);for(;t<n.jQ.offset().left;)n=n[w];return n.seek(t,e)},t.chToCmd=function(t,e){var n;return t.match(/^[a-eg-zA-Z]$/)?tt(t):/^\d$/.test(t)?X(t):e&&e.typingSlashWritesDivisionSymbol&&"/"===t?Q[""](t):e&&e.typingAsteriskWritesTimesSymbol&&"*"===t?Q[""](t):(n=j[t]||Q[t])?n(t):U(t)},t.write=function(t,e){var n=this.chToCmd(e,t.options);t.selection&&n.replaces(t.replaceSelection()),t.isTooDeep()||n.createLeftOf(t.show())},t.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},t.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}}),S.p.mouseEvents=!0,_.StaticMath=function(t){return v(t.AbstractMathQuill,function(e,n){this.RootBlock=V,e.__mathquillify=function(t,e){return this.config(t),n.__mathquillify.call(this,"mq-math-mode"),this.__options.mouseEvents&&(this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents()),this},e.init=function(){n.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],t.MathField)},e.latex=function(){var e=n.latex.apply(this,arguments);return 0<arguments.length&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],t.MathField),e}})},H=v(V,u),_.MathField=function(e){return v(e.EditableField,function(e,n){this.RootBlock=H,e.__mathquillify=function(e,i){return this.config(e),1<i&&(this.__controller.root.reflow=t),n.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}})},G=v(O,function(t,e){function n(t){var e,n;if(t.jQ[0].normalize(),e=t.jQ[0].firstChild)return e.nodeType,(n=K(e.data)).jQadd(e),t.children().disown(),n.adopt(t,0,0)}t.ctrlSeq="\\text",t.replaces=function(t){t instanceof k?this.replacedText=t.remove().jQ.text():"string"==typeof t&&(this.replacedText=t)},t.jQadd=function(t){e.jQadd.call(this,t),this.ends[w]&&this.ends[w].jQadd(this.jQ[0].firstChild)},t.createLeftOf=function(t){var n,i=this;if(e.createLeftOf.call(this,t),i[q].siblingCreated&&i[q].siblingCreated(t.options,w),i[w].siblingCreated&&i[w].siblingCreated(t.options,q),i.bubble("reflow"),t.insAtRightEnd(i),i.replacedText)for(n=0;n<i.replacedText.length;n+=1)i.write(t,i.replacedText.charAt(n))},t.parser=function(){var t=this,e=M.string,n=M.regex;return M.optWhitespace.then(e("{")).then(n(/^[^}]*/)).skip(e("}")).map(function(e){return 0===e.length?k():(K(e).adopt(t,0,0),t)})},t.textContents=function(){return this.foldChildren("",function(t,e){return t+e.text})},t.text=function(){return'"'+this.textContents()+'"'},t.latex=function(){var t=this.textContents();return 0===t.length?"":"\\text{"+t.replace(/\\/g,"\\backslash ").replace(/[{}]/g,"\\$&")+"}"},t.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},t.moveTowards=function(t,e){e.insAtDirEnd(-t,this)},t.moveOutOf=function(t,e){e.insDirOf(t,this)},t.unselectInto=t.moveTowards,t.selectTowards=$.prototype.selectTowards,t.deleteTowards=$.prototype.deleteTowards,t.selectOutOf=function(t,e){e.insDirOf(t,this)},t.deleteOutOf=function(t,e){this.isEmpty()&&e.insRightOf(this)},t.write=function(t,n){var i,s;t.show().deleteSelection(),"$"!==n?t[w]?t[w].appendText(n):K(n).createLeftOf(t):this.isEmpty()?(t.insRightOf(this),U("\\$","$").createLeftOf(t)):t[q]?t[w]?(i=G(),(s=this.ends[w]).disown().jQ.detach(),s.adopt(i,0,0),t.insLeftOf(this),e.createLeftOf.call(i,t)):t.insLeftOf(this):t.insRightOf(this)},t.seek=function(t,e){var i,s,r,o,a,l,c,u;for(e.hide(),i=n(this),s=this.jQ.width()/this.text.length,(r=Math.round((t-this.jQ.offset().left)/s))<=0?e.insAtLeftEnd(this):r>=i.text.length?e.insAtRightEnd(this):e.insLeftOf(i.splitRight(r)),l=a=(o=t-e.show().offset().left)&&o<0?w:q;e[a]&&0<o*l;)e[a].moveTowards(a,e),l=o,o=t-e.offset().left;a*o<-a*l&&e[-a].moveTowards(-a,e),e.anticursor?e.anticursor.parent===this&&(c=e[w]&&e[w].text.length,this.anticursorPosition===c?e.anticursor=y.copy(e):(this.anticursorPosition<c?(u=e[w].splitRight(this.anticursorPosition),e[w]=u):u=e[q].splitRight(this.anticursorPosition-c),e.anticursor=y(this,u[w],u))):this.anticursorPosition=e[w]&&e[w].text.length},t.blur=function(t){V.prototype.blur.call(this),t&&(""===this.textContents()?(this.remove(),t[w]===this?t[w]=this[w]:t[q]===this&&(t[q]=this[q])):n(this))},t.focus=V.prototype.focus}),K=v(O,function(t,e){function n(t,e){return e.charAt(t===w?0:-1+e.length)}t.init=function(t){e.init.call(this),this.text=t},t.jQadd=function(t){this.dom=t,this.jQ=x(t)},t.jQize=function(){return this.jQadd(document.createTextNode(this.text))},t.appendText=function(t){this.text+=t,this.dom.appendData(t)},t.prependText=function(t){this.text=t+this.text,this.dom.insertData(0,t)},t.insTextAtDirEnd=function(t,e){e===q?this.appendText(t):this.prependText(t)},t.splitRight=function(t){var e=K(this.text.slice(t)).adopt(this.parent,this,this[q]);return e.jQadd(this.dom.splitText(t)),this.text=this.text.slice(0,t),e},t.moveTowards=function(t,e){var i,s;return i=n(-t,this.text),(s=this[-t])?s.insTextAtDirEnd(i,t):K(i).createDir(-t,e),this.deleteTowards(t,e)},t.latex=function(){return this.text},t.deleteTowards=function(t,e){1<this.text.length?t===q?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),e[t]=this[t])},t.selectTowards=function(t,e){var i,s,o,a;return i=e.anticursor,s=n(-t,this.text),i[t]===this?(o=K(s).createDir(t,e),i[t]=o,e.insDirOf(t,o)):((a=this[-t])?a.insTextAtDirEnd(s,t):(o=K(s).createDir(-t,e)).jQ.insDirOf(-t,e.selection.jQ),1===this.text.length&&i[-t]===this&&(i[-t]=this[-t])),this.deleteTowards(t,e)}}),Q.text=Q.textnormal=Q.textrm=Q.textup=Q.textmd=G,Q.em=Q.italic=Q.italics=Q.emph=Q.textit=Q.textsl=h("\\textit","i",'class="mq-text-mode"'),Q.strong=Q.bold=Q.textbf=h("\\textbf","b",'class="mq-text-mode"'),Q.sf=Q.textsf=h("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),Q.tt=Q.texttt=h("\\texttt","span",'class="mq-monospace mq-text-mode"'),Q.textsc=h("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),Q.uppercase=h("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),Q.lowercase=h("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"'),Y=v($,function(t,e){t.init=function(t){e.init.call(this,"$"),this.cursor=t},t.htmlTemplate='<span class="mq-math-mode">&0</span>',t.createBlocks=function(){e.createBlocks.call(this),this.ends[w].cursor=this.cursor,this.ends[w].write=function(t,e){"$"!==e?V.prototype.write.call(this,t,e):this.isEmpty()?(t.insRightOf(this.parent),this.parent.deleteTowards(dir,t),U("\\$","$").createLeftOf(t.show())):t[q]?t[w]?V.prototype.write.call(this,t,e):t.insLeftOf(this.parent):t.insRightOf(this.parent)}},t.latex=function(){return"$"+this.ends[w].latex()+"$"}}),Z=v(H,function(t,e){t.keystroke=function(t){if("Spacebar"!==t&&"Shift-Spacebar"!==t)return e.keystroke.apply(this,arguments)},t.write=function(t,e){var n;(t.show().deleteSelection(),"$"===e)?Y(t).createLeftOf(t):("<"===e?n="&lt;":">"===e&&(n="&gt;"),U(e,n).createLeftOf(t))}}),_.TextField=function(t){return v(t.EditableField,function(t,e){this.RootBlock=Z,t.__mathquillify=function(){return e.__mathquillify.call(this,"mq-editable-field mq-text-mode")},t.latex=function(t){return 0<arguments.length?(this.__controller.renderLatexText(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}})},j["\\"]=v($,function(t,e){t.ctrlSeq="\\",t.replaces=function(t){this._replacedFragment=t.disown(),this.isEmpty=function(){return!1}},t.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',t.textTemplate=["\\"],t.createBlocks=function(){e.createBlocks.call(this),this.ends[w].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[w].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[w].write=function(t,e){t.show().deleteSelection(),e.match(/[a-z]/i)?U(e).createLeftOf(t):(this.parent.renderCommand(t),"\\"===e&&this.isEmpty()||t.parent.write(t,e))},this.ends[w].keystroke=function(t,n,i){return"Tab"===t||"Enter"===t||"Spacebar"===t?(this.parent.renderCommand(i.cursor),void n.preventDefault()):e.keystroke.apply(this,arguments)}},t.createLeftOf=function(t){if(e.createLeftOf.call(this,t),this._replacedFragment){var n=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",function(t){return x(t.target=n).trigger(t),!1}).insertBefore(this.jQ).add(this.jQ)}},t.latex=function(){return"\\"+this.ends[w].latex()+" "},t.renderCommand=function(t){var e,n;this.jQ=this.jQ.last(),this.remove(),this[q]?t.insLeftOf(this[q]):t.insAtRightEnd(this.parent),e=this.ends[w].latex(),(n=Q[e=e||" "])?(n=n(e),this._replacedFragment&&n.replaces(this._replacedFragment),n.createLeftOf(t)):((n=G()).replaces(e),n.createLeftOf(t),t.insRightOf(n),this._replacedFragment&&this._replacedFragment.remove())}}),Q.notin=Q.cong=Q.equiv=Q.oplus=Q.otimes=v(W,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),Q[""]=Q.ne=Q.neq=i(W,"\\ne ","&ne;"),Q[""]=Q.ast=Q.star=Q.loast=Q.lowast=i(W,"\\ast ","&lowast;"),Q.therefor=Q.therefore=i(W,"\\therefore ","&there4;"),Q.cuz=Q.because=i(W,"\\because ","&#8757;"),Q.prop=Q.propto=i(W,"\\propto ","&prop;"),Q[""]=Q.asymp=Q.approx=i(W,"\\approx ","&asymp;"),Q.isin=Q.in=i(W,"\\in ","&isin;"),Q.ni=Q.contains=i(W,"\\ni ","&ni;"),Q.notni=Q.niton=Q.notcontains=Q.doesnotcontain=i(W,"\\not\\ni ","&#8716;"),Q.sub=Q.subset=i(W,"\\subset ","&sub;"),Q.sup=Q.supset=Q.superset=i(W,"\\supset ","&sup;"),Q.nsub=Q.notsub=Q.nsubset=Q.notsubset=i(W,"\\not\\subset ","&#8836;"),Q.nsup=Q.notsup=Q.nsupset=Q.notsupset=Q.nsuperset=Q.notsuperset=i(W,"\\not\\supset ","&#8837;"),Q.sube=Q.subeq=Q.subsete=Q.subseteq=i(W,"\\subseteq ","&sube;"),Q.supe=Q.supeq=Q.supsete=Q.supseteq=Q.supersete=Q.superseteq=i(W,"\\supseteq ","&supe;"),Q.nsube=Q.nsubeq=Q.notsube=Q.notsubeq=Q.nsubsete=Q.nsubseteq=Q.notsubsete=Q.notsubseteq=i(W,"\\not\\subseteq ","&#8840;"),Q.nsupe=Q.nsupeq=Q.notsupe=Q.notsupeq=Q.nsupsete=Q.nsupseteq=Q.notsupsete=Q.notsupseteq=Q.nsupersete=Q.nsuperseteq=Q.notsupersete=Q.notsuperseteq=i(W,"\\not\\supseteq ","&#8841;"),Q.N=Q.naturals=Q.Naturals=i(U,"\\mathbb{N}","&#8469;"),Q.P=Q.primes=Q.Primes=Q.projective=Q.Projective=Q.probability=Q.Probability=i(U,"\\mathbb{P}","&#8473;"),Q.Z=Q.integers=Q.Integers=i(U,"\\mathbb{Z}","&#8484;"),Q.Q=Q.rationals=Q.Rationals=i(U,"\\mathbb{Q}","&#8474;"),Q.R=Q.reals=Q.Reals=i(U,"\\mathbb{R}","&#8477;"),Q.C=Q.complex=Q.Complex=Q.complexes=Q.Complexes=Q.complexplane=Q.Complexplane=Q.ComplexPlane=i(U,"\\mathbb{C}","&#8450;"),Q.H=Q.Hamiltonian=Q.quaternions=Q.Quaternions=i(U,"\\mathbb{H}","&#8461;"),Q.quad=Q.emsp=i(U,"\\quad ","    "),Q.qquad=i(U,"\\qquad ","        "),Q.diamond=i(U,"\\diamond ","&#9671;"),Q.bigtriangleup=i(U,"\\bigtriangleup ","&#9651;"),Q.ominus=i(U,"\\ominus ","&#8854;"),Q.uplus=i(U,"\\uplus ","&#8846;"),Q.bigtriangledown=i(U,"\\bigtriangledown ","&#9661;"),Q.sqcap=i(U,"\\sqcap ","&#8851;"),Q.triangleleft=i(U,"\\triangleleft ","&#8882;"),Q.sqcup=i(U,"\\sqcup ","&#8852;"),Q.triangleright=i(U,"\\triangleright ","&#8883;"),Q.odot=Q.circledot=i(U,"\\odot ","&#8857;"),Q.bigcirc=i(U,"\\bigcirc ","&#9711;"),Q.dagger=i(U,"\\dagger ","&#0134;"),Q.ddagger=i(U,"\\ddagger ","&#135;"),Q.wr=i(U,"\\wr ","&#8768;"),Q.amalg=i(U,"\\amalg ","&#8720;"),Q.models=i(U,"\\models ","&#8872;"),Q.prec=i(U,"\\prec ","&#8826;"),Q.succ=i(U,"\\succ ","&#8827;"),Q.preceq=i(U,"\\preceq ","&#8828;"),Q.succeq=i(U,"\\succeq ","&#8829;"),Q.simeq=i(U,"\\simeq ","&#8771;"),Q.mid=i(U,"\\mid ","&#8739;"),Q.ll=i(U,"\\ll ","&#8810;"),Q.gg=i(U,"\\gg ","&#8811;"),Q.parallel=i(U,"\\parallel ","&#8741;"),Q.nparallel=i(U,"\\nparallel ","&#8742;"),Q.bowtie=i(U,"\\bowtie ","&#8904;"),Q.sqsubset=i(U,"\\sqsubset ","&#8847;"),Q.sqsupset=i(U,"\\sqsupset ","&#8848;"),Q.smile=i(U,"\\smile ","&#8995;"),Q.sqsubseteq=i(U,"\\sqsubseteq ","&#8849;"),Q.sqsupseteq=i(U,"\\sqsupseteq ","&#8850;"),Q.doteq=i(U,"\\doteq ","&#8784;"),Q.frown=i(U,"\\frown ","&#8994;"),Q.vdash=i(U,"\\vdash ","&#8870;"),Q.dashv=i(U,"\\dashv ","&#8867;"),Q.nless=i(U,"\\nless ","&#8814;"),Q.ngtr=i(U,"\\ngtr ","&#8815;"),Q.longleftarrow=i(U,"\\longleftarrow ","&#8592;"),Q.longrightarrow=i(U,"\\longrightarrow ","&#8594;"),Q.Longleftarrow=i(U,"\\Longleftarrow ","&#8656;"),Q.Longrightarrow=i(U,"\\Longrightarrow ","&#8658;"),Q.longleftrightarrow=i(U,"\\longleftrightarrow ","&#8596;"),Q.updownarrow=i(U,"\\updownarrow ","&#8597;"),Q.Longleftrightarrow=i(U,"\\Longleftrightarrow ","&#8660;"),Q.Updownarrow=i(U,"\\Updownarrow ","&#8661;"),Q.mapsto=i(U,"\\mapsto ","&#8614;"),Q.nearrow=i(U,"\\nearrow ","&#8599;"),Q.hookleftarrow=i(U,"\\hookleftarrow ","&#8617;"),Q.hookrightarrow=i(U,"\\hookrightarrow ","&#8618;"),Q.searrow=i(U,"\\searrow ","&#8600;"),Q.leftharpoonup=i(U,"\\leftharpoonup ","&#8636;"),Q.rightharpoonup=i(U,"\\rightharpoonup ","&#8640;"),Q.swarrow=i(U,"\\swarrow ","&#8601;"),Q.leftharpoondown=i(U,"\\leftharpoondown ","&#8637;"),Q.rightharpoondown=i(U,"\\rightharpoondown ","&#8641;"),Q.nwarrow=i(U,"\\nwarrow ","&#8598;"),Q.ldots=i(U,"\\ldots ","&#8230;"),Q.cdots=i(U,"\\cdots ","&#8943;"),Q.vdots=i(U,"\\vdots ","&#8942;"),Q.ddots=i(U,"\\ddots ","&#8945;"),Q.surd=i(U,"\\surd ","&#8730;"),Q.triangle=i(U,"\\triangle ","&#9651;"),Q.ell=i(U,"\\ell ","&#8467;"),Q.top=i(U,"\\top ","&#8868;"),Q.flat=i(U,"\\flat ","&#9837;"),Q.natural=i(U,"\\natural ","&#9838;"),Q.sharp=i(U,"\\sharp ","&#9839;"),Q.wp=i(U,"\\wp ","&#8472;"),Q.bot=i(U,"\\bot ","&#8869;"),Q.clubsuit=i(U,"\\clubsuit ","&#9827;"),Q.diamondsuit=i(U,"\\diamondsuit ","&#9826;"),Q.heartsuit=i(U,"\\heartsuit ","&#9825;"),Q.spadesuit=i(U,"\\spadesuit ","&#9824;"),Q.parallelogram=i(U,"\\parallelogram ","&#9649;"),Q.square=i(U,"\\square ","&#11036;"),Q.oint=i(U,"\\oint ","&#8750;"),Q.bigcap=i(U,"\\bigcap ","&#8745;"),Q.bigcup=i(U,"\\bigcup ","&#8746;"),Q.bigsqcup=i(U,"\\bigsqcup ","&#8852;"),Q.bigvee=i(U,"\\bigvee ","&#8744;"),Q.bigwedge=i(U,"\\bigwedge ","&#8743;"),Q.bigodot=i(U,"\\bigodot ","&#8857;"),Q.bigotimes=i(U,"\\bigotimes ","&#8855;"),Q.bigoplus=i(U,"\\bigoplus ","&#8853;"),Q.biguplus=i(U,"\\biguplus ","&#8846;"),Q.lfloor=i(U,"\\lfloor ","&#8970;"),Q.rfloor=i(U,"\\rfloor ","&#8971;"),Q.lceil=i(U,"\\lceil ","&#8968;"),Q.rceil=i(U,"\\rceil ","&#8969;"),Q.opencurlybrace=Q.lbrace=i(U,"\\lbrace ","{"),Q.closecurlybrace=Q.rbrace=i(U,"\\rbrace ","}"),Q.lbrack=i(U,"["),Q.rbrack=i(U,"]"),Q.slash=i(U,"/"),Q.vert=i(U,"|"),Q.perp=Q.perpendicular=i(U,"\\perp ","&perp;"),Q.nabla=Q.del=i(U,"\\nabla ","&nabla;"),Q.hbar=i(U,"\\hbar ","&#8463;"),Q.AA=Q.Angstrom=Q.angstrom=i(U,"\\text\\AA ","&#8491;"),Q.ring=Q.circ=Q.circle=i(U,"\\circ ","&#8728;"),Q.bull=Q.bullet=i(U,"\\bullet ","&bull;"),Q.setminus=Q.smallsetminus=i(U,"\\setminus ","&#8726;"),Q.not=Q[""]=Q.neg=i(U,"\\neg ","&not;"),Q[""]=Q.dots=Q.ellip=Q.hellip=Q.ellipsis=Q.hellipsis=i(U,"\\dots ","&hellip;"),Q.converges=Q.darr=Q.dnarr=Q.dnarrow=Q.downarrow=i(U,"\\downarrow ","&darr;"),Q.dArr=Q.dnArr=Q.dnArrow=Q.Downarrow=i(U,"\\Downarrow ","&dArr;"),Q.diverges=Q.uarr=Q.uparrow=i(U,"\\uparrow ","&uarr;"),Q.uArr=Q.Uparrow=i(U,"\\Uparrow ","&uArr;"),Q.to=i(W,"\\to ","&rarr;"),Q.rarr=Q.rightarrow=i(U,"\\rightarrow ","&rarr;"),Q.implies=i(W,"\\Rightarrow ","&rArr;"),Q.rArr=Q.Rightarrow=i(U,"\\Rightarrow ","&rArr;"),Q.gets=i(W,"\\gets ","&larr;"),Q.larr=Q.leftarrow=i(U,"\\leftarrow ","&larr;"),Q.impliedby=i(W,"\\Leftarrow ","&lArr;"),Q.lArr=Q.Leftarrow=i(U,"\\Leftarrow ","&lArr;"),Q.harr=Q.lrarr=Q.leftrightarrow=i(U,"\\leftrightarrow ","&harr;"),Q.iff=i(W,"\\Leftrightarrow ","&hArr;"),Q.hArr=Q.lrArr=Q.Leftrightarrow=i(U,"\\Leftrightarrow ","&hArr;"),Q.Re=Q.Real=Q.real=i(U,"\\Re ","&real;"),Q.Im=Q.imag=Q.image=Q.imagin=Q.imaginary=Q.Imaginary=i(U,"\\Im ","&image;"),Q.part=Q.partial=i(U,"\\partial ","&part;"),Q.infty=Q.infin=Q.infinity=i(U,"\\infty ","&infin;"),Q.pounds=i(U,"\\pounds ","&pound;"),Q.alef=Q.alefsym=Q.aleph=Q.alephsym=i(U,"\\aleph ","&alefsym;"),Q.xist=Q.xists=Q.exist=Q.exists=i(U,"\\exists ","&exist;"),Q.nexists=Q.nexist=i(U,"\\nexists ","&#8708;"),Q.and=Q.land=Q.wedge=i(W,"\\wedge ","&and;"),Q.or=Q.lor=Q.vee=i(W,"\\vee ","&or;"),Q.o=Q.O=Q.empty=Q.emptyset=Q.oslash=Q.Oslash=Q.nothing=Q.varnothing=i(W,"\\varnothing ","&empty;"),Q.cup=Q.union=i(W,"\\cup ","&cup;"),Q.cap=Q.intersect=Q.intersection=i(W,"\\cap ","&cap;"),Q.deg=Q.degree=i(U,"\\degree ","&deg;"),Q.ang=Q.angle=i(U,"\\angle ","&ang;"),Q.measuredangle=i(U,"\\measuredangle ","&#8737;"),X=v(U,function(t,e){t.createLeftOf=function(t){t.options.autoSubscriptNumerals&&t.parent!==t.parent.parent.sub&&(t[w]instanceof J&&!1!==t[w].isItalic||t[w]instanceof xt&&t[w][w]instanceof J&&!1!==t[w][w].isItalic)?(Q._().createLeftOf(t),e.createLeftOf.call(this,t),t.insRightOf(t.parent.parent)):e.createLeftOf.call(this,t)}}),J=v(P,function(t,e){t.init=function(t,n){e.init.call(this,t,"<var>"+(n||t)+"</var>")},t.text=function(){var t=this.ctrlSeq;return this.isPartOfOperator?"\\"==t[0]?t=t.slice(1,t.length):" "==t[t.length-1]&&(t=t.slice(0,-1)):(!this[w]||this[w]instanceof J||this[w]instanceof W||"\\ "===this[w].ctrlSeq||(t="*"+t),!this[q]||this[q]instanceof W||this[q]instanceof xt||(t+="*")),t}}),S.p.autoCommands={_maxLength:0},E.autoCommands=function(t){var e,n,i,s,r;if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(e=t.split(" "),n={},s=i=0;s<e.length;s+=1){if((r=e[s]).length<2)throw'autocommand "'+r+'" not minimum length of 2';if(Q[r]===st)throw'"'+r+'" is a built-in operator name';n[r]=1,i=Mt(i,r.length)}return n._maxLength=i,n},tt=v(J,function(t,e){function n(t){return!t||t instanceof W||t instanceof yt}t.init=function(t){return e.init.call(this,this.letter=t)},t.createLeftOf=function(t){var n,i,s,r,o;if(e.createLeftOf.apply(this,arguments),0<(i=(n=t.options.autoCommands)._maxLength)){for(s="",r=this,o=0;r instanceof tt&&r.ctrlSeq===r.letter&&o<i;)s=r.letter+s,r=r[w],o+=1;for(;s.length;){if(n.hasOwnProperty(s)){for(o=1,r=this;o<s.length;o+=1,r=r[w]);return k(r,this).remove(),t[w]=r[w],Q[s](s).createLeftOf(t)}s=s.slice(1)}}},t.italicize=function(t){return this.isItalic=t,this.isPartOfOperator=!t,this.jQ.toggleClass("mq-operator-name",!t),this},t.finalizeTree=t.siblingDeleted=t.siblingCreated=function(t,e){e!==w&&this[q]instanceof tt||this.autoUnItalicize(t)},t.autoUnItalicize=function(t){var e,i,s,r,o,a,l,c,u,h,f,p,d=t.autoOperatorNames;if(0!==d._maxLength){for(e=this.letter,i=this[w];i instanceof tt;i=i[w])e=i.letter+e;for(s=this[q];s instanceof tt;s=s[q])e+=s.letter;k(i[q]||this.parent.ends[w],s[w]||this.parent.ends[q]).each(function(t){t.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"),t.ctrlSeq=t.letter});t:for(r=0,o=i[q]||this.parent.ends[w];r<e.length;r+=1,o=o[q])for(a=zt(d._maxLength,e.length-r);0<a;a-=1)if(l=e.slice(r,r+a),d.hasOwnProperty(l)){for(c=0,u=o;c<a;c+=1,u=u[q])u.italicize(!1),h=u;f=et.hasOwnProperty(l),o.ctrlSeq=(f?"\\":"\\operatorname{")+o.ctrlSeq,h.ctrlSeq+=f?" ":"}",it.hasOwnProperty(l)&&h[w][w][w].jQ.addClass("mq-last"),n(o[w])||o.jQ.addClass("mq-first"),n(h[q])||(h[q]instanceof xt?((p=h[q]).siblingCreated=p.siblingDeleted=function(){p.jQ.toggleClass("mq-after-operator-name",!(p[q]instanceof Ct))})():h.jQ.toggleClass("mq-last",!(h[q]instanceof Ct))),r+=a-1,o=h;continue t}}}}),et={},nt=S.p.autoOperatorNames={_maxLength:9},it={limsup:1,liminf:1,projlim:1,injlim:1},function(){var t,e,n,i,s="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" ");for(t=0;t<s.length;t+=1)et[s[t]]=nt[s[t]]=1;for(e="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "),t=0;t<e.length;t+=1)et[e[t]]=1;for(n="sin cos tan sec cosec csc cotan cot ctg".split(" "),t=0;t<n.length;t+=1)nt[n[t]]=nt["arc"+n[t]]=nt[n[t]+"h"]=nt["ar"+n[t]+"h"]=nt["arc"+n[t]+"h"]=1;for(i="gcf hcf lcm proj span".split(" "),t=0;t<i.length;t+=1)nt[i[t]]=1}(),E.autoOperatorNames=function(t){var e,n,i,s,r;if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(e=t.split(" "),n={},s=i=0;s<e.length;s+=1){if((r=e[s]).length<2)throw'"'+r+'" not minimum length of 2';n[r]=1,i=Mt(i,r.length)}return n._maxLength=i,n},st=v(P,function(t,e){t.init=function(t){this.ctrlSeq=t},t.createLeftOf=function(t){var e,n=this.ctrlSeq;for(e=0;e<n.length;e+=1)tt(n.charAt(e)).createLeftOf(t)},t.parser=function(){var t,e=this.ctrlSeq,n=V();for(t=0;t<e.length;t+=1)tt(e.charAt(t)).adopt(n,n.ends[q],0);return M.succeed(n.children())}}),nt)nt.hasOwnProperty(rt)&&(Q[rt]=st);for(wt in Q.operatorname=v($,function(e){e.createLeftOf=t,e.numBlocks=function(){return 1},e.parser=function(){return F.block.map(function(t){return t.children()})}}),Q.f=v(tt,function(t,e){t.init=function(){P.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},t.italicize=function(t){return this.jQ.html("f").toggleClass("mq-f",t),e.italicize.apply(this,arguments)}}),Q[" "]=Q.space=i(U,"\\ ","&nbsp;"),Q["'"]=Q.prime=i(U,"'","&prime;"),Q[""]=Q.dprime=i(U,"","&Prime;"),Q.backslash=i(U,"\\backslash ","\\"),j["\\"]||(j["\\"]=Q.backslash),Q.$=i(U,"\\$","$"),ot=v(P,function(t,e){t.init=function(t,n){e.init.call(this,t,'<span class="mq-nonSymbola">'+(n||t)+"</span>")}}),Q["@"]=ot,Q["&"]=i(ot,"\\&","&amp;"),Q["%"]=i(ot,"\\%","%"),Q.alpha=Q.beta=Q.gamma=Q.delta=Q.zeta=Q.eta=Q.theta=Q.iota=Q.kappa=Q.mu=Q.nu=Q.xi=Q.rho=Q.sigma=Q.tau=Q.chi=Q.psi=Q.omega=v(J,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),Q.phi=i(J,"\\phi ","&#981;"),Q.phiv=Q.varphi=i(J,"\\varphi ","&phi;"),Q.epsilon=i(J,"\\epsilon ","&#1013;"),Q.epsiv=Q.varepsilon=i(J,"\\varepsilon ","&epsilon;"),Q.piv=Q.varpi=i(J,"\\varpi ","&piv;"),Q.sigmaf=Q.sigmav=Q.varsigma=i(J,"\\varsigma ","&sigmaf;"),Q.thetav=Q.vartheta=Q.thetasym=i(J,"\\vartheta ","&thetasym;"),Q.upsilon=Q.upsi=i(J,"\\upsilon ","&upsilon;"),Q.gammad=Q.Gammad=Q.digamma=i(J,"\\digamma ","&#989;"),Q.kappav=Q.varkappa=i(J,"\\varkappa ","&#1008;"),Q.rhov=Q.varrho=i(J,"\\varrho ","&#1009;"),Q.pi=Q[""]=i(ot,"\\pi ","&pi;"),Q.lambda=i(ot,"\\lambda ","&lambda;"),Q.Upsilon=Q.Upsi=Q.upsih=Q.Upsih=i(P,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),Q.Gamma=Q.Delta=Q.Theta=Q.Lambda=Q.Xi=Q.Pi=Q.Sigma=Q.Phi=Q.Psi=Q.Omega=Q.forall=v(U,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),at=v($,function(t){t.init=function(t){this.latex=t},t.createLeftOf=function(t){var e=F.parse(this.latex);e.children().adopt(t.parent,t[w],t[q]),t[w]=e.ends[q],e.jQize().insertBefore(t.jQ),e.finalizeInsert(t.options,t),e.ends[q][q].siblingCreated&&e.ends[q][q].siblingCreated(t.options,w),e.ends[w][w].siblingCreated&&e.ends[w][w].siblingCreated(t.options,q),t.parent.bubble("reflow")},t.parser=function(){var t=F.parse(this.latex).children();return M.succeed(t)}}),Q[""]=i(at,"^1"),Q[""]=i(at,"^2"),Q[""]=i(at,"^3"),Q[""]=i(at,"\\frac14"),Q[""]=i(at,"\\frac12"),Q[""]=i(at,"\\frac34"),lt=v(W,function(t){t.init=U.prototype.init,t.contactWeld=t.siblingCreated=t.siblingDeleted=function(t,e){if(e!==q)return this.jQ[0].className=function n(t){return t[w]?t[w]instanceof W||/^[,;:\(\[]$/.test(t[w].ctrlSeq)?"":"mq-binary-operator":t.parent&&t.parent.parent&&t.parent.parent.isStyleBlock()?n(t.parent.parent):""}(this),this}}),Q["+"]=i(lt,"+","+"),Q[""]=Q["-"]=i(lt,"-","&minus;"),Q[""]=Q.pm=Q.plusmn=Q.plusminus=i(lt,"\\pm ","&plusmn;"),Q.mp=Q.mnplus=Q.minusplus=i(lt,"\\mp ","&#8723;"),j["*"]=Q.sdot=Q.cdot=i(W,"\\cdot ","&middot;","*"),ct=v(W,function(t,e){t.init=function(t,n){this.data=t;var i=(this.strict=n)?"Strict":"";e.init.call(this,t["ctrlSeq"+i],t["html"+i],t["text"+i])},t.swap=function(t){var e=(this.strict=t)?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+e],this.jQ.html(this.data["html"+e]),this.textTemplate=[this.data["text"+e]]},t.deleteTowards=function(t,n){if(t===w&&!this.strict)return this.swap(!0),void this.bubble("reflow");e.deleteTowards.apply(this,arguments)}}),ut={ctrlSeq:"\\le ",html:"&le;",text:"",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},ht={ctrlSeq:"\\ge ",html:"&ge;",text:"",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"},Q["<"]=Q.lt=i(ct,ut,!0),Q[">"]=Q.gt=i(ct,ht,!0),Q[""]=Q.le=Q.leq=i(ct,ut,!1),Q[""]=Q.ge=Q.geq=i(ct,ht,!1),ft=v(W,function(t,e){t.init=function(){e.init.call(this,"=","=")},t.createLeftOf=function(t){if(t[w]instanceof ct&&t[w].strict)return t[w].swap(!1),void t[w].bubble("reflow");e.createLeftOf.apply(this,arguments)}}),Q["="]=ft,Q[""]=Q.times=i(W,"\\times ","&times;","[x]"),Q[""]=Q.div=Q.divide=Q.divides=i(W,"\\div ","&divide;","[/]"),j["~"]=Q.sim=i(W,"\\sim ","~","~"),dt=t,gt=document.createElement("div").style,{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(wt in gt){vt=wt;break}for(At in pt=vt?function(t,e,n){t.css(vt,"scale("+e+","+n+")")}:"filter"in gt?(dt=function(t){t.className=t.className},function(t,e,n){function i(){t.css("marginRight",(s.width()-1)*(e-1)/e+"px")}var s,r;e/=1+(n-1)/2,t.css("fontSize",n+"em"),t.hasClass("mq-matrixed-container")||t.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>'),s=t.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+e+",SizingMethod='auto expand')"),i(),r=setInterval(i),x(window).load(function(){clearTimeout(r),i()})}):function(t,e,n){t.css("fontSize",n+"em")},qt=v($,function(t,e){t.init=function(t,n,i){e.init.call(this,t,"<"+n+" "+i+">&0</"+n+">")}}),Q.mathrm=i(qt,"\\mathrm","span",'class="mq-roman mq-font"'),Q.mathit=i(qt,"\\mathit","i",'class="mq-font"'),Q.mathbf=i(qt,"\\mathbf","b",'class="mq-font"'),Q.mathsf=i(qt,"\\mathsf","span",'class="mq-sans-serif mq-font"'),Q.mathtt=i(qt,"\\mathtt","span",'class="mq-monospace mq-font"'),Q.underline=i(qt,"\\underline","span",'class="mq-non-leaf mq-underline"'),Q.overline=Q.bar=i(qt,"\\overline","span",'class="mq-non-leaf mq-overline"'),Q.overrightarrow=i(qt,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),Q.overleftarrow=i(qt,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"'),Q.overleftrightarrow=i(qt,"\\overleftrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-both"'),Q.overarc=i(qt,"\\overarc","span",'class="mq-non-leaf mq-overarc"'),Q.dot=v($,function(t,e){t.init=function(){e.init.call(this,"\\dot",'<span class="mq-non-leaf"><span class="mq-dot-recurring-inner"><span class="mq-dot-recurring">&#x2d9;</span><span class="mq-empty-box">&0</span></span></span>')}}),Q.textcolor=v($,function(t,e){t.setColor=function(t){this.color=t,this.htmlTemplate='<span class="mq-textcolor" style="color:'+t+'">&0</span>'},t.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},t.parser=function(){var t=this,n=M.optWhitespace,i=M.string,s=M.regex;return n.then(i("{")).then(s(/^[#\w\s.,()%-]*/)).skip(i("}")).then(function(n){return t.setColor(n),e.parser.call(t)})},t.isStyleBlock=function(){return!0}}),Q.class=v($,function(t,e){t.parser=function(){var t=this,n=M.string,i=M.regex;return M.optWhitespace.then(n("{")).then(i(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then(function(n){return t.cls=n||"",t.htmlTemplate='<span class="mq-class '+n+'">&0</span>',e.parser.call(t)})},t.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},t.isStyleBlock=function(){return!0}}),xt=v($,function(t,e){t.ctrlSeq="_{...}^{...}",t.createLeftOf=function(t){if(this.replacedFragment||t[w]||!t.options.supSubsRequireOperand)return e.createLeftOf.apply(this,arguments)},t.contactWeld=function(t){var e,n,i,s,r,o;for(e=w;e;e=e===w&&q)if(this[e]instanceof xt){for(n="sub";n;n="sub"===n&&"sup")i=this[n],s=this[e][n],i&&(s?i.isEmpty()?o=y(s,0,s.ends[w]):(i.jQ.children().insAtDirEnd(-e,s.jQ),r=i.children().disown(),o=y(s,r.ends[q],s.ends[w]),e===w?r.adopt(s,s.ends[q],0):r.adopt(s,0,s.ends[w])):this[e].addBlock(i.disown()),this.placeCursor=function(t,n){return function(i){i.insAtDirEnd(-e,t||n)}}(s,i));this.remove(),t&&t[w]===this&&(e===q&&o?o[w]?t.insRightOf(o[w]):t.insAtLeftEnd(o.parent):t.insRightOf(this[e]));break}},S.p.charsThatBreakOutOfSupSub="",t.finalizeTree=function(){this.ends[w].write=function(t,e){if(t.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===e)return;var n=this.chToCmd(e,t.options);return n instanceof P?t.deleteSelection():t.clearSelection().insRightOf(this.parent),n.createLeftOf(t.show())}t[w]&&!t[q]&&!t.selection&&-1<t.options.charsThatBreakOutOfSupSub.indexOf(e)&&t.insRightOf(this.parent),V.p.write.apply(this,arguments)}},t.moveTowards=function(t,n,i){n.options.autoSubscriptNumerals&&!this.sup?n.insDirOf(t,this):e.moveTowards.apply(this,arguments)},t.deleteTowards=function(t,n){if(n.options.autoSubscriptNumerals&&this.sub){var i=this.sub.ends[-t];i instanceof P?i.remove():i&&i.deleteTowards(t,n.insAtDirEnd(-t,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(w,n.insAtLeftEnd(this.sub)),this.sup&&n.insDirOf(-t,this))}else e.deleteTowards.apply(this,arguments)},t.latex=function(){function t(t,e){var n=e&&e.latex();return e?t+(1===n.length?n:"{"+(n||" ")+"}"):""}return t("_",this.sub)+t("^",this.sup)},t.addBlock=function(t){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=t,t.adopt(this,this.sub,0).downOutOf=this.sub,t.jQ=x('<span class="mq-sup"/>').append(t.jQ.children()).attr(Rt,t.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=t,t.adopt(this,0,this.sup).upOutOf=this.sup,t.jQ=x('<span class="mq-sub"></span>').append(t.jQ.children()).attr(Rt,t.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var e=0;e<2;e+=1)!function(t,e,n,i){t[e].deleteOutOf=function(s,r){if(r.insDirOf(this[s]?-s:s,this.parent),!this.isEmpty()){var o=this.ends[s];this.children().disown().withDirAdopt(s,r.parent,r[s],r[-s]).jQ.insDirOf(-s,r.jQ),r[-s]=o}t.supsub=n,delete t[e],delete t[i+"Into"],t[n][i+"OutOf"]=f,delete t[n].deleteOutOf,"sub"===e&&x(t.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}}(this,"sub sup".split(" ")[e],"sup sub".split(" ")[e],"down up".split(" ")[e])},t.reflow=function(){var t,e,i,s,r=this.jQ,o=r.prev();!o.length||(t=r.children(".mq-sup")).length&&(e=parseInt(t.css("font-size")),i=t.offset().top+t.height()-o.offset().top-.7*e,s=parseInt(t.css("margin-bottom")),t.css("margin-bottom",s+i))}}),Q.subscript=Q._=v(xt,function(t,e){t.supsub="sub",t.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["_"],t.finalizeTree=function(){this.downInto=this.sub=this.ends[w],this.sub.upOutOf=f,e.finalizeTree.call(this)}}),Q.superscript=Q.supscript=Q["^"]=v(xt,function(t,e){t.supsub="sup",t.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',t.textTemplate=["^"],t.finalizeTree=function(){this.upInto=this.sup=this.ends[q],this.sup.downOutOf=f,e.finalizeTree.call(this)}}),yt=v($,function(t,e){t.init=function(t,e){var n='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+e+'</big><span class="mq-from"><span>&0</span></span></span>';P.prototype.init.call(this,t,n)},t.createLeftOf=function(t){e.createLeftOf.apply(this,arguments),t.options.sumStartsWithNEquals&&(tt("n").createLeftOf(t),ft().createLeftOf(t))},t.latex=function(){function t(t){return 1===t.length?t:"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[w].latex())+"^"+t(this.ends[q].latex())},t.parser=function(){var t,e=M.string,n=M.optWhitespace,i=M.succeed,s=F.block,r=this,o=r.blocks=[V(),V()];for(t=0;t<o.length;t+=1)o[t].adopt(r,r.ends[q],0);return n.then(e("_").or(e("^"))).then(function(t){var e=o["_"===t?0:1];return s.then(function(t){return t.children().adopt(e,e.ends[q],0),i(r)})}).many().result(r)},t.finalizeTree=function(){this.downInto=this.ends[w],this.upInto=this.ends[q],this.ends[w].upOutOf=this.ends[q],this.ends[q].downOutOf=this.ends[w]}}),Q[""]=Q.sum=Q.summation=i(yt,"\\sum ","&sum;"),Q[""]=Q.prod=Q.product=i(yt,"\\prod ","&prod;"),Q.coprod=Q.coproduct=i(yt,"\\coprod ","&#8720;"),Q[""]=Q.int=Q.integral=v(yt,function(t,e){t.init=function(){P.prototype.init.call(this,"\\int ",'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>')},t.createLeftOf=$.p.createLeftOf}),Ot=Q.frac=Q.dfrac=Q.cfrac=Q.fraction=v($,function(t,e){t.ctrlSeq="\\frac",t.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["(",")/(",")"],t.finalizeTree=function(){this.upInto=this.ends[q].upOutOf=this.ends[w],this.downInto=this.ends[w].downOutOf=this.ends[q]}}),kt=Q.over=j["/"]=v(Ot,function(e,n){e.createLeftOf=function(e){if(!this.replacedFragment){for(var i=e[w];i&&!(i instanceof W||i instanceof(Q.text||t)||i instanceof yt||"\\ "===i.ctrlSeq||/^[,;:]$/.test(i.ctrlSeq));)i=i[w];i instanceof yt&&i[q]instanceof xt&&((i=i[q])[q]instanceof xt&&i[q].ctrlSeq!=i.ctrlSeq&&(i=i[q])),i===e[w]||e.isTooDeep(1)||(this.replaces(k(i[q]||e.parent.ends[w],e[w])),e[w]=i)}n.createLeftOf.call(this,e)}}),Qt=Q.sqrt=Q[""]=v($,function(t,e){t.ctrlSeq="\\sqrt",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',t.textTemplate=["sqrt(",")"],t.parser=function(){return F.optBlock.then(function(t){return F.block.map(function(e){var n=jt();return n.blocks=[t,e],t.adopt(n,0,0),e.adopt(n,t,0),n})}).or(e.parser.call(this))},t.reflow=function(){var t=this.ends[q].jQ;pt(t.prev(),1,t.innerHeight()/t.css("fontSize").slice(0,-2)-.1)}}),Q.hat=v($,function(t,e){t.ctrlSeq="\\hat",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-hat-prefix">^</span><span class="mq-hat-stem">&0</span></span>',t.textTemplate=["hat(",")"]}),jt=Q.nthroot=v(Qt,function(t,e){t.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',t.textTemplate=["sqrt[","](",")"],t.latex=function(){return"\\sqrt["+this.ends[w].latex()+"]{"+this.ends[q].latex()+"}"}}),Tt=v($,function(t,e){t.init=function(t,n,i){var s='<span class="mq-non-leaf"><span class="mq-diacritic-above">'+n+'</span><span class="mq-diacritic-stem">&0</span></span>';e.init.call(this,t,s,i)}}),Q.vec=i(Tt,"\\vec","&rarr;",["vec(",")"]),Q.tilde=i(Tt,"\\tilde","~",["tilde(",")"]),Ct=v(v($,p),function(e,n){e.init=function(t,e,i,s,r){n.init.call(this,"\\left"+s,m,[e,i]),this.side=t,this.sides={},this.sides[w]={ch:e,ctrlSeq:s},this.sides[q]={ch:i,ctrlSeq:r}},e.numBlocks=function(){return 1},e.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(this.side===q?" mq-ghost":"")+'">'+this.sides[w].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===w?" mq-ghost":"")+'">'+this.sides[q].ch+"</span></span>",n.html.call(this)},e.latex=function(){return"\\left"+this.sides[w].ctrlSeq+this.ends[w].latex()+"\\right"+this.sides[q].ctrlSeq},e.matchBrack=function(t,e,n){return n instanceof Ct&&n.side&&n.side!==-e&&(!t.restrictMismatchedBrackets||Dt[this.sides[this.side].ch]===n.sides[n.side].ch||{"(":"]","[":")"}[this.sides[w].ch]===n.sides[q].ch)&&n},e.closeOpposing=function(t){t.side=0,t.sides[this.side]=this.sides[this.side],t.delimjQs.eq(this.side===w?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},e.createLeftOf=function(t){var e,i,s;this.replacedFragment||(e=t.options,i="|"===this.sides[w].ch?this.matchBrack(e,q,t[q])||this.matchBrack(e,w,t[w])||this.matchBrack(e,0,t.parent.parent):this.matchBrack(e,-this.side,t[-this.side])||this.matchBrack(e,-this.side,t.parent.parent)),i?(s=this.side=-i.side,this.closeOpposing(i),i===t.parent.parent&&t[s]&&k(t[s],t.parent.ends[s],-s).disown().withDirAdopt(-s,i.parent,i,i[s]).jQ.insDirOf(s,i.jQ),i.bubble("reflow")):(s=(i=this).side,i.replacedFragment?i.side=0:t[-s]&&(i.replaces(k(t[-s],t.parent.ends[-s],s)),t[-s]=0),n.createLeftOf.call(i,t)),s===w?t.insAtLeftEnd(i.ends[w]):t.insRightOf(i)},e.placeCursor=t,e.unwrap=function(){this.ends[w].children().disown().adopt(this.parent,this,this[q]).jQ.insertAfter(this.jQ),this.remove()},e.deleteSide=function(t,e,n){var i,s,r,o=this.parent,a=this[t],l=o.ends[t];if(t===this.side)return this.unwrap(),void(a?n.insDirOf(-t,a):n.insAtDirEnd(t,o));if(i=n.options,s=!this.side,this.side=-t,this.matchBrack(i,t,this.ends[w].ends[this.side]))this.closeOpposing(this.ends[w].ends[this.side]),r=this.ends[w].ends[t],this.unwrap(),r.siblingCreated&&r.siblingCreated(n.options,t),a?n.insDirOf(-t,a):n.insAtDirEnd(t,o);else{if(this.matchBrack(i,t,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(e&&s)return this.unwrap(),void(a?n.insDirOf(-t,a):n.insAtDirEnd(t,o));this.sides[t]={ch:Dt[this.sides[this.side].ch],ctrlSeq:Dt[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(t===w?0:1).addClass("mq-ghost").html(this.sides[t].ch)}a?(r=this.ends[w].ends[t],k(a,l,-t).disown().withDirAdopt(-t,this.ends[w],r,0).jQ.insAtDirEnd(t,this.ends[w].jQ.removeClass("mq-empty")),r.siblingCreated&&r.siblingCreated(n.options,t),n.insDirOf(-t,a)):e?n.insDirOf(t,this):n.insAtDirEnd(t,this.ends[w])}},e.deleteTowards=function(t,e){this.deleteSide(-t,!1,e)},e.finalizeTree=function(){this.ends[w].deleteOutOf=function(t,e){this.parent.deleteSide(t,!0,e)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===w?1:0).removeClass("mq-ghost"),this.side=0}},e.siblingCreated=function(t,e){e===-this.side&&this.finalizeTree()}}),Dt={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},d("("),d("["),d("{","\\{"),Q.langle=i(Ct,w,"&lang;","&rang;","\\langle ","\\rangle "),Q.rangle=i(Ct,q,"&lang;","&rang;","\\langle ","\\rangle "),j["|"]=i(Ct,w,"|","|","|","|"),Q.lVert=i(Ct,w,"&#8741;","&#8741;","\\lVert ","\\rVert "),Q.rVert=i(Ct,q,"&#8741;","&#8741;","\\lVert ","\\rVert "),Q.left=v($,function(t){t.parser=function(){var t=M.regex,e=M.string,n=(M.succeed,M.optWhitespace);return n.then(t(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then(function(i){var s="\\"===i.charAt(0)?i.slice(1):i;return"\\langle"==i&&(s="&lang;",i+=" "),"\\lVert"==i&&(s="&#8741;",i+=" "),F.then(function(r){return e("\\right").skip(n).then(t(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map(function(t){var e,n="\\"===t.charAt(0)?t.slice(1):t;return"\\rangle"==t&&(n="&rang;",t+=" "),"\\rVert"==t&&(n="&#8741;",t+=" "),(e=Ct(0,s,n,i,t)).blocks=[r],r.adopt(e,0,0),e})})})}}),Q.right=v($,function(t){t.parser=function(){return M.fail("unmatched \\right")}}),_t=Q.binom=Q.binomial=v(v($,p),function(t,e){t.ctrlSeq="\\binom",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',t.textTemplate=["choose(",",",")"]}),Q.choose=v(_t,function(t){t.createLeftOf=kt.prototype.createLeftOf}),Q.editable=Q.MathQuillMathField=v($,function(t,e){t.ctrlSeq="\\MathQuillMathField",t.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',t.parser=function(){var t=this,n=M.string,i=M.regex,s=M.succeed;return n("[").then(i(/^[a-z][a-z0-9]*/i)).skip(n("]")).map(function(e){t.name=e}).or(s()).then(e.parser.call(t))},t.finalizeTree=function(t){var e=D(this.ends[w],this.jQ,t);e.KIND_OF_MQ="MathField",e.editable=!0,e.createTextarea(),e.editablesTextareaEvents(),e.cursor.insAtRightEnd(e.root),u(e.root)},t.registerInnerField=function(t,e){t.push(t[this.name]=e(this.ends[w].controller))},t.latex=function(){return this.ends[w].latex()},t.text=function(){return this.ends[w].text()}}),St=Q.embed=v(P,function(t,e){t.setOptions=function(t){function e(){return""}return this.text=t.text||e,this.htmlTemplate=t.htmlString||"",this.latex=t.latex||e,this},t.parser=function(){var t=this,e=M.string,n=M.regex,i=M.succeed;return e("{").then(n(/^[a-z][a-z0-9]*/i)).skip(e("}")).then(function(s){return e("[").then(n(/^[-\w\s]*/)).skip(e("]")).or(i()).map(function(e){return t.setOptions(L[s](e))})})}}),Et=c(1))!function(t,e){"function"==typeof e?(l[t]=function(){return a(),e.apply(this,arguments)}).prototype=e.prototype:l[t]=e}(At,Et[At])}()},function(module,exports,__webpack_require__){"use strict";module.exports={updateFromId:function(collection,data){var idx;return-1<(idx=this.indexFromId(collection,data.id))?collection[idx]=data:collection.push(data)},indexFromId:function(collection,id){var i,key,len;for(key=i=0,len=collection.length;i<len;key=++i)if(id===collection[key].id)return key;return-1},removeFromId:function(collection,id){var idx;return-1<(idx=this.indexFromId(collection,id))&&collection.splice(idx,1),collection}}},function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={responseConvert:function(data){var i,jsDateFormat,key,len,match,mysqlDateFormat,row,value;if(!data)return data;if(data.constructor===Array){for(key=i=0,len=data.length;i<len;key=++i)row=data[key],data[key]=this.responseConvert(row);return data}for(key in mysqlDateFormat=/^([0-9]{4}-[0-9]{2}-[0-9]{2}|[0-9]{4}-[0-9]{1,2}-[0-9]{1,2} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2})$/,jsDateFormat=/^([0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}Z)$/,data)"string"==typeof(value=data[key])&&(match=value.match(mysqlDateFormat))?data[key]=this.stringToDate(match[0]):"string"==typeof value&&(match=value.match(jsDateFormat))?data[key]=new Date(match[0]):"object"===(void 0===value?"undefined":_typeof(value))&&this.responseConvert(value);return data},stringToDate:function(value){var parts;return parts=value.split(/[^0-9]/),"0000-00-00 00:00:00"===value||"0000-00-00"===value?"":5<parts.length?new Date(parts[0],parts[1]-1,parts[2],parts[3],parts[4],parts[5]):2<parts.length?new Date(parts[0],parts[1]-1,parts[2]):value},requestConvert:function(data){return data}}},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}var splice=[].splice;module.exports=function(request,stores,resourceUtils){return function(){function Resource(url){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Resource),this.resourceUrl=url,request.Request.prototype.csrf=function(token){return token=token||window.csrf,this.set("X-CSRF-Token",token),this}}return _createClass(Resource,[{key:"get",value:function(){for(var _ref2,_splice$call,_splice$call2,cback,ref1,url,_this=this,_len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];if(_ref2=_toArray(params),params=_ref2.slice(0),_splice$call=splice.call(params,-1),_splice$call2=_slicedToArray(_splice$call,1),"function"!=typeof(cback=_splice$call2[0]))throw new Error("callback not set");return url=this.resourceUrl+((null!=(ref1=params[0])?ref1.id:void 0)?"/"+params[0].id:""),request.get(url,params[0],function(err,res){return _this.createResponse(err,res,params,cback,"get")})}},{key:"save",value:function(){for(var _ref4,_splice$call3,_splice$call4,cback,data,ref1,ref2,url,_this2=this,_len2=arguments.length,params=Array(_len2),_key2=0;_key2<_len2;_key2++)params[_key2]=arguments[_key2];if(_ref4=_toArray(params),params=_ref4.slice(0),_splice$call3=splice.call(params,-1),_splice$call4=_slicedToArray(_splice$call3,1),"function"!=typeof(cback=_splice$call4[0]))throw new Error("callback not set");return url=this.resourceUrl+((null!=(ref1=params[0])?ref1.id:void 0)?"/"+params[0].id:""),data=params[0],(null!=(ref2=params[0])?ref2.id:void 0)?request.put(url).send(data).csrf().end(function(err,res){return _this2.createResponse(err,res,params,cback,"save")}):request.post(url).send(data).csrf().end(function(err,res){return _this2.createResponse(err,res,params,cback,"save")})}},{key:"remove",value:function(){for(var _ref6,_splice$call5,_splice$call6,cback,ref1,url,_this3=this,_len3=arguments.length,params=Array(_len3),_key3=0;_key3<_len3;_key3++)params[_key3]=arguments[_key3];if(_ref6=_toArray(params),params=_ref6.slice(0),_splice$call5=splice.call(params,-1),_splice$call6=_slicedToArray(_splice$call5,1),"function"!=typeof(cback=_splice$call6[0]))throw new Error("callback not set");return url=this.resourceUrl+((null!=(ref1=params[0])?ref1.id:void 0)?"/"+params[0].id:""),request.del(url).query(params[0]).csrf().end(function(err,res){return _this3.createResponse(err,res,params,cback,"remove")})}},{key:"removeMulti",value:function(){for(var _ref8,_splice$call7,_splice$call8,cback,query,url,_this4=this,_len4=arguments.length,params=Array(_len4),_key4=0;_key4<_len4;_key4++)params[_key4]=arguments[_key4];if(_ref8=_toArray(params),params=_ref8.slice(0),_splice$call7=splice.call(params,-1),_splice$call8=_slicedToArray(_splice$call7,1),"function"!=typeof(cback=_splice$call8[0]))throw new Error("callback not set");return url=this.resourceUrl,query={ids:params[0].map(function(row){return row.id}).join(",")},request.del(url).query(query).csrf().end(function(err,res){return _this4.createResponse(err,res,params,cback,"remove")})}},{key:"createResponse",value:function(err,res,params,cback,method){var callback,data,ref,_this5=this;if(403!==(null!=res?res.status:void 0))return(null!=res?res.unauthorized:void 0)?(callback=function(){return _this5[method](params[0],cback)},stores.trigger("login_autherror",callback)):(null!=res?res.clientError:void 0)?stores.trigger("toaster_add",{title:"Error",message:res.body.message,type:"warning"}):err?stores.trigger("toaster_add",{title:"Error",message:"Sorry, unable to connect, please try again later",type:"error"}):(data=resourceUtils.responseConvert(null!=res&&null!=(ref=res.body)?ref.data:void 0),null!=cback?cback(data):void 0);stores.trigger("toaster_add",{title:"Error",message:res.message,type:"error"})}}]),Resource}()}},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("app",'<link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet" type="text/css"> <link href="https://fonts.googleapis.com/css?family=Yellowtail" rel="stylesheet" type="text/css"> <div riot-tag="navigation" role="navigation" class="navbar navbar-default navbar-static-top {theme}"> <div class="container"> <div class="navbar-header"> <button type="button" aria-expanded="{show}" data-toggle="collapse" onclick="{toggle}" class="navbar-toggle {collapsed:!show}"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/vle/" target="_self" class="navbar-logo"><img src="/images/site/logo.png" style="height:52px"></a> </div> <div id="navbar-collapse-1" class="navbar-collapse collapse"></div> <div riot-style="{style}" class="navbar-collapse growing collapse {in:show}"> <ul if="{parent.opts.mode==\'guest\'}" class="nav navbar-nav navbar-right"> <li><a href="http://www.mathswatch.co.uk/subscription" style="background:" class="subscribe">Click For Subscription Details</a></li> </ul> <ul if="{user.id}" riot-tag="menu" clicked="{parent.menuClicked}" stores="{parent.opts.stores}" routes="{parent.opts.routes}" mode="{parent.opts.mode}" class="nav navbar-nav navbar-right"> <li onclick="{parent.parent.dropdowntoggle}" class="{open:parent.parent.accountshow}"><a id="dropdowntoggle" href="#"> <message-icon count="{parent.parent.message_count}"></message-icon> {user.first_name}\'s account<small style="position:absolute;right:15px;top:44px;pointer-events:none">Logout</small> <ul class="dropdown-menu"> <li><a href="#" onclick="{parent.parent.account}">My Details</a></li> <li><a href="#" onclick="{parent.parent.show_messages}">Show Messages <span class="badge" if="{parent.parent.message_count}"> {parent.parent.message_count}</span></a></li> <li><a href="#" onclick="{parent.parent.logout}">Logout</a></li> </ul></a></li> </ul> </div> </div> </div> <div class="container"> <div class="row hidden-print"> <sub-reminder stores="{opts.stores}" sessionuser="{user}"></sub-reminder> </div> </div> <div class="container"> <div each="{messages.info}" class="hidden-print alert alert-danger"> <button style="margin:-5px" onclick="{show_messages.bind(null,id)}" class="btn btn-danger btn-sm pull-right">More Info</button> <p>{subject}</p> </div> <routehandler routes="{opts.routes}" options="{opts.routeroptions}" stores="{opts.stores}" sessionuser="{user}" mode="{opts.mode}"></routehandler> </div> <div class="footer"> <div class="container"> <div class="row"> <div class="col-xs-4"> <p class="text-muted"><a href="https://www.mathswatch.co.uk/">&copy; MathsWatch Ltd.</a></p> </div> <div class="col-xs-4"> <p class="text-muted text-center"><a href="/terms/">Terms &amp; Conditions </a>| <a href="/privacy-policy/">Privacy Policy</a></p> </div> <div class="col-xs-4"> <p class="text-muted text-right hidden-print"><a href="http://www.duodesign.co.uk/portfolio/mathswatch/">Developed By Duo Web Design</a></p> </div> </div> </div> </div> <toaster stores="{opts.stores}" routes="{opts.routes}" mode="{opts.mode}"></toaster> <login stores="{opts.stores}" routes="{opts.routes}" mode="{opts.mode}"></login> <message-modal stores="{opts.stores}"></message-modal>',".label.label-warning.feedback { margin-left: 5px; }","",function(opts){var _this;this.user={},this.message_count=0,this.theme="",this.messageCheck=null,this.accountshow=!1,this.on("mount",function(){return opts.stores.on("session_changed",this.sessionUpdated),opts.stores.on("message_count_changed",this.messagesUpdated),opts.stores.trigger("message_count_sync"),opts.stores.trigger("session_sync"),document.addEventListener("click",(_this=this,function(e){if("dropdowntoggle"!==e.target.id)return _this.accountshow=!1,_this.update()}));var _this}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated),clearInterval(this.messageCheck)}),this.on("updated",function(){return this.feedbackBadge()}),this.sessionUpdated=(_this=this,function(data){var ref;if(null!=data?data.user:void 0)return-1<((null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[]).indexOf("Teachers")&&(_this.theme="teachers"),_this.update({user:data.user,org:data.org}),riot.update()}),this.dropdowntoggle=function(_this){return function(){return _this.accountshow=!_this.accountshow,_this.update()}}(this),this.menuClicked=function(_this){return function(e){return _this.tags.navigation.toggle()}}(this),this.logout=function(_this){return function(){return _this.messageCheck&&clearInterval(_this.messageCheck),opts.stores.trigger("logout",null!=_this.user.wonde_login)}}(this),this.account=function(){return opts.page("/vle/account")},this.show_messages=function(_this){return function(id){var ref,ref1,ref2;if(null!=(null!=(ref=_this.tags["message-modal"])&&null!=(ref1=ref.messagemodal)&&null!=(ref2=ref1._tag)?ref2.show:void 0)&&(_this.tags["message-modal"].messagemodal._tag.show(),id&&"number"==typeof id))return _this.tags["message-modal"].handleSelect([{id:id}])}}(this),this.messagesUpdated=function(_this){return function(messages){var ref,ref1,ref2,ref3;return _this.messages=messages,_this.message_count=(null!=(ref=_this.messages)?ref.total:void 0)||0,_this.feedback_count=(null!=(ref1=_this.messages)?ref1.feedback:void 0)||0,0<(null!=(ref2=_this.messages)&&null!=(ref3=ref2.alerts)?ref3.length:void 0)&&_this.show_messages(_this.messages.alerts[0].id),_this.update()}}(this),this.feedbackBadge=function(_this){return function(){var label,link;if(_this.feedback_count){if(link=document.querySelector('a[href="/vle/feedback/"]'))return(label=link.querySelector(".label.label-warning"))||((label=document.createElement("span")).setAttribute("class","label label-warning feedback"),link.append(label)),label.innerHTML=_this.feedback_count}else if(document.querySelector('a[href="/vle/feedback/"] .label.label-warning'))return document.querySelector('a[href="/vle/feedback/"] .label.label-warning').remove()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("userlist",'<div show="{is_wonde}" class="row"> <div class="col-xs-12"> <div class="alert alert-info"> <p> <strong>Your students\' class allocation is managed automatically through our access to your MIS data (SIMS, Arbor, Bromcom, etc...) via Wonde. </strong>Manual changes made here will only be kept if your MIS information is updated accordingly before midnight or else these will be reverted by the overnight data sync. We will need to be informed when newly created classes on your MIS need adding or class names need changing (<a href="mailto:info@mathswatch.com">info@mathswatch.com</a>). </p> </div> </div> </div> <div class="row"> <div class="col-sm-8 col-xs-12"> <crudbuttons onedit="{handleEdit}" onadd="{handleAdd}" ondelete="{usertype == \'admin\' ? handleDelete : null}" active="{selected}" type="User"><a href="/duocms/api/users/downloadschool" class="btn btn-sm btn-primary">Download</a> <uploadbutton if="{(parent.usertype == \'admin\' &amp;&amp; !parent.isPeak &amp;&amp; !parent.is_wonde) || (parent.isAdmin &amp;&amp; !parent.isPeak)}" on-click="{parent.uploader}" class="btn btn-sm btn-primary">Upload</uploadbutton> <button if="{(parent.usertype == \'admin\' &amp;&amp; parent.isPeak &amp;&amp; parent.is_wonde) || (parent.isAdmin &amp;&amp; parent.isPeak)}" onclick="{parent.peakWarning}" class="btn btn-sm btn-primary disabled">Upload</button> <confirm if="{parent.usertype == \'admin\' &amp;&amp; !parent.is_wonde}" __disabled="{parent.disableYearend}" onconfirm="{parent.addyear}" title="Move Everyone Up A Year?" confirmtext="Yes" confirmstyle="success" class="btn btn-sm btn-primary">Year End</confirm> <div show="{parent.isAdmin==true}" class="btn-group"> <button onclick="{parent.showDupes}" if="{!parent.dupes}" class="btn btn-sm btn-primary">Dupes</button> <button onclick="{parent.showAll}" if="{parent.dupes}" class="btn btn-sm btn-primary">Show All </button> </div> <div show="{parent.isAdmin==true}" class="btn-group"> <confirm onconfirm="{parent.removeClasslessStudents}" title="Delete Students Without a Class?" class="btn btn-sm btn-primary">Clean Up</confirm> </div> <button __disabled="{!parent.multiselect.length}" onclick="{parent.showPasswordModal}" class="btn btn-sm btn-primary">Update {parent.multiselect.length} Password{parent.multiselect.length !=1 ? \'s\' : \'\'}</button> </crudbuttons> </div> <div class="col-sm-2 col-xs-12 colpad"> <search data="{users}" onsearch="{handleSearch}" placeholder="Search Users"></search> </div> <div class="col-sm-1 col-xs-6 colpad"> <dropdown class="dropdown"><a onclick="{toggle}" class="btn btn-block btn-primary"> Year <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a onclick="{parent.filterByYear}">All</a></li> <li><a onclick="{parent.filterByYear}">Administrators</a></li> <li><a onclick="{parent.filterByYear}">Staff</a></li> <li each="{year in parent.years}"><a onclick="{parent.parent.filterByYear}"> {year} <span if="{year==parent.parent.yearfilter}"></span></a></li> </ul> </dropdown> </div> <div class="col-sm-1 col-xs-6 colpad"> <dropdown class="dropdown pull-right btn-block"><a onclick="{toggle}" class="btn btn-block btn-primary"> Class <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a onclick="{parent.filterByClass}">All</a></li> <li each="{parent.classes}"><a onclick="{parent.parent.filterByClass}"> {name} <span if="{name==parent.parent.classfilter}"></span></a></li> </ul> </dropdown> </div> </div> <div class="row"> <div class="col-xs-12"> <grid columns="{gridColumns}" multiselect="{true}" data="{gridrows}" height="471px" onselect="{handleSelect}" onedit="{handleEdit}"></grid> <div class="gridfooter">{filtered.length} Users<span if="{multiselect.length&gt;0}">- {multiselect.length} Selected</span></div> </div> </div> <modal title="Sorry" onclose="[object Object]" name="peakmodal"> <div class="alert alert-info"> <p> Due to very high traffic, we have had to disable some features during peak times, between <strong>9:30am and {new Date().getDay() == 1 ? 4:00pm : 4:00pm}, Monday - Friday.</strong> </p> <p>Please try again outside those times.</p> <p>Sorry for any inconvenience caused.</p> </div> </modal> <upload-modal stores="{opts.stores}"></upload-modal> <password-modal stores="{opts.stores}" users="{multiselect}" name="passwordmodal"></password-modal>',"userlist{ display:block; } .dropdown-menu{ max-height:200px; overflow-y:auto; }","",function(opts){var natsort,_this;natsort=__webpack_require__(4),this.usertype=null,this.dupes=!1,this.isPeak=!0,this.gridColumns=[{field:"username",label:"Username",width:"20%"},{field:"first_name",label:"First Name",width:"15%"},{field:"surname",label:"Surname",width:"15%"},{field:"year",label:"Year",width:"10%"},{field:"class_names",label:"Classes",width:"34%"},{field:"wonde_id",label:"Wonde",width:"6%",tag:"gridtick"}],this.disableYearend=null,this.selected=null,this.users=[],this.years=[],this.multiselect=[],this.on("mount",function(){var now,peakfrom,peakto;return now=new Date,peakto=((new Date).getDay(),peakfrom=new Date((new Date).setHours(9,30,0,0)),new Date((new Date).setHours(13,0,0,0))),this.isPeak=peakfrom<now&&now<peakto&&0!==now.getDay()&&6!==now.getDay(),this.isPeak=!1,opts.stores.on("users_changed",this.handleUsers),opts.stores.on("classes_changed",this.handleClassUpdate),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("user_sync"),opts.stores.trigger("class_sync")}),this.on("unmount",function(){return opts.stores.off("users_changed",this.handleUsers),opts.stores.off("classes_changed",this.handleClassUpdate),opts.stores.off("session_changed",this.sessionUpdated)}),this.on("update",function(){var gridrows,prev,userdupes,_this;if(this.filtered)return this.gridrows=this.filtered.slice(),(this.yearfilter||this.classfilter)&&("0"===this.yearfilter?this.gridrows=this.filtered.filter((_this=this,function(row){return(""+row.year=="null"||""+row.year=="0")&&(!_this.classfilter||row.class_names.match(_this.escapeRegExp(_this.classfilter)))})):this.gridrows=this.filtered.filter(function(_this){return function(row){return(!_this.yearfilter||""+row.year==""+_this.yearfilter)&&(!_this.classfilter||row.class_names.match(_this.escapeRegExp(_this.classfilter)))}}(this))),this.dupes?(gridrows=this.gridrows.sort(function(a,b){return a.username.toLowerCase()>b.username.toLowerCase()?1:a.username.toLowerCase()<b.username.toLowerCase()?-1:0}),userdupes=[],prev=null,gridrows.forEach(function(u){var ref;return u.username.toLowerCase()===(null!=prev&&null!=(ref=prev.username)?ref.toLowerCase():void 0)&&(userdupes.push(u),userdupes.push(prev)),prev=u}),this.gridrows=userdupes):void 0}),this.peakWarning=(_this=this,function(){return console.log(_this.tags),_this.tags.peakmodal.show()}),this.sessionUpdated=function(_this){return function(session){var groups,ref,ref1,ref2,ref3;return _this.session=session,-1<(groups=(null!=(ref=_this.session.user)?ref.groups:void 0)?_this.session.user.groups.map(function(group){return group.name}):[]).indexOf("Teachers")&&(_this.usertype="teacher"),-1<groups.indexOf("School Admins")&&(_this.usertype="admin"),_this.isAdmin=-1<groups.indexOf("Administrators"),((null!=(ref1=_this.session.user)?ref1.wonde_id:void 0)||(null!=(ref2=_this.session.user)&&null!=(ref3=ref2.org)?ref3.wonde_id:void 0))&&(_this.is_wonde=!0),_this.disableYearend=new Date(_this.session.org.yearend)>new Date,_this.update()}}(this),this.showDupes=function(_this){return function(){return _this.dupes=!0,_this.update()}}(this),this.showAll=function(_this){return function(){return _this.dupes=!1,_this.update()}}(this),this.handleAdd=function(){return opts.page("/vle/users/new")},this.escapeRegExp=function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},this.addyear=function(_this){return function(){return opts.stores.trigger("user_addyear"),_this.users=[],_this.disableYearend=!0,_this.update()}}(this),this.handleClassUpdate=function(_this){return function(classes){return _this.classes=classes,_this.update()}}(this),this.handleSelect=function(_this){return function(row,rows){return _this.selected=row,_this.multiselect=rows,_this.update()}}(this),this.handleUsers=function(_this){return function(users){return _this.users=users,_this.filtered=_this.users.slice(),_this.years=[],_this.users.forEach(function(user){if(user.year&&-1===_this.years.indexOf(user.year))return _this.years.push(user.year)}),_this.years.sort(natsort),_this.update()}}(this),this.handleSearch=function(_this){return function(filtered){return _this.filtered=filtered,_this.update()}}(this),this.filterByYear=function(_this){return function(e){var ref;return _this.yearfilter="Staff"===e.target.textContent?"0":"Administrators"===e.target.textContent?"null":null!=e&&null!=(ref=e.item)?ref.year:void 0,_this.update()}}(this),this.filterByClass=function(_this){return function(e){var ref;return _this.classfilter=null!=e&&null!=(ref=e.item)?ref.name:void 0,_this.update()}}(this),this.handleDelete=function(_this){return function(){if(_this.multiselect&&0!==_this.multiselect.length)return 1===_this.multiselect.length?opts.stores.trigger("user_remove",_this.multiselect[0]):opts.stores.trigger("users_remove",_this.multiselect),_this.selected=null,_this.multiselect=[]}}(this),this.handleEdit=function(_this){return function(row){var ids,ref;if(row)return 1<(null!=(ref=_this.multiselect)?ref.length:void 0)?(ids=_this.multiselect.map(function(row){return row.id}).join(","),opts.page("/vle/users/"+ids)):opts.page("/vle/users/"+row.id)}}(this),this.uploader=function(files){var type,types;if(!(files.length<1))return types={xls:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",csv:"text/csv"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==(type=""===files[0].type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==files[0].type&&"text/csv"!==files[0].type?types[files[0].name.match(/[a-z]+$/i)[0]]:files[0].type)&&"text/csv"!==type?opts.stores.trigger("toaster_add",{title:"Wrong File Type",message:"Please choose a valid Excel Spreadsheet or CSV file - your file type is "+files[0].type,type:"error"}):opts.stores.trigger("user_upload",files[0])},this.removeClasslessStudents=function(_this){return function(){var classlessStudents;return classlessStudents=_this.users.filter(function(s){return 0<s.year&&0===s.classrooms.length}),opts.stores.trigger("users_remove",classlessStudents)}}(this),this.showPasswordModal=function(_this){return function(){return console.log(_this.tags),_this.tags.passwordmodal.show()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("usermodal",'<modal id="classmodal" esckey="{false}" title="{multimode?users.length+\' Users Selected\':user.username || \'User Details\'}" onclose="{handleClose}" onsave="{handleSave}"> <form action="" autocomplete="off" class="form-horizontal"> <div style="height:0px;overflow:hidden"> <input type="text" name="username"> <input type="password" name="password"> </div> <forminput id="username" onupdate="{parent.handleChange}" _readonly="{parent.usertype!=\'admin\' &amp;&amp; parent.user.id}" value="{parent.user.username}" label="Username" placeholder="{parent.multimode?\'multiple selected\':\'\'}"></forminput> <forminput id="password" onupdate="{parent.handleChange}" type="password" label="Password" placeholder="{parent.multimode?\'multiple selected\':\'\'}"></forminput> <forminput id="first_name" onupdate="{parent.handleChange}" value="{parent.user.first_name}" label="First Name" placeholder="{parent.multimode?\'multiple selected\':\'\'}"></forminput> <forminput id="surname" onupdate="{parent.handleChange}" value="{parent.user.surname}" label="Surname" placeholder="{parent.multimode?\'multiple selected\':\'\'}"></forminput> <forminput id="email" onupdate="{parent.handleChange}" value="{parent.user.email}" label="Email" placeholder="{parent.multimode?\'multiple selected\':\'\'}"></forminput> <forminput id="year" onupdate="{parent.handleChange}" value="{parent.user.year}" label="Year" placeholder="{parent.multimode?\'multiple selected\':\'\'}"></forminput> <forminput id="wonde_id" onupdate="{parent.handleChange}" value="{parent.user.wonde_id}" label="Wonde Id" if="{parent.isAdmin}" placeholder="{parent.multimode?\'multiple selected\':\'\'}"></forminput> <forminput id="assignment_time" onupdate="{parent.handleChange}" value="{parent.user.assignment_time}" label="Assignment Time Factor" placeholder="Multiply the time for time limited assignments"></forminput> <div if="{!parent.multimode &amp;&amp; parent.usertype==\'admin\'}" class="form-group"> <label class="col-sm-4 control-label">User Type</label> <div class="col-sm-8"> <div class="row"> <div class="col-sm-4"> <formcheckbox label="Admin" width1="0" name="admin" onupdate="{parent.handleChange}" value="{parent.admin}"></formcheckbox> </div> <div class="col-sm-4"> <formcheckbox label="Teacher" width1="0" name="teacher" onupdate="{parent.handleChange}" value="{parent.teacher}"></formcheckbox> </div> <div class="col-sm-4"> <formcheckbox label="Student" width1="0" name="student" onupdate="{parent.handleChange}" value="{parent.student}"></formcheckbox> </div> </div> </div> </div> <hr> <div class="clearfix"> <h4>Classes</h4> <div hide="{parent.multimode &amp;&amp; parent.users.length &gt; parent.MAX_USERS}"> <p show="{parent.multimode}" class="alert alert-info">Tickboxes below, once changed, will apply to all selected users.</p> <formcheckbox riot-style="{(parent.parent.classesNotChanged?\'color:#aaa\':\'color:#000\')+parent.parent.isDisabled(member,name)}" width1="2" width2="10" each="{parent.classes}" label="{name} ({parent.parent.classCounts[name] || 0})" onchange="{parent.parent.handleClassChange}" value="{member}" class="col-xs-4"></formcheckbox> </div> <div show="{parent.multimode &amp;&amp; parent.users.length &gt; parent.MAX_USERS}"> <p show="{parent.multimode}" class="alert alert-danger">Please select fewer users to update classes - a maximum of {parent.MAX_USERS} can be placed in a class</p> </div> </div> </form> </modal>',"formcheckbox .faded{ opacity:0.5; color:#888; }","",function(opts){var _this;this.on("mount",function(){var id;if(this.MAX_USERS=60,this.user={groups:[],classrooms:[]},this.classCounts=null,this.student=!0,this.multimode=!1,this.classesNotChanged=!1,opts.stores.on("user_changed",this.handleUserStoreChange),opts.stores.on("classes_changed_all",this.handleClassUpdate),opts.stores.on("user_saved",this.handleSaved),opts.stores.on("user_classcount_changed",this.handleClassCount),opts.stores.on("session_changed",this.sessionUpdated),this.tags.modal.show(),this.userGroupsIds=[],id=opts.params.user_id,opts.stores.trigger("class_sync_all"),id&&"new"!==id&&opts.stores.trigger("user_get",id),opts.stores.trigger("session_sync"),id.match&&id.match(/,/))return this.multimode=!0,this.classesNotChanged=!0}),this.on("unmount",function(){return opts.stores.off("user_changed"),opts.stores.off("user_saved"),opts.stores.off("classes_changed_all",this.handleClassUpdate),opts.stores.off("user_classcount_changed",this.handleClassCount),opts.stores.off("session_changed",this.sessionUpdated)}),this.sessionUpdated=(_this=this,function(session){var groups,ref;return _this.session=session,-1<(groups=(null!=(ref=_this.session.user)?ref.groups:void 0)?_this.session.user.groups.map(function(group){return group.name}):[]).indexOf("Teachers")&&(_this.usertype="teacher"),-1<groups.indexOf("School Admins")&&(_this.usertype="admin"),-1<groups.indexOf("Administrators")&&(_this.isAdmin=!0),_this.update()}),this.handleUserStoreChange=function(_this){return function(user){var ref,ref1,ref2;return _this.multimode?(_this.users=user,_this.user={id:opts.params.user_id,classrooms:_this.mergeClasses(_this.users)}):(_this.user=user,_this.userGroupsIds=user.groups.map(function(g){return g.id}),0<(null!=(ref=user.groups)?ref.filter(function(group){return 5===group.id}).length:void 0)?_this.admin=!0:_this.admin=!1,0<(null!=(ref1=user.groups)?ref1.filter(function(group){return 7===group.id}).length:void 0)?_this.student=!0:_this.student=!1,0<(null!=(ref2=user.groups)?ref2.filter(function(group){return 6===group.id}).length:void 0)?_this.teacher=!0:_this.teacher=!1),opts.stores.trigger("class_sync_all"),_this.update()}}(this),this.isDisabled=function(_this){return function(member,name){var ref,ref1;return(null!=(ref=_this.classCounts)?ref[name]:void 0)>_this.MAX_USERS-((null!=(ref1=_this.users)?ref1.length:void 0)||1)?";color:red;":""}}(this),this.handleClose=function(){return opts.page("/users")},this.mergeClasses=function(users){var class_ids,classrooms,cr,i,j,len,len1,ref;for(classrooms=[],class_ids=[],i=0,len=users.length;i<len;i++)for(j=0,len1=(ref=users[i].classrooms).length;j<len1;j++)cr=ref[j],-1===class_ids.indexOf(cr.id)&&(class_ids.push(cr.id),classrooms.push({id:cr.id,name:cr.name}));return classrooms},this.handleClassCount=function(_this){return function(classCounts){return _this.classCounts=classCounts,_this.update()}}(this),this.handleSave=function(_this){return function(){var error;if(!_this.multimode){if(_this.user.first_name&&_this.user.surname||(error="First Name and Surname are required fields"),!0!==_this.student||_this.user.year||(error="Students must have a year group set"),error)return opts.stores.trigger("toaster_add",{type:"warning",title:"Error",message:error});!0===_this.teacher&&(_this.user.year=0),!0===_this.admin&&(_this.user.year=null),_this.user.groups=_this.userGroupsIds,_this.user.groups=_this.setGroup(_this.user.groups,_this.student,7),_this.user.groups=_this.setGroup(_this.user.groups,_this.teacher,6),_this.user.groups=_this.setGroup(_this.user.groups,_this.admin,5)}return _this.classesNotChanged&&delete _this.user.classrooms,opts.stores.trigger("user_save",_this.user,_this.classesNotChanged)}}(this),this.setGroup=function(group_ids,add,id){var idx;return idx=group_ids.indexOf(id),add&&-1===idx?group_ids.push(id):!add&&-1<idx&&group_ids.splice(idx,1),group_ids},this.handleSaved=function(_this){return function(){return _this.tags.modal.hide(),setTimeout(function(){return opts.page("/users")},250)}}(this),this.handleChange=function(_this){return function(e,target,ev){return null!=ev&&ev.preventDefault(),null!=ev&&ev.stopPropagation(),"student"===e.name||"teacher"===e.name||"admin"===e.name?(_this.student=!1,_this.teacher=!1,_this.admin=!1,"student"===e.name?_this.student=e.value:"teacher"===e.name?_this.teacher=e.value:"admin"===e.name&&(_this.admin=e.value),!1===_this.student&&!1===_this.teacher&&!1===_this.admin&&(_this.student=!0),setTimeout(function(){return _this.update()})):_this.user[e.name]=e.value}}(this),this.handleClassChange=function(_this){return function(e){return _this.classesNotChanged=!1,_this.user.classrooms||(_this.user.classrooms=[]),e.target.checked?_this.user.classrooms.push({id:e.item.id,name:e.item.name}):_this.user.classrooms.forEach(function(classroom,key){if(+classroom.id==+e.item.id)return _this.user.classrooms.splice(key,1)})}}(this),this.handleClassUpdate=function(_this){return function(classes){return _this.classes=classes.map(function(classroom){return classroom.member=!!_this.user.classrooms&&0<_this.user.classrooms.filter(function(cls){return cls.id===classroom.id}).length,classroom}),_this.update(),opts.stores.trigger("user_classcount_sync")}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("userpanel",'<div class="row"> <div class="col-sm-12"> <panel heading="Users" class="row3"> <userlist stores="{parent.opts.stores}" onselect="{parent.handleClassSelect}" path="user" page="{parent.opts.page}"></userlist> </panel> </div> </div> <routehandler></routehandler>',"","",function(opts){var _this;this.selected=!1,this.handleClassSelect=(_this=this,function(selectedUser){return _this.selected=selectedUser,_this.update()})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("upload-modal",'<modal id="classmodal" bssize="lg" esckey="{true}" title="{\'Upload Users\'}" onclose="{handleClose}" onsave="{hidesave ? null : handleSave}" savetext="Upload Users"> <div class="row"> <div class="col-xs-12"> <div if="{!parent.hidesave}" class="alert alert-info"> <p> Please check the data below looks correct before clicking <strong>Upload Users</strong>. If the data looks incorrect in any way, please click <strong>Close</strong> and check the format of your spreadsheet. After making adjustments repeat the upload process. </p> </div> <div if="{parent.toomany}" class="alert alert-danger"> <p> You are attempting to upload too many users. You may need to delete some users before uploading, or modify your spreadsheet. </p> </div> <div if="{parent.missing_types}" class="alert alert-danger"> <p> You are attempting to upload users without an account type specified for each user. Please modify your spreadsheet and try again. </p> </div> <div if="{parent.passtooshort}" class="alert alert-danger"> <p> You are attempting to add users who have passwords under 6 characters. Please modify your spreadsheet and try again. </p> </div> <div if="{parent.duplicate_users}" class="alert alert-danger"> <p> You are attempting to import more than one user with the same username. Please modify your spreadsheet and try again. </p> </div> <div if="{parent.overwrite}" class="alert alert-danger"> <p> You are attempting to overwrite an existing user ({parent.overwrite}). Please modify the usernames in your spreadsheet and try again. </p> </div> <div if="{parent.toomany_per_class.length &gt; 0}" class="alert alert-danger"> <p> You are attempting to upload too many users into "{parent.toomany_per_class.join(\', \')}" Please keep your class sizes below 60 students </p> </div> </div> </div> <div class="row"> <div class="col-xs-4"> <div class="alert alert-success"> <p class="text-center">Adding {parent.addUsers.length} Users </p> </div> </div> <div class="col-xs-4"> <div class="alert alert-info"> <p class="text-center">Updating {parent.updateUsers.length} Users </p> </div> </div> <div class="col-xs-4"> <div class="alert alert-warning"> <p class="text-center">Adding {parent.addClasses.length} Classes</p> </div> </div> </div> <grid columns="{parent.gridColumns}" data="{parent.users}" height="355px"></grid> <div if="{parent.importing}" class="alert alert-info"> <h4><span class="fa fa-refresh fa-spin"></span> Importing your users...</h4> </div> </modal>',"","",function(opts){var convertUser,_this;this.importing=!1,this.toomany_per_class=[],this.gridColumns=[{field:"first_name",label:"First Name",width:"10%"},{field:"surname",label:"Surname",width:"10%"},{field:"email",label:"Email",width:"10%"},{field:"username",label:"Username",width:"25%"},{field:"year",label:"Yr",width:"5%"},{field:"account_type",label:"Account Type",width:"12%"},{field:"class_names",label:"Classes",width:"18%"},{field:"action",label:"Action",width:"10%"}],this.on("mount",function(){return this.toomany=!1,this.toomany_per_class=[],this.missing_types=!1,this.duplicate_users=!1,this.passtooshort=!1,this.overwrite=!1,this.calclimit(),opts.stores.on("user_uploaded",this.handleUpload),opts.stores.on("user_imported",this.update),opts.stores.on("users_changed",this.handleUsers),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.on("classes_changed",this.handleClasses),opts.stores.trigger("user_sync"),opts.stores.trigger("class_sync"),opts.stores.trigger("session_sync")}),this.on("unmount",function(){return opts.stores.off("user_uploaded",this.handleUpload),opts.stores.off("user_imported",this.update),opts.stores.off("users_changed",this.handleUsers),opts.stores.off("session_changed",this.sessionUpdated)}),this.on("update",function(){return this.calclimit(),this.hidesave=!!(this.importing||this.toomany||this.missing_types||this.passtooshort||this.duplicate_users||this.overwrite||0<this.toomany_per_class.length)}),this.calclimit=(_this=this,function(){var key,ref,ref1,ref2,ref3,results;for(key in _this.toomany_per_class=[],_this.toomany=+(null!=(ref=_this.allusers)?ref.length:void 0)+ +(null!=(ref1=_this.addUsers)?ref1.length:void 0)>+(null!=(ref2=_this.session)?ref2.org.userlimit:void 0),results=[],ref3=_this.classCounts)60<ref3[key]?results.push(_this.toomany_per_class.push(key)):results.push(void 0);return results}),this.handleClose=function(_this){return function(){return _this.importing=!1,_this.tags.modal.hide()}}(this),this.handleSave=function(_this){return function(){if(!_this.hidesave)return _this.importing=!0,opts.stores.trigger("user_import",_this.addUsers,_this.updateUsers,_this.deleteUsers,_this.addClasses),opts.stores.one("users_imported",_this.handleClose)}}(this),this.handleUsers=function(_this){return function(allusers){return _this.allusers=allusers,_this.update()}}(this),this.handleClasses=function(_this){return function(allClasses){_this.allClasses=allClasses}}(this),this.sessionUpdated=function(_this){return function(session){return _this.session=session,_this.update()}}(this),this.handleUpload=function(_this){return function(users){var allUsernames,existinguser,i,len,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,user,userindex,usernames;for(allUsernames=_this.allusers.map(function(user){return user.username.toLowerCase()}),_this.missing_types=!1,_this.duplicate_users=!1,_this.overwrite=!1,_this.classCounts={},_this.users=[],usernames=[],_this.addUsers=[],_this.updateUsers=[],_this.deleteUsers=[],i=0,len=users.length;i<len;i++)(null!=(user=users[i])&&null!=(ref=user.account_type)?ref.match(/p|t|a/i):void 0)||(_this.missing_types=!0),_this.countclasses(user),_this.addYearToClassNames(user),-1===(userindex=allUsernames.indexOf(user.username.toLowerCase()))?(user.action="adding",(null!=(ref1=user.account_type)?ref1.trim().match(/p/i):void 0)&&(user.groups=[7]),(null!=(ref2=user.account_type)?ref2.trim().match(/t/i):void 0)&&(user.groups=[6]),(null!=(ref3=user.account_type)?ref3.trim().match(/a/i):void 0)&&(user.groups=[5]),-1<usernames.indexOf(user.username)&&(_this.duplicate_users=!0),usernames.push(user.username),_this.addUsers.push(user),_this.users.push(user)):(null!=(ref4=_this.allusers[userindex].first_name)?ref4.toLowerCase():void 0)!==(null!=(ref5=user.first_name)?ref5.toLowerCase():void 0)?_this.overwrite=_this.allusers[userindex].username:(existinguser=_this.allusers[userindex],JSON.stringify(convertUser(user)).toLowerCase()!==JSON.stringify(convertUser(existinguser)).toLowerCase()&&(user.action="updating",user.id=existinguser.id,(null!=(ref6=user.account_type)?ref6.trim().match(/p/i):void 0)&&(user.groups=[7]),(null!=(ref7=user.account_type)?ref7.trim().match(/t/i):void 0)&&(user.groups=[6]),(null!=(ref8=user.account_type)?ref8.trim().match(/a/i):void 0)&&(user.groups=[5]),_this.updateUsers.push(user),_this.users.push(user)));return _this.passtooshort=!1,_this.addUsers&&_this.addUsers.forEach(function(user){if(null==user.password||user.password.length<6)return _this.passtooshort=!0}),_this.classCompair(),_this.tags.modal.show(),_this.update()}}(this),this.countclasses=function(_this){return function(user){if(null!=user.class_names)return user.class_names.split(",").forEach(function(classname){if(null!=classname)return classname=classname.trim(),_this.classCounts[classname]=null==_this.classCounts[classname]?1:_this.classCounts[classname]+1})}}(this),this.addYearToClassNames=function(user){var classname;return user.class_names&&user.year&&"0"!==user.year&&(classname=user.class_names.split(",").map(function(classname){var reg;return reg=new RegExp("^"+user.year),!classname||classname.match(reg)?classname:user.year+classname.trim()}),user.class_names=classname.join(",")),user},this.classCompair=function(_this){return function(){var classnames,i,len,newclasses,ref,uniqueClasses,user;for(classnames=_this.allClasses.map(function(c){return c.name.trim().toLowerCase()}),uniqueClasses=[],newclasses=[],i=0,len=(ref=[].concat(_this.addUsers,_this.updateUsers)).length;i<len;i++)(user=ref[i]).class_names&&user.class_names.split(/ ?, ?/).filter(function(classname){return-1===uniqueClasses.indexOf(classname.toLowerCase())}).forEach(function(classname){if(0<user.year)return uniqueClasses.push(classname.toLowerCase()),newclasses.push({name:classname,year:user.year})});return _this.addClasses=newclasses.filter(function(newclass){return-1===classnames.indexOf(newclass.name.toLowerCase())})}}(this),convertUser=function(user){return{first_name:user.first_name,surname:user.surname,password:user.password,year:+user.year||0,account_type:user.account_type||"",class_names:user.class_names||"",username:user.username}}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("password-modal",'<modal id="classmodal" bssize="lg" esckey="{true}" title="{\'Reset Passwords\'}" onclose="{handleClose}" onsave="{handleSave}" savetext="Update Passwords"> <div class="row flexrow"> <div class="col-sm-4 flexcol"> <h4>Updating Passwords for </h4> <div class="password-userlist"> <ul class="list-unstyled"> <li each="{parent.opts.users}">{username} </li> </ul> </div> </div> <div class="col-sm-8"> <h4>Please select the password regeneration method below</h4> <div class="well"> <h4> <label> <input type="radio" name="passtype" value="random" checked onclick="{parent.setType}"> Simple Random Passwords </label> </h4> <p>This will generate a simple random password for each selected user. </p> <p>Once created a spreadsheet will be downloaded for reference.</p> </div> <div class="well"> <h4> <label> <input type="radio" name="passtype" value="username" onclick="{parent.setType}"> Set All Passwords to the same as their Usernames </label> </h4> <p>This will set each selected user\'s password to be the same as their username.</p> <p><strong> Warning - each user should be encouraged to change their password as soon as possible to avoid their account being logged into by other parties. </strong></p> </div> <div class="well"> <h4> <label> <input type="radio" name="passtype" value="samepass" onclick="{parent.setType}"> Set All Passwords to the below value </label> </h4> <p> <input placeholder="Enter Password (6-character minimum)" name="newpass" type="text" autocomplete="new-password" class="form-control"> </p> <p>This will set each selected user\'s password to be the above value.</p> <p><strong> Warning - each user should be encouraged to change their password as soon as possible to avoid their account being logged into by other parties.</strong></p> </div> </div> </div> <div if="{parent.saving}" class="alert alert-info"> <p> <span class="fa fa-spinner fa-spin"></span> Updating passwords</p> </div> </modal>',".flexrow{ display:flex; } .flexcol{ display:flex; flex:1; flex-direction:column; position:relative; } .password-userlist{ position:absolute; top:40px; right:0; left:0; bottom:20px; border:1px solid #ddd; overflow:auto; } .password-userlist li{ border-bottom:1px solid #ddd; padding:4px 10px; }","",function(opts){var _this;this.passtype="random",this.saving=!1,this.handleClose=(_this=this,function(){return _this.saving=!1,_this.tags.modal.newpass.value="",_this.tags.modal.hide()}),this.show=function(_this){return function(){return _this.saving=!1,_this.tags.modal.show()}}(this),this.setType=function(_this){return function(e){return _this.passtype=e.target.value}}(this),this.handleSave=function(_this){return function(){var ids,password,type;if(!_this.saving){if(type=_this.passtype,password=_this.tags.modal.newpass.value,ids=opts.users.map(function(user){return user.id}),"samepass"!==type||!(password.length<6||password.match(/password/i)))return _this.saving=!0,opts.stores.trigger("users_passwords",ids,type,password),opts.stores.one("users_passwords_saved",function(){return _this.handleClose()});opts.stores.trigger("toaster_add",{type:"error",title:"Error",message:"The password must be 6 characters or more and can't contain the word 'password'."})}}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("accountpanel",'<div if="{teacher==true || admin==true}" class="row"> <div class="col-sm-4"> <panel heading="My Account Details" class="row-sm-4"> <accountdetails stores="{parent.opts.stores}"></accountdetails> </panel> </div> <div class="col-sm-4"> <panel heading="Educational Institution" class="row-sm-4"> <schooldetails stores="{parent.opts.stores}" mode="{parent.opts.mode}"></schooldetails> </panel> </div> <div class="col-sm-4"> <panel heading="Subscription" class="row-sm-4"> <subscription stores="{parent.opts.stores}" mode="{parent.opts.mode}"></subscription> </panel> </div> </div> <div if="{student==true}" class="row"> <div class="col-sm-6"> <panel heading="My Account Details" class="row-sm-3"> <accountdetails stores="{parent.opts.stores}"></accountdetails> </panel> </div> <div class="col-sm-6"> <panel heading="Educational Institution" class="row-sm-3"> <schooldetails stores="{parent.opts.stores}" mode="{parent.opts.mode}"></schooldetails> </panel> </div> </div>',"","",function(opts){var _this;this.on("mount",function(){return this.teacher=!1,this.student=!1,opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("error",function(err){return console.error(err)}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated)}),this.sessionUpdated=(_this=this,function(data){var ref;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],_this.user=data.user,-1<_this.groups.indexOf("Teachers")&&(_this.teacher=!0),-1<_this.groups.indexOf("Students")&&(_this.student=!0),-1<_this.groups.indexOf("School Admins")&&(_this.admin=!0),_this.update()})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("accountdetails",'<div class="form-horizontal"> <formstatic id="username" onupdate="{handleChange}" value="{user.username}" label="Username"></formstatic> <div show="{(groups.indexOf(\'Teachers\')&gt;-1 || groups.indexOf(\'School Admins\')&gt;-1)}"> <forminput id="first_name" onupdate="{handleChange}" value="{user.first_name}" label="First Name"></forminput> <forminput id="surname" onupdate="{handleChange}" value="{user.surname}" label="Surname"></forminput> </div> <div show="{groups.indexOf(\'Teachers\')==-1 &amp;&amp; groups.indexOf(\'School Admins\')==-1}"> <formstatic id="first_name" onupdate="{handleChange}" value="{user.first_name}" label="First Name"></formstatic> <formstatic id="surname" onupdate="{handleChange}" value="{user.surname}" label="Surname"></formstatic> <formstatic id="email" value="{classrooms.join(&quot;, &quot;)}" label="{classrooms.length&gt;1?&quot;Classes&quot;:&quot;Class&quot;}"> </formstatic> </div> <forminput id="email" onupdate="{handleChange}" value="{user.email}" label="Email"></forminput> <forminput id="password" onupdate="{handleChange}" type="password" label="Password" placeholder="Leave blank if you don\'t wish to update this"></forminput> <forminput id="password2" onupdate="{handleChange}" type="password" label="Password (again)" placeholder="Leave blank if you don\'t wish to update this"></forminput> <button onclick="{save}" class="btn pull-right {hasChanged ? \'btn-success\':\'btn-default\'}">Save Changes</button> </div>',"","",function(opts){var _this;this.loadedUser={},this.user={},this.on("mount",function(){return this.user={},this.hasChanged=!1,this.groups=[],opts.stores.on("session_changed",this.sessionUpdated),opts.stores.on("user_saved",this.userUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated),opts.stores.off("user_saved",this.userUpdated)}),this.on("error",function(err){return console.error(err)}),this.on("update",function(){return this.hasChanged=this.user.email!==this.loadedUser.email||this.user.password&&this.user.password===this.user.password2&&6<this.user.password.length}),this.userUpdated=(_this=this,function(data){return _this.root.querySelector("input#password").value="",_this.root.querySelector("input#password2").value="",delete _this.user.password,delete _this.user.password2,opts.stores.trigger("toaster_add",{type:"success",title:"Success",message:"Your details have been updated successfully."}),opts.stores.trigger("session_sync")}),this.sessionUpdated=function(_this){return function(data){var ref,ref1;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):null,_this.classrooms=(null!=(ref1=data.user)?ref1.classrooms:void 0)?data.user.classrooms.map(function(classroom){return classroom.name}):[],_this.loadedUser=Object.assign({},data.user),_this.user=data.user,_this.update()}}(this),this.handleChange=function(_this){return function(e){return _this.user[e.name]=e.value,_this.update()}}(this),this.save=function(_this){return function(){return _this.user.password!==_this.user.password2?opts.stores.trigger("toaster_add",{type:"warning",title:"Error",message:"You need to enter the same new password in both boxes."}):(delete _this.user.password2,opts.stores.trigger("user_save",{id:"me",email:_this.user.email,password:_this.user.password}))}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("schooldetails",'<div if="{groups.indexOf(\'School Admins\')==-1}"> <p><strong>{org.name}</strong></p> <p class="address">{org.address}</p> <p>{org.postcode}</p> <p if="{org.website}">Web:<a href="http://{org.website}">{org.website}</a></p> <p if="{org.email}">Email:<a href="mailto:{org.email}">{org.email}</a></p> </div> <div if="{(groups.indexOf(\'School Admins\')&gt;-1) &amp;&amp; org}"> <form action="" class="form-horizontal"> <formstatic label="Institution" value="{org.name}"></formstatic> <forminput id="primary_contact" onupdate="{handleChange}" value="{org.primary_contact}" label="Primary Contact"></forminput> <forminput id="primary_phone" onupdate="{handleChange}" value="{org.primary_phone}" label="Primary Phone"></forminput> <forminput id="billing_contact" onupdate="{handleChange}" value="{org.billing_contact}" label="Billing Contact"></forminput> <forminput id="billing_phone" onupdate="{handleChange}" value="{org.billing_phone}" label="Billing Phone"></forminput> <formtextarea id="address" onupdate="{handleChange}" value="{org.address}" rows="4" label="Address"></formtextarea> <forminput id="postcode" onupdate="{handleChange}" value="{org.postcode}" label="Postcode"></forminput> <formselect id="asexamboard" if="{org.aslevel}" onupdate="{handleChange}" value="{org.asexamboard}" label="AS Examboard" options="{[{label:\'Please Choose\',value:\'\'},{label:\'AQA\',value:\'AQA\'},{label:\'Edexcel\',value:\'Edexcel\'}]}"></formselect> <button onclick="{save}" class="btn btn-primary pull-right">Save</button> </form> </div>','schooldetails .address,[riot-tag="schooldetails"] .address,[data-is="schooldetails"] .address{white-space: pre}',"",function(opts){var _this;this.on("mount",function(){return opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated)}),this.sessionUpdated=(_this=this,function(data){var groups,ref;return groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],_this.update({org:data.org,groups:groups})}),this.handleChange=function(_this){return function(e){return _this.org[e.name]=e.value}}(this),this.save=function(_this){return function(){return opts.stores.trigger("org_save",_this.org)}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("recentlywatched",'<grid if="{clips &amp;&amp; clips.length}" columns="{gridColumns}" data="{clips}" height="355px" onselect="{handleSelect}"> <p if="{!clips}"><i class="fa fa-spinner fa-pulse">Loading Data</i></p> <p if="{!clips.length}">You have no recently watched clips</p> </grid>',"","",function(opts){this.gridColumns=[{field:"id",label:"#",width:"10%"},{field:"name",label:"Title",width:"60%"},{field:"created_at",label:"When",width:"30%"}],this.on("mount",function(){var _this;return opts.stores.on("clip_recent_changed",(_this=this,function(clips){return _this.clips=clips,_this.update()})),opts.stores.trigger("clip_recent_get")}),this.on("unmount",function(){return opts.stores.off("clip_recent_changed")}),this.on("handleSelect",function(row){})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("subscription",'<alert bsstyle="danger" if="{daysLeft&lt;20}"> <h4>Alert</h4> <p>You have <strong>{parent.daysLeft} {parent.daysLeft>1?days:day}</strong> left of your subscription.</p> <p>An invoice has been sent, please make prompt payment to avoid loss of service.</p> </alert> <alert bsstyle="warning" if="{daysLeft&lt;=30 &amp;&amp; daysLeft&gt;=20}"> <h4>Notice</h4> <p>You have {parent.daysLeft} days left of your subscription.</p> <p>An invoice has been sent, this subscription will update on receipt of payment.</p> </alert> <alert bsstyle="success" if="{daysLeft&gt;30}"> <p>You have {parent.daysLeft} days left of your subscription.</p> </alert> <alert bsstyle="info" class="clearfix"> <p><strong>Subscription Types </strong></p> <ul> <li if="{parent.org.aslevel}">AS Level </li> <li if="{parent.org.gcse}">GCSE</li> <li if="{parent.org.wjec}">GCSE (WJEC)</li> <li if="{parent.org.legacy}">GCSE (Legacy)</li> <li if="{parent.org.primary}">Primary Maths</li> <li if="{parent.org.ks3}">Key Stage 3</li> </ul> </alert>',"","",function(opts){var _this;this.status="",this.on("mount",function(){return opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated),opts.stores.off("user_saved",this.userUpdated)}),this.sessionUpdated=(_this=this,function(data){var groups,ref;return groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],_this.daysLeft=Math.round((data.org.subscription_end-new Date)/1e3/60/60/24),_this.org=data.org,_this.update({user:data.user,groups:groups})})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("assignments",'<div class="row"> <div class="col-xs-12"> <div class="pull-left"> <crudbuttons onedit="{handleEdit}" onadd="{handleAdd}" ondelete="{handleDelete}" active="{editable}" type=""> <button onclick="{parent.handleDuplicate}" class="btn btn-sm btn-primary {disabled:!parent.selected || parent.selected.type==\'exam\'}">Duplicate</button> <button onclick="{parent.handleAssign}" class="btn btn-sm btn-primary {disabled:!parent.selected}">Assign</button> <button onclick="{parent.handlePreview}" class="btn btn-sm btn-primary {disabled:!parent.selected}">Preview</button> </crudbuttons> </div> <div style="margin-bottom:10px" class="btn-toolbar pull-right"> <div class="btn-group"> <dropdown if="{session.org.linked_schools.length}" class="dropdown pull-right"><a href="#" role="button" onclick="{toggle}" class="btn btn-primary btn-sm">School <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a onclick="{parent.changeSchool.bind(null,null)}"><span if="{parent.schoolid == null}" class="pull-right"></span>My School</a></li> <li each="{parent.session.org.linked_schools}"><a onclick="{parent.parent.changeSchool.bind(null,id)}"><span if="{parent.parent.schoolid == id}" class="pull-right"></span>{name}</a></li> </ul> </dropdown> </div> <div class="btn-group"> <dropdown class="dropdown pull-right"><a href="#" role="button" onclick="{toggle}" class="btn btn-primary btn-sm">View <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a onclick="{parent.filterOwner.bind(null,null);parent.filterExams.bind(null,null)}"><span if="{parent.view.creator == null &amp;&amp; parent.view.exam_board == null}" class="pull-right"></span>All Assignments </a></li> <li each="{parent.assignmentCreators}"><a onclick="{parent.parent.filterOwner.bind(null,creator)}"><span if="{parent.parent.view.creator == creator}" class="pull-right"></span>{creator}</a></li> <li each="{parent.examboards}"><a onclick="{parent.parent.filterExams.bind(null,exam_board)}"><span if="{parent.parent.view.exam_board == exam_board}" class="pull-right"></span>{exam_board} Exams</a></li> </ul> </dropdown> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-xs-12 colpad"> <search data="{filtered}" onsearch="{handleSearch}" placeholder="Search Assignments"></search> </div> </div> <div show="{filtered &amp;&amp; filtered.length}"> <grid columns="{gridColumns}" multiselect="{true}" data="{searchfiltered}" height="471px" onselect="{handleSelect}" onedit="{handleEdit}"></grid> <div class="gridfooter">{filtered.length} Assignments</div> </div> <p show="{!filtered}"><i class="fa fa-spinner fa-pulse"> </i> Loading Data</p> <p show="{!filtered.length}" style="height:480px">You have no assignments</p>',"assignedlist{ display:block; } .dropdown-menu a{ cursor:pointer; } @media (max-width: 480px) { .btn.btn-primary.btn-sm{ margin-bottom:5px; } }","",function(opts){var collection,groupby,_this;this.assignments=null,this.selected=null,this.all_selected=[],this.editable=null,this.filtered=null,this.searchfiltered=null,this.session=null,groupby=__webpack_require__(11),this.view={creator:null,type:["homework","test"]},this.schoolid=null,collection=__webpack_require__(7),this.assignmentCreators=[],this.gridColumns=[{field:"title",label:"Assignment Title",width:"55%"},{field:"creator",label:"Created By",width:"25%"},{field:"created_at",label:"Created",width:"20%",dateformat:"dd/MM/yyyy"}],this.on("mount",(_this=this,function(){return opts.stores.on("session_changed",_this.sessionUpdated),opts.stores.on("assignedwork_changed",_this.assignmentsUpdated),opts.stores.on("assignedwork_exams_changed",_this.examsUpdated),opts.stores.trigger("assignedwork_sync"),opts.stores.trigger("session_sync")})),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated),opts.stores.off("assignedwork_changed",this.assignmentsUpdated)}),this.on("error",function(err){return console.error(err)}),this.sessionUpdated=function(_this){return function(session){return _this.session=session,_this.view.creator=_this.session.user.first_name+" "+_this.session.user.surname,_this.opts.stores.trigger("assignedwork_exams"),_this.updateFiltered()}}(this),this.assignmentsUpdated=function(_this){return function(assignments){return _this.assignments=assignments,_this.assignments&&(_this.assignmentCreators=groupby(_this.assignments.filter(function(a){return!a.type}),"creator")),_this.updateFiltered()}}(this),this.updateFiltered=function(_this){return function(){if(_this.view.exam_board)_this.filtered=_this.exams.filter(function(e){return e.exam_board===_this.view.exam_board}).map(function(e){return{id:e.id,title:e.name,creator:"MathsWatch",created_at:e.created_at,type:"exam"}});else{if(!_this.assignments||!_this.session)return;_this.filtered=_this.assignments.filter(function(assignment){var ref;return 0<!(null!=(ref=assignment.classrooms)?ref.length:void 0)&&!assignment.assigned_at&&(!assignment.type||-1<_this.view.type.indexOf(assignment.type))&&(null===_this.view.creator||_this.view.creator===assignment.creator)}),_this.filtered.sort(function(a,b){return new Date(b.created_at)-new Date(a.created_at)})}return _this.update()}}(this),this.examsUpdated=function(_this){return function(exams){return _this.exams=exams,_this.examboards=collection.groupby(_this.exams,"exam_board").filter(function(r){return _this.session.org.wjec&&"WJEC"===r.exam_board||(_this.session.org.gcse||_this.session.org.legacy)&&("Edexcel"===r.exam_board||"AQA"===r.exam_board||"OCR"===r.exam_board)}).map(function(r){return{exam_board:r.exam_board}}).sort(),_this.update()}}(this),this.handleSelect=function(_this){return function(row,rows){return _this.selected=row,_this.all_selected=rows,opts.onselect&&opts.onselect(_this.selected),_this.editable=row.assigned_by===_this.session.user.id,_this.update()}}(this),this.filterOwner=function(_this){return function(owner){return _this.view.creator=owner,_this.view.exam_board=null,_this.updateFiltered()}}(this),this.filterExams=function(_this){return function(exam_board){return _this.view.creator=null,_this.view.exam_board=exam_board,_this.updateFiltered()}}(this),this.handleDuplicate=function(_this){return function(){var allsaved;if(_this.all_selected&&0!==_this.all_selected.length)return allsaved=[],_this.all_selected.forEach(function(selected,idx){var updateAfterSave;if("exam"!==selected.type)return updateAfterSave=function(saved){if(allsaved.includes(saved)||allsaved.push(saved),_this.view.creator=_this.session.user.first_name+" "+_this.session.user.surname,_this.schoolid=null,idx===_this.all_selected.length-1)return opts.stores.off("assignedwork_saved",updateAfterSave),_this.selectDupes(allsaved)},opts.stores.on("assignedwork_saved",updateAfterSave),opts.stores.trigger("assignedwork_duplicate",selected)})}}(this),this.handleAssign=function(_this){return function(){return"exam"===_this.selected.type?opts.page("/assignedwork/mywork/exam"+_this.selected.id):opts.page("/assignedwork/mywork/new"+_this.selected.id)}}(this),this.handleAdd=function(){return opts.page("/assignedwork/assignments/new")},this.selectDupes=function(_this){return function(dupes){var updateSelected;return updateSelected=function(){var ids,rows;return ids=dupes.map(function(d){return+d.id}),rows=_this.searchfiltered.filter(function(row){return ids.includes(row.id)}),_this.all_selected=rows,_this.tags.grid.activeRows=rows,_this.tags.grid.active=rows[0],_this.tags.grid.update(),setTimeout(function(){return opts.stores.off("assignedwork_changed",updateSelected)},500)},opts.stores.on("assignedwork_changed",updateSelected)}}(this),this.handleDelete=function(_this){return function(){if(_this.all_selected&&0!==_this.all_selected.length)return _this.all_selected.forEach(function(selected){return opts.stores.trigger("assignedwork_remove",selected)}),_this.all_selected=[],_this.selected=null}}(this),this.handleEdit=function(_this){return function(row){if(row&&_this.editable)return opts.page("/vle/assignedwork/assignments/"+_this.selected.id)}}(this),this.handlePreview=function(_this){return function(){if(_this.selected)return"exam"===_this.selected.type?opts.page("/vle/assignedwork/exam/"+_this.selected.id):opts.page("/vle/assignedwork/assignment/"+_this.selected.id)}}(this),this.handleSearch=function(_this){return function(searchfiltered){return _this.searchfiltered=searchfiltered,_this.update()}}(this),this.changeSchool=function(_this){return function(schoolid){return _this.schoolid=schoolid,opts.stores.trigger("assignedwork_load",null,_this.schoolid),_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("assignedwork",'<div class="row"> <div class="col-xs-12"> <div style="padding-bottom:15px;" class="btn-toolbar pull-left"> <button onclick="{handleEdit}" class="btn btn-sm btn-primary {disabled:!selected}">Edit</button> <confirm onconfirm="{handleDelete}" class="btn btn-sm btn-primary {disabled:!selected}">Delete</confirm> <button onclick="{downloadPDF}" class="btn btn-sm btn-primary {disabled:!selected}"> <span class="fa fa-print"></span> Print</button> <button onclick="{downloadExcel}" class="btn btn-sm btn-primary {disabled:!selected || selected.due_at &lt; one_yr_ago}"> <span class="fa fa-download"></span> Marks</button> <button onclick="{handlePreview}" class="btn btn-sm btn-primary {disabled:!selected}">Preview</button> </div> <div class="btn-toolbar pull-right"> <dropdown class="dropdown pull-right fullwidthsm"> <button href="#" role="button" onclick="{toggle}" class="btn btn-sm btn-primary">View <span class="caret"></span></button> <ul style="min-width:220px" class="dropdown-menu"> <li><a onclick="{parent.toggle.bind(null,\'due\',\'all\')}"><span if="{parent.view.due == \'all\'}" class="pull-right"></span>This Year\'s Assignments</a></li> <li><a onclick="{parent.toggle.bind(null,\'due\',\'future\')}"><span if="{parent.view.due == \'future\'}" class="pull-right"></span>Future Assignments</a></li> <li><a onclick="{parent.toggle.bind(null,\'due\',\'active\')}"><span if="{parent.view.due == \'active\'}" class="pull-right"></span>Active Assignments</a></li> <li><a onclick="{parent.toggle.bind(null,\'due\',\'past\')}"><span if="{parent.view.due == \'past\'}" class="pull-right"></span>Past Assignments</a></li> <li role="separator" style="width:200px" class="divider"></li> <li><a onclick="{parent.toggle.bind(null,\'type\',\'all\')}"><span if="{parent.view.type == \'all\'}" class="pull-right"></span>All Types</a></li> <li><a onclick="{parent.toggle.bind(null,\'type\',\'homework\')}"><span if="{parent.view.type == \'homework\'}" class="pull-right"></span>Homework</a></li> <li><a onclick="{parent.toggle.bind(null,\'type\',\'test\')}"><span if="{parent.view.type == \'test\'}" class="pull-right"></span>Tests</a></li> <li><a onclick="{parent.toggle.bind(null,\'type\',\'exam\')}"><span if="{parent.view.type == \'exam\'}" class="pull-right"></span>Exams</a></li> </ul> </dropdown> <dropdown style="margin-right:5px;" class="dropdown pull-right fullwidthsm"> <button href="#" role="button" onclick="{toggle}" class="btn btn-primary btn-sm">Class <span class="caret"></span></button> <ul style="min-width:150px" class="dropdown-menu"> <li><a onclick="{parent.toggle.bind(null,\'class\',\'all\')}"><span if="{parent.view.class==\'all\'}" class="pull-right"></span>All</a></li> <li><a onclick="{parent.parent.toggle.bind(null,\'class\',v)}" each="{v,k in parent.classes}"><span if="{parent.parent.view.class == v}" class="pull-right"></span>{v}</a></li> </ul> </dropdown> <dropdown style="margin-right:5px;" class="dropdown pull-right fullwidthsm"> <button href="#" role="button" onclick="{toggle}" class="btn btn-primary btn-sm">Year <span class="caret"></span></button> <ul style="min-width:90px" class="dropdown-menu"> <li><a onclick="{parent.toggle.bind(null,\'year\',\'all\')}"><span if="{parent.view.year==\'all\'}" class="pull-right"></span>All</a></li> <li><a onclick="{parent.parent.toggle.bind(null,\'year\',v)}" each="{v,k in parent.years}"><span if="{parent.parent.view.year == v}" class="pull-right"></span>{v}</a></li> </ul> </dropdown> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-xs-12 colpad"> <search data="{filtered}" onsearch="{handleSearch}" placeholder="Search Work Assigned"></search> </div> </div> <div if="{filtered && filtered.length}"> <grid columns="{gridColumns}" multiselect="{true}" data="{searchfiltered}" height="471px" onselect="{handleSelect}" onedit="{handleEdit}"></grid> <div class="gridfooter">{filtered.length} Assignments</div> </div> <p if="{loading}"><i class="fa fa-spinner fa-pulse"> </i> Loading Data</p> <p if="{!loading &amp;&amp; !filtered.length}" style="height:480px">You have no work assigned</p>',"assignedlist{ display:block; } assignedwork grid .gridcell:nth-child(3),assignedwork grid .gridcell:nth-child(4),assignedwork grid .gridcell:nth-child(5){ text-align:center; } @media (max-width: 767px) { .dropdown.pull-right.fullwidthsm{ float:none!important; clear:both; display:block; width:calc(100vw - 30px); margin-top:-10px; } .fullwidthsm .btn.btn-primary.btn-sm{ display:block; width:100%; margin:0px 0 10px 5px; } }","",function(opts){var _this;this.assignments=null,this.loading=!0,this.selected=null,this.all_selected=[],this.searchfiltered=null,this.filtered=[],this.view={due:"all",type:"all",class:"all",year:"all"},this.classes=[],this.years=[],this.one_yr_ago=new Date((new Date).setFullYear((new Date).getFullYear()-1)),this.gridColumns=[{field:"title",label:"Assignment Title",width:"31%",tag:"gridfeedbacktitle"},{field:"classnames",label:"Classes",width:"21%"},{field:"shorttype",label:"Type",width:"10%"},{field:"assigned_at",label:"Assigned",width:"16%",dateformat:"dd/MM/yyyy"},{field:"due_at",label:"Due",width:"16%",dateformat:"dd/MM/yyyy"},{field:"locked",label:"",width:"6%",tag:"gridlock"}],this.on("mount",(_this=this,function(){return opts.stores.on("session_changed",_this.sessionUpdated),opts.stores.on("assignedwork_changed",_this.assignmentsUpdated),opts.stores.trigger("assignedwork_sync"),opts.stores.trigger("session_sync")})),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated),opts.stores.off("assignedwork_changed")}),this.sessionUpdated=function(_this){return function(session){return _this.session=session,_this.updateFiltered()}}(this),this.assignmentsUpdated=function(_this){return function(assignments){if(_this.assignments=assignments,_this.assignments)return _this.loading=!1,_this.assignments.forEach(function(assignment){var ref,ref1;if(0<(null!=(ref=assignment.classrooms)?ref.length:void 0)&&(assignment.classnames=assignment.classrooms.map(function(classroom){return classroom.name}),assignment.year=assignment.classrooms.map(function(classroom){return classroom.year}),assignment.locked=assignment.lock_at<new Date,_this.classes=_this.classes.concat(assignment.classnames),_this.years=_this.years.concat(assignment.year),assignment.shorttype="homework"===assignment.type?"HW":"exam"===assignment.type?"EXAM":"TEST"),null!=(ref1=assignment.link_ids)?ref1.length:void 0)return assignment.links=_this.assignments.filter(function(a){return-1<assignment.link_ids.indexOf(a.id)}).map(function(a){return a.title+" - due "+a.due_at.getDate()+"/"+(a.due_at.getMonth()+1)+"/"+a.due_at.getFullYear()})}),_this.classes=_this.classes.filter(function(val,idx,self){return self.indexOf(val)===idx}),_this.years=_this.years.filter(function(val,idx,self){return self.indexOf(val)===idx}),_this.view.classes=_this.classes.slice(),_this.view.years=_this.years.slice(),_this.updateFiltered()}}(this),this.updateFiltered=function(_this){return function(){var ref,yearStart;if(_this.assignments&&_this.session)return yearStart=7<(new Date).getMonth()?new Date((new Date).getFullYear(),7,31):new Date((new Date).getFullYear()-1,8,1),_this.filtered=null!=(ref=_this.assignments)?ref.filter(function(assignment){var ref1,ref2,ref3;return(0<(null!=(ref1=assignment.classrooms)?ref1.length:void 0)||assignment.assigned_at)&&assignment.assigned_by===_this.session.user.id&&(0<(null!=(ref2=assignment.classrooms)?ref2.filter(function(classroom){return _this.view.class===classroom.name}):void 0).length||"all"===_this.view.class)&&(0<(null!=(ref3=assignment.classrooms)?ref3.filter(function(classroom){return _this.view.year===classroom.year}):void 0).length||"all"===_this.view.year)&&(_this.view.type===assignment.type||"all"===_this.view.type)&&("all"===_this.view.due&&(!assignment.assigned_at||assignment.due_at>yearStart)||"future"===_this.view.due&&(!assignment.assigned_at||assignment.due_at>=new Date)||"past"===_this.view.due&&assignment.due_at<new Date||"active"===_this.view.due&&assignment.assigned_at<new Date&&assignment.due_at>new Date)}):void 0,_this.filtered.sort(function(a,b){return new Date(b.assigned_at)-new Date(a.assigned_at)}),_this.update()}}(this),this.handleSelect=function(_this){return function(row,rows){return _this.selected=row,_this.all_selected=rows,opts.onselect&&opts.onselect(_this.selected),_this.update()}}(this),this.toggle=function(_this){return function(key,val){return _this.view[key]=val,_this.updateFiltered()}}(this),this.handlePreview=function(_this){return function(){if(_this.selected)return opts.page("/vle/assignedwork/assignment/"+_this.selected.id)}}(this),this.handleDelete=function(_this){return function(){if(_this.all_selected&&0!==_this.all_selected.length)return _this.all_selected.forEach(function(selected){return opts.stores.trigger("assignedwork_remove",selected)}),_this.all_selected=[],_this.selected=null}}(this),this.handleEdit=function(_this){return function(row){if(_this.selected)return opts.page("/vle/assignedwork/mywork/"+_this.selected.id)}}(this),this.downloadPDF=function(_this){return function(){return window.open("/duocms/api/assignedwork/"+_this.selected.id+"/pdf")}}(this),this.downloadExcel=function(_this){return function(){return window.location.href="/duocms/api/assignedwork/"+_this.selected.id+"/excel"}}(this),this.handleSearch=function(_this){return function(searchfiltered){return _this.searchfiltered=searchfiltered,_this.update()}}(this),this.handlePreview=function(_this){return function(){if(_this.selected)return opts.page("/vle/assignedwork/assignment/"+_this.selected.id)}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("assignmentmanagerpanel",'<div class="row"> <div class="col-lg-6 col-xs-12"> <panel heading="Assignments" class="row3"> <assignments stores="{parent.opts.stores}" page="{parent.opts.page}"></assignments> </panel> </div> <div class="col-lg-6 col-xs-12"> <panel heading="My Work Assigned" class="row3"> <assignedwork stores="{parent.opts.stores}" page="{parent.opts.page}"></assignedwork> </panel> </div> </div> <routehandler></routehandler>',"","",function(opts){})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("student-workpanel",'<div class="row"> <student-alert assignments="{assignments}" userid="{user.id}"></student-alert> <div if="{unread_count &gt; 0}" class="unread alert alert-warning">Please check your assignments below, you have {unread_count} unread {unread_count > 1 ? messages : message}</div> </div> <div class="row"> <div class="col-sm-12"> <panel heading="Assigned Work" class="row3"> <div class="row"> <div class="col-sm-6 col-xs-12"> <div class="btn-toolbar"> <div onclick="{parent.showRecent}" class="btn btn-sm btn-default {btn-primary:parent.recent}">This Year\'s Work</div> <div onclick="{parent.showAll}" class="btn btn-sm btn-default {btn-primary:!parent.recent}">All Work</div> <dropdown class="btn-group dropdown"><a href="#" role="button" onclick="{toggle}" class="btn btn-default btn-sm"><span class="hidden-xs">Showing </span>{parent.parent.typeLabel} <span class="caret"></span></a> <ul style="width:250px" class="dropdown-menu"> <li><a onclick="{parent.parent.filterType.bind(null,null,\'All Types\')}"><span if="{!parent.parent.type}" class="pull-right"></span>Show All Types</a></li> <li><a onclick="{parent.parent.filterType.bind(null,\'homework\',\'Homework\')}"><span if="{parent.parent.type == \'homework\'}" class="pull-right"></span> Show Only Homework</a></li> <li><a onclick="{parent.parent.filterType.bind(null,\'test\',\'Tests\')}"><span if="{parent.parent.type == \'test\'}" class="pull-right"></span> Show Only Tests</a></li> <li><a onclick="{parent.parent.filterType.bind(null,\'exam\',\'Exams\')}"><span if="{parent.parent.type == \'exam\'}" class="pull-right"></span> Show Only Exams</a></li> </ul> </dropdown> </div> </div> <div class="col-sm-6 col-xs-12"> <div class="row averagemarks"> <div class="col-sm-6 col-xs-12"><span class="small">Homework Average</span> <progressbar value="{parent.homeWorkPerc}" label="50%">{parent.parent.homeWorkPerc}%</progressbar> </div> <div class="col-sm-6 col-xs-12"><span class="small">Test Average</span> <progressbar value="{parent.testPerc}">{parent.parent.testPerc}%</progressbar> </div> </div> </div> </div> <div class="row"> <br></div> <grid if="{parent.mode==mobile && parent.assignments && parent.assignments.length}" columns="{parent.gridColumnsMobile}" data="{parent.filtered}" height="370px" onselect="{parent.handleSelect}" onedit="{parent.handleSelect}"></grid> <grid if="{parent.mode!=mobile && parent.assignments && parent.assignments.length}" columns="{parent.gridColumnsDesktop}" data="{parent.filtered}" height="370px" onselect="{parent.handleSelect}" onedit="{parent.handleSelect}"></grid> <p if="{!parent.assignments}"> <i class="fa fa-spinner fa-pulse"> </i>Loading Data</p> <p if="{!parent.assignments.length}">You have no assigned work</p> </panel> </div> </div> <routehandler></routehandler>',"[riot-tag=student-workpanel] .gridcell:nth-child(n+2) { text-align: center; } @media (min-width: 770px) { .averagemarks { margin-top: -10px; } } @media (max-width: 480px) { grid .gridrow .gridcell, grid .gridheader .gridcell { font-size: 11px; padding: 5px 5px 5px 2px; } }","",function(opts){var setupgrids,_this;setupgrids=function(){var mode;if(document.body.offsetWidth<1200?(mode="mobile",_this.gridColumnsMobile=[{field:"title",label:"Title",width:"28%",tag:"gridfeedbacktitle"},{field:"shorttype",label:"Type",width:"11%"},{field:"assigned_at",label:"Assigned",width:"17.5%",dateformat:"dd/MM/yyyy"},{field:"due_at",label:"Due",width:"17.5%",dateformat:"dd/MM/yyyy"},{field:"locked",label:"",width:"4%",tag:"gridlock"},{field:"marksfrom",label:"Marks",width:"11%"},{field:"student_percent_with_symbol",label:"%",width:"11%"}]):(mode="desktop",_this.gridColumnsDesktop=[{field:"title",label:"Title",width:"33%",tag:"gridfeedbacktitle"},{field:"shorttype",label:"Type",width:"6%"},{field:"assigned_by",label:"Assigned By",width:"15%"},{field:"assigned_at",label:"Assigned",width:"12%",dateformat:"dd/MM/yyyy"},{field:"due_at",label:"Due",width:"12%",dateformat:"dd/MM/yyyy HH:mm"},{field:"locked",label:"",width:"4%",tag:"gridlock"},{field:"marksfrom",label:"Marks",width:"7%"},{field:"student_percent_with_symbol",label:"%",width:"6%"},{field:"grade",label:"Grade",width:"5%"}]),mode!==_this.mode)return _this.mode=mode,_this.update()},(_this=this).on("mount",function(){return setupgrids(),this.typeLabel="All Types",this.unread_count=0,this.type=null,this.recent=!0,opts.stores.on("feedback_unread",this.handleUnread),opts.stores.on("assignedwork_changed",this.handleAssignedworkChanged),opts.stores.on("assignedwork_answer_count_changed",this.handleAnswerCountChanged),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("assignedwork_load_student",this.recent),opts.stores.trigger("feedback_get_unread"),window.addEventListener("resize",setupgrids)}),this.on("unmount",function(){return opts.stores.off("feedback_unread",this.handleUnread),opts.stores.off("assignedwork_changed",this.handleAssignedworkChanged),opts.stores.off("assignedwork_answer_count_changed",this.handleAnswerCountChanged),opts.stores.off("session_changed",this.sessionUpdated),window.removeEventListener("resize",setupgrids)}),this.on("error",function(err){return console.error(err)}),this.handleUnread=function(_this){return function(unread_count){return _this.unread_count=unread_count,_this.update()}}(this),this.handleAssignedworkChanged=function(_this){return function(assignments){var homeWorkPerc,testPerc;if(assignments)return homeWorkPerc=[],testPerc=[],_this.assignments=assignments.map(function(a){return null!=a.student_marks&&(a.marksfrom=a.student_marks+"/"+a.marks,a.student_percent=Math.round(a.student_marks/a.marks*100),a.student_percent_with_symbol=a.student_percent+"%","homework"===a.type&&homeWorkPerc.push(a.student_percent),"test"===a.type&&a.due_at<new Date&&a.completed&&testPerc.push(a.student_percent)),a.locked=a.lock_at<new Date,a.shorttype="homework"===a.type?"HW":"test"===a.type?"TEST":"EXAM","test"===a.type&&(a.due_at>new Date||!a.completed)&&(a.student_percent_with_symbol="",a.marksfrom=""),a}),_this.homeWorkPerc=homeWorkPerc.length?Math.round(homeWorkPerc.reduce(function(a,b){return a+b},0)/homeWorkPerc.length*10)/10:0,_this.testPerc=testPerc.length?Math.round(testPerc.reduce(function(a,b){return a+b},0)/testPerc.length*10)/10:0,_this.filterType(_this.type,_this.typeLabel),_this.update()}}(this),this.sessionUpdated=function(_this){return function(data){return _this.update({user:data.user})}}(this),this.handleAnswerCountChanged=function(answerCounts){return this.answerCounts=answerCounts,this.update()},this.handleSelect=function(row){return setTimeout(function(){return document.selection&&document.selection.empty()||window.getSelection&&window.getSelection().removeAllRanges()},100),opts.page("/vle/assignment/"+row.id)},this.showAll=function(_this){return function(){return _this.recent=!1,opts.stores.trigger("assignedwork_load_student",_this.recent),_this.update()}}(this),this.showRecent=function(_this){return function(){return _this.recent=!0,opts.stores.trigger("assignedwork_load_student",_this.recent),_this.update()}}(this),this.filterType=function(_this){return function(type,typeLabel){return _this.type=type,_this.typeLabel=typeLabel,_this.type?(_this.filtered=_this.assignments.filter(function(assignment){return assignment.type===_this.type}),_this.update()):_this.update({filtered:_this.assignments.slice()})}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("student-panel",'<panel id="studentmodal" heading="{loaded ? assignment.title : \'Loading...\'}" name="studentmodal" class="relative"> <timer-mini name="examtimer" style="position:absolute;top:8px;left:50%;width:200px;margin-left:-100px;color:white" oncomplete="{parent.handleTimeExpired}"></timer-mini> <div style="right:0px;" class="viewpractice"><a href="{parent.rootUrl}" if="{parent.assignment.type!=\'test\'}" class="btn btn-warning"><span class="fa fa-arrow-left"> </span> Return to Assigned Work</a><a onclick="{parent.handleShowAnswers}" if="{parent.isTeacher}" class="btn btn-danger"> <div class="fa fa-graduation-cap"></div>{parent.showanswers ?  Hide Answers :  Show Answers}</a></div> <div show="{parent.loaded}"> <ul riot-tag="nexttabs" colwidth="12" collection="{parent.assignment.questions}" iscorrect="{parent.isCorrect}" active="{parent.selectedQuestion}" ontabchange="{parent.handleTabClick}" class="nav nav-tabs"> <li class="{active:!parent.parent.selectedQuestion}"><a onclick="{parent.parent.showDescription}" class="btn">Overview</a></li> </ul> <div if="{!parent.selectedQuestion}"> <h3>{parent.assignment.title}</h3> <p>{parent.assignment.questions.length} questions, {parent.assignment.marks} marks</p> <p><br></p> <p class="pre">{parent.assignment.description}</p><br><br> <alert show="{parent.assignment.type==\'homework\' &amp;&amp; parent.assignment.timelimit &amp;&amp; !parent.completed &amp;&amp; parent.assignment.lock_at &gt; new Date()}"> <h4>This is a timed homework.</h4> <p>Your teacher has allocated {Math.round(parent.parent.assignment.timelimit)} minutes for you to complete it.</p> </alert> <alert if="{parent.assignment.type==\'test\' &amp;&amp; !parent.completed}">This is a timed test. The timer will count down from viewing the first question. <br>You have {Math.round(parent.parent.duration/60)} minutes to complete the test.</alert> <alert show="{parent.assignment.type==\'test\' &amp;&amp; parent.completed}"> <h4>Test Completed</h4> <p>This test has now been submitted and can no longer be edited.</p> </alert> <alert show="{parent.assignment.type!=\'test\' &amp;&amp; parent.completed}" bsstyle="danger"> <h4>Time Expired</h4> <p>This work has now been submitted and can no longer be edited.</p> </alert> <alert show="{parent.assignment.lock_at &amp;&amp; parent.assignment.lock_at &lt; new Date()}" bsstyle="danger"> <h4>Assignment Completed </h4> <p>This assignment has now been locked by your teacher and can no longer be edited.</p> </alert><br> <div if="{parent.assignment.type==\'homework\'}"> <h4>Helpful Videos</h4> <ul class="list-group"> <li each="{parent.clips}" class="list-group-item"> <div class="btn-toolbar"> <div class="btn"> <div style="display:inline-block;width:80px;text-align:left;" class="span">Clip {clip_id}</div> {name} </div><a onclick="{parent.parent.showvideo}" class="btn btn-primary pull-right"> <span class="fa fa-play-circle"></span> View Video</a><a onclick="{parent.parent.showomm}" if="{omm}" class="btn btn-warning pull-right"> <span class="fa fa-play-circle"></span> View One Minute Maths Video</a> </div> </li> </ul> </div> <div if="{parent.assignment.type==\'exam\' &amp;&amp; parent.showFeedback}" class="row"> <div class="col-sm-6 col-xs-12"><span>Exam Paper Progress</span> <progressbar value="{parent.percentAnswered}" bsstyle="success" striped="{false}" active="{true}"> <span>{parent.parent.marks} / {parent.parent.assignment.totalMarks} Marks</span></progressbar> </div> <div show="{parent.assignment.link_ids.length}" class="col-sm-6 col-xs-12"><span>Exam Series Progress</span> <progressbar value="{parent.allpapers.percent}" bsstyle="success" striped="{false}" active="{true}"> <span>{parent.parent.allpapers.marks} / {parent.parent.allpapers.total_marks} Marks</span></progressbar> </div> <div class="col-sm-6 col-xs-12"><span>Grade For This Paper</span> <div class="gradetable"> <table> <tr> <td each="{grade,idx in parent.getGrades()}"> <span class="{bold:parent.parent.paperGrade == grade}">{grade}</span> <div class="grademarks">{idx ? parent.parent.assignment.exam.grades[idx] : marks}</div> </td> </tr> </table> <progressbar value="{parent.convertPercent(parent.percentAnswered,parent.assignment.totalMarks)}" bsstyle="{parent.convertPercent(parent.percentAnswered,parent.assignment.totalMarks) &lt;  100/parent.getGrades().length ? \'warning\' : \'success\'}" striped="{false}" active="{true}"></progressbar> </div> </div> <div show="{parent.assignment.link_ids.length}" class="col-sm-6 col-xs-12"><span>Grade For This Exam Series</span> <div class="gradetable"> <table> <tr> <td each="{grade,idx in parent.getGrades()}"> <span class="{bold:parent.parent.examGrade == grade}">{grade}</span> <div class="grademarks">{idx ? parent.parent.assignment.allgrades[idx] : marks}</div> </td> </tr> </table> <progressbar value="{parent.convertPercent(parent.allpapers.percent,parent.allpapers.total_marks,true)}" bsstyle="{parent.convertPercent(parent.allpapers.percent,parent.allpapers.total_marks,true) &lt;  100/parent.getGrades().length ? \'warning\' : \'success\'}" striped="{false}" active="{true}"> </progressbar> </div> </div> </div> <div class="btn-answer"> <div class="btn-toolbar"> <button onclick="{parent.firstQuestion}" class="btn btn-success">{parent.overviewButton}</button> <button if="{parent.assignment.type==\'homework\'}" onclick="{parent.downloadPDF}" class="btn btn-default">Print Questions</button><a if="{parent.assignment.type==\'exam\' &amp;&amp; parent.answers.length &gt; 0 &amp;&amp; parent.showFeedback}" href="{\'/duocms/api/assignment/\'+parent.assignment.id+\'/studentexamreport\'}" target="_blank" class="btn btn-default">Exam Report</a> </div> </div><br> </div> <div if="{parent.selectedQuestion}"> <div class="row dsptable"> <div class="{parent.showComplete ? \'col-xs-12\' : \'col-lg-9 col-xs-12 td\'}"> <div class="progressblock"> <div class="row"> <div if="{parent.assignment.type==\'test\'}" class="col-sm-10 col-xs-8"> <timer if="{!parent.completed}" duration="{parent.duration}" oncomplete="{parent.handleTimeExpired}"></timer> </div> <div if="{parent.assignment.type==\'homework\' &amp;&amp; parent.showFeedback}" class="col-sm-10 col-xs-8"> <div class="row"> <div class="col-sm-6 col-xs-12"><span>Question Progress</span> <progressbar value="{parent.questionPercentAnswered}" bsstyle="success" striped="{true}" active="{true}"> <span>{parent.parent.questionMarks} / {parent.parent.questionTotalMarks} Marks</span></progressbar> </div> <div class="col-sm-6 col-xs-12"><span>Homework Progress</span> <progressbar value="{parent.percentAnswered}" bsstyle="success" striped="{false}" active="{true}"> <span>{parent.parent.marks} / {parent.parent.assignment.totalMarks} Marks</span></progressbar> </div> </div> </div> <div if="{(parent.assignment.type==\'homework\' || parent.assignment.type==\'exam\') &amp;&amp; !parent.showFeedback}" class="col-sm-10 col-xs-8"> <div class="alert alert-info">Your teacher has disabled instant marking. Your marks will appear after the due date.</div> </div> <div if="{parent.assignment.type==\'exam\' &amp;&amp; parent.showFeedback}" class="{parent.showComplete ? \'col-xs-12\' : \'col-sm-10 col-xs-8\'}"> <div class="row"> <div class="col-sm-4 col-xs-12"><span>Question Progress</span> <progressbar value="{parent.questionPercentAnswered}" bsstyle="success" striped="{true}" active="{true}"> <span>{parent.parent.questionMarks} / {parent.parent.questionTotalMarks} Marks</span></progressbar> </div> <div class="col-sm-4 col-xs-12"><span>Exam Paper Progress</span> <progressbar value="{parent.percentAnswered}" bsstyle="success" striped="{false}" active="{true}"> <span>{parent.parent.marks} / {parent.parent.assignment.totalMarks} Marks</span></progressbar> </div> <div show="{parent.assignment.link_ids.length}" class="col-sm-4 col-xs-12"><span>Exam Series Progress</span> <progressbar value="{parent.allpapers.percent}" bsstyle="success" striped="{false}" active="{true}"> <span>{parent.parent.allpapers.marks} / {parent.parent.allpapers.total_marks} Marks</span></progressbar> </div> <div class="col-xs-12 {parent.assignment.link_ids.length ? \'col-sm-6\' : \'col-sm-4\'}"><span>Grade For This Paper</span> <div class="gradetable"> <table> <tr> <td each="{grade,idx in parent.getGrades()}"> <span class="{bold:parent.parent.paperGrade == grade}">{grade}</span> </td> </tr> </table> <progressbar value="{parent.convertPercent(parent.percentAnswered,parent.assignment.totalMarks)}" bsstyle="{parent.convertPercent(parent.percentAnswered,parent.assignment.totalMarks) &lt;  100/parent.getGrades().length ? \'warning\' : \'success\'}" striped="{false}" active="{true}"></progressbar> </div> </div> <div show="{parent.assignment.link_ids.length}" class="col-sm-6 col-xs-12"><span>Grade For This Exam Series</span> <div class="gradetable"> <table> <tr> <td each="{grade,idx in parent.getGrades()}"> <span class="{bold:parent.parent.examGrade == grade}">{grade}</span> </td> </tr> </table> <progressbar value="{parent.convertPercent(parent.allpapers.percent,parent.allpapers.total_marks,true)}" bsstyle="{parent.convertPercent(parent.allpapers.percent,parent.allpapers.total_marks,true) &lt;  100/parent.getGrades().length ? \'warning\' : \'success\'}" striped="{false}" active="{true}"> </progressbar> </div> </div> </div> </div> <div if="{!parent.showComplete}" class="col-xs-2 col-sm-1"> <div if="{parent.question.calculator || parent.exam_calculator}" title="You can use a calculator for this question" class="fa fa-calculator"><span style="left:5px;bottom:-10px;font-size:30px;opacity:1;color:#00dd00" class="fa fa-check fa-stack-2x"></span></div> <div if="{!parent.question.calculator &amp;&amp; !parent.exam_calculator}" title="You cannot use a calculator for this question" class="fa fa-calculator"><span style="left:5px;bottom:-10px;font-size:30px;opacity:1;color:#ff0000" class="fa fa-times fa-stack-2x"></span></div> </div> <div if="{parent.question.total_answers &amp;&amp; !parent.showComplete}" class="col-xs-2 col-sm-1 success_rate"> <div title="MathsWatch users success rate" class="fa fa-trophy"><span style="color:#fec600;font-size:14px;top:5px" class="fa fa-star fa-stack-1x"></span></div>{Math.round(parent.question.total_correct / parent.question.total_answers * 100)}% </div> </div> </div> <div if="{!parent.showComplete}"><img riot-src="{(parent.showAnswerImage ? \'/downloads/answers/answer\' : \'/images/questions/question\')+parent.question.id+\'.png\'}" style="margin:0;padding:0" class="img-responsive col-xs-12 img-question"> <drawing show="{parent.hasDrawing==true}" stores="{parent.opts.stores}"></drawing> </div> </div> <div if="{!parent.showComplete}" class="col-lg-3 col-xs-12 td"> <div class="answercolumn"> <answer question="{parent.question}" count="{1}" page="{parent.opts.page}" onsave="{parent.handleSave}" stores="{parent.opts.stores}" feedback="{(parent.assignment.type==\'test\' &amp;&amp; parent.assignment.due_at &lt; new Date() &amp;&amp; parent.completed) || parent.showFeedback}" nextquestion="{parent.timedlock ? null : parent.getNextQuestion}" nextbutton="{parent.nextButton}" backtovideos="{parent.backtovideos}" currentanswer="{parent.currentAnswer}" greenboxes="{(parent.assignment.type==\'test\' &amp;&amp; parent.assignment.due_at &lt; new Date() &amp;&amp; parent.completed) || parent.showFeedback}" showanswer="{parent.showanswers}" saving="{answersaaving}" buttondisabled="{(parent.assignment.lock_at &amp;&amp; parent.assignment.lock_at &lt; new Date()) || (parent.completed &amp;&amp; parent.assignment.type==\'test\')}" multi_attempts="{parent.assignment.multi_attempts}"></answer> </div> </div> </div> <div if="{parent.showComplete}" class="row"> <div class="col-xs-12"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 52 52" class="checkmark"> <circle cx="26" cy="26" r="25" fill="none" class="checkmark__circle"></circle> <path fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" class="checkmark__check"></path> </svg> <div class="col-sm-offset-3 col-sm-6 col-xs-12"> <div class="alert alert-success text-center">Your correct answer has been submitted to your teacher for review.</div> </div> </div> </div> </div> </div> </panel> <div class="row"> <div class="col-xs-12"> <feedback if="{opts.params.assigned_id}" assigned_id="{opts.params.assigned_id}" studentfeedback="{assignment.studentfeedback}" question_id="{opts.params.question_id || -1}" stores="{opts.stores}"></feedback> </div> </div> <congrats-popup name="congrats" message=""></congrats-popup> <div if="{activeVideo!=null &amp;&amp; assignment.type!=\'test\'}" class="row"> <div class="col-sm-12 col-sm-5"> <panel heading="{activeVideo.name}"> <div style="right:5px;" if="{parent.activeVideo.id &amp;&amp; parent.activeVideo.omm}" class="viewomm"><a onclick="{parent.toggleOMM}" class="btn btn-primary">{parent.activeVideoOMM? \'View Full Video\':\'View One Minute Version\'}</a></div> <vimeoplayer vimeoid="{parent.activeVideoOMM? parent.activeVideo.omm:parent.activeVideo.url}" videoid="{parent.activeVideo.id}" stores="{parent.opts.stores}" videotitle="{parent.activeVideo.name}" video="{parent.activeVideo}"></vimeoplayer> </panel> </div> <div class="col-sm-12 col-sm-7"> <panel heading="Overview" class="row-sm-3"> <h3>{parent.assignment.title}</h3> <p class="pre">{parent.assignment.description}</p> </panel> </div> <modal title="{selectedVideo.name}" name="videomodal" onclose="{handleVideoClose}"> <vimeoplayer vimeoid="{parent.vimeoid}" videoid="{parent.selectedVideo.id}" stores="{parent.opts.stores}" videotitle="{parent.selectedVideo.name}" video="{parent.selectedVideo}"></vimeoplayer> </modal> <modal title="Are You Sure?" name="confirm" onclose="{testCompleteCancel}" onsave="{testComplete}" savetext="Submit Test" closetext="Continue Test"> <p>Are you sure you want to submit your test?</p> <p>You have time left to check your answers.</p> </modal> </div>',".gradetable { position: relative; height: 22px; margin-bottom: 20px; } .gradetable table { position: absolute; top: 0; left: 0; right: 0; width: 100%; table-layout: fixed; } .gradetable td { text-align: center; border: 1px solid #ccc; color: #fff; position: relative; } .gradetable .grademarks { position: absolute; bottom: -18px; padding: 5px 0 0 0; left: -1px; right: 0; border-left: 1px dotted #ccc; font-size: 11px; color: #444; text-align: center; z-index: 10; } .gradetable .progress { background-color: #ddd; height: 21px; } .gradetable .bold { color: #000; }","",function(opts){var _this;this.isTeacher=!1,this.admin=!1,this.exam=!1,this.answersaving=!1,this.showFeedback=!1,this.on("mount",function(){return this.loaded=!1,window.location.pathname.match("assignedwork")?(this.preview=!0,this.rootUrl="/vle/assignedwork/"):(this.preview=!1,this.rootUrl="/vle/"),this.currentAnswer=null,this.questionlist=[],this.percentAnswered=0,this.questionPercentAnswered=0,this.currentImage=null,this.marks=0,this.answers=[],this.showanswers=!1,this.activeVideoOMM=!1,this.activeVideo=null,this.complete=null,this.answerTimes={},this.timerOffset=new Date,this.selectedVideo=null,this.nextButton="Next Question",this.completed=!1,this.testanswers={},this.timer=null,this.timedlock=!1,this.unsaved=!0,this.activeVideoOMM=!1,this.selectedVideo=null,this.clips=[],this.url=this.rootUrl+"assignment/"+opts.params.assigned_id+"/",opts.stores.one("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.on("video_changed",this.handleVideoChanged),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync"),setTimeout((_this=this,function(){var ref,ref1;if(_this.exam=!!((null!=(ref=opts.params)&&null!=(ref1=ref[0])?ref1.match("exam"):void 0)||window.location.pathname.match(/\/exam\//)),_this.exam?(_this.url=_this.rootUrl+"exam/"+opts.params.assigned_id+"/",opts.stores.one("assignedwork_exam_changed",_this.handleExamChange),opts.stores.trigger("assignedwork_get_exam_questions",opts.params.assigned_id)):_this.preview?opts.stores.trigger("assignedwork_get",opts.params.assigned_id):(opts.stores.on("answer_assignment",_this.handleAnswers),opts.stores.trigger("answer_get_assignment",opts.params.assigned_id)),!opts.params.question_id&&!_this.exam)return opts.stores.trigger("feedback_get",opts.params.assigned_id,-1)}));var _this}),this.on("unmount",function(){return this.saveLastTime(),this.answersaving_timeout&&clearTimeout(this.answersaving_timeout),opts.stores.off("answer_assignment",this.handleAnswers),opts.stores.off("video_changed",this.handleVideoChanged),opts.stores.off("session_changed",this.sessionUpdated)}),this.on("update",function(){var allpapers_pecent,drawings,examGrade,gradeLabels,paperGrade,ref,ref1,ref10,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,_this;return this.hasDrawing=!1,this.assigned_id=opts.params.assigned_id,this.selectedQuestion!==opts.params.question_id&&opts.params.assigned_id&&opts.params.question_id&&!this.exam&&opts.stores.trigger("feedback_get",opts.params.assigned_id,opts.params.question_id),opts.params.question_id?(this.selectedQuestion!==opts.params.question_id&&this.assignment&&setTimeout((_this=this,function(){return _this.updateShowComplete(),_this.update()})),this.selectedQuestion=opts.params.question_id,this.selectedImage="/images/questions/question"+this.selectedQuestion+".png"):(this.selectedQuestion=null,this.selectedImage=null),(null!=(ref=this.assignment)?ref.questions:void 0)&&(this.assignment.questions.length-1===this.questionlist.indexOf(+this.selectedQuestion)?this.nextButton="homework"===this.assignment.type||"exam"===this.assignment.type||this.completed||this.assignment.lock_at<new Date?"Finish!":"Submit Test":this.nextButton="Next Question"),(null!=(ref1=this.assignment)?ref1.questions:void 0)&&(this.question=this.assignment.questions.filter(function(_this){return function(question,idx){return+_this.selectedQuestion==+question.id}}(this))[0],(null!=(ref2=this.question)?ref2.marks:void 0)&&(this.questionTotalMarks=this.question.marks),this.assignment.questions.forEach(function(_this){return function(question,index){if(+_this.selectedQuestion==+question.id)return _this.active=index}}(this)),0<(null!=(drawings=null!=(ref3=this.assignment.questions[this.active])?ref3.answer.filter(function(a){return"drawing"===(null!=a?a.type:void 0)}):void 0)?drawings.length:void 0)&&(this.hasDrawing=!0),(null!=(ref4=this.question)?ref4.video_id:void 0)?this.activeVideo=this.videoById(this.question.video_id):this.activeVideo=null),"exam"===(null!=(ref5=this.assignment)?ref5.type:void 0)&&((null!=(ref6=this.allpapers)?ref6.marks:void 0)&&(null!=(ref7=this.allpapers)?ref7.total_marks:void 0)&&(allpapers_pecent=this.allpapers.marks/this.allpapers.total_marks*100),gradeLabels=this.getGrades(),this.marks&&(paperGrade=this.getGrade(this.marks,this.assignment.exam.grades),examGrade=this.getGrade(this.allpapers.marks,this.assignment.allgrades),this.isSeries&&this.examGrade&&examGrade&&gradeLabels.indexOf(examGrade)>gradeLabels.indexOf(this.examGrade)?this.showNewGrade("Exam Series: Grade "+examGrade):this.paperGrade&&paperGrade&&gradeLabels.indexOf(paperGrade)>gradeLabels.indexOf(this.paperGrade)&&this.showNewGrade("Exam Paper: Grade "+paperGrade),this.paperGrade=paperGrade,this.examGrade=examGrade),this.allpapers.percent=allpapers_pecent),this.hasAnswerImage=0<(null!=(ref8=null!=(ref9=this.question)&&null!=(ref10=ref9.answer)?ref10.filter(function(a){return null!=a?a.useimg:void 0}):void 0)?ref8.length:void 0),this.showAnswerImage=this.showanswers&&this.hasAnswerImage,this.updateAnswersFromSaved(),this.selectedQuestion||this.tags.studentmodal.tags.examtimer.pause(),this.updateAnswerTimes(),this.overviewButton=this.assignment?this.assignment.lock_at?"test"===this.assignment.type&&!this.completed&&this.assignment.lock_at>new Date?"Begin Test":"homework"===this.assignment.type&&this.assignment.lock_at>new Date?"Begin Homework":"exam"===this.assignment.type&&this.assignment.lock_at>new Date?"Begin Exam":"View Your Answers":"Preview Questions":"Loading..."}),this.setFeedback=(_this=this,function(idx){var index,ref,ref1;if((index=idx-1)&&null!=(null!=(ref=_this.assignment)&&null!=(ref1=ref.questions)?ref1[index]:void 0))return _this.assignment.questions[index].feedback_unread=!1}),this.getNextQuestion=function(_this){return function(){var question_id;if(!_this.preventConfirm)return"/vle/",(question_id=_this.questionlist[_this.questionlist.indexOf(+_this.selectedQuestion)+1])?(_this.url+question_id,_this.selectedQuestion=question_id,opts.page(_this.url+_this.selectedQuestion),_this.update()):"homework"===_this.assignment.type||"exam"===_this.assignment.type||_this.completed?_this.handleClose():_this.preventConfirm?void 0:_this.tags.confirm.show()}}(this),this.firstQuestion=function(_this){return function(e){return _this.handleTabClick(_this.assignment.questions[0].id,e)}}(this),this.showvideo=function(_this){return function(e){return _this.selectedVideo=e.item,_this.vimeoid=e.item.url,_this.tags.videomodal.show(),_this.update()}}(this),this.showomm=function(_this){return function(e){return _this.selectedVideo=e.item,_this.vimeoid=e.item.omm,_this.tags.videomodal.show(),_this.update()}}(this),this.handleVideoClose=function(_this){return function(){return _this.tags.videomodal.hide()}}(this),this.handleClose=function(){return setTimeout(function(){return opts.page("/vle/")},500)},this.handleTabClick=function(_this){return function(id,index,e){return _this.setFeedback(index),("homework"!==_this.assignment.type&&"exam"!==_this.assignment.type&&!_this.completed||!1===_this.showFeedback&&!_this.completed)&&(_this.preventConfirm=!0,_this.tags.studentmodal.tags.answer.handleAnswer(),_this.preventConfirm=!1,_this.tags.studentmodal.tags.timer.startTimer(),_this.unsaved&&_this.selectedQuestion&&setTimeout(function(){return _this.assignment.lock_at>new Date&&opts.stores.trigger("answer_save",{answer:[],attempt_no:0,question_id:_this.selectedQuestion,correct:!1,assignedwork_id:opts.params.assigned_id}),_this.unsaved=!1},10)),("homework"===_this.assignment.type&&_this.showFeedback||"exam"===_this.assignment.type&&_this.showFeedback)&&_this.saveLastTime(),_this.selectedQuestion=id||e.item.v.id,_this.active=index,opts.page(_this.url+_this.selectedQuestion),_this.updateShowComplete(),_this.showComplete?_this.tags.studentmodal.tags.examtimer.pause():(_this.timerOffset=new Date,_this.tags.studentmodal.tags.examtimer.unpause()),_this.update()}}(this),this.saveLastTime=function(_this){return function(){var ref,ref1,ref2,ref3,ref4,ref5;if(!_this.isTeacher&&_this.answerTimes[_this.selectedQuestion]&&!(null!=(ref=_this.currentAnswer)&&null!=(ref1=ref.answer)?ref1.correct:void 0)&&100!==_this.questionPercentAnswered&&_this.assignment.lock_at>new Date)return opts.stores.trigger("answer_save",{id:null!=(ref2=_this.currentAnswer)&&null!=(ref3=ref2.answer)?ref3.id:void 0,answer:(null!=(ref4=_this.currentAnswer)&&null!=(ref5=ref4.answer)?ref5.answer:void 0)||[],question_id:_this.selectedQuestion,assignedwork_id:_this.assigned_id,timeused:_this.answerTimes[_this.selectedQuestion]})}}(this),this.updateAnswerTimes=function(_this){return function(){var base,name;if(_this.selectedQuestion&&_this.answerTimes&&!_this.updateAnswerTimesRunning&&(null==(base=_this.answerTimes)[name=_this.selectedQuestion]&&(base[name]=0),_this.answerTimes[_this.selectedQuestion]+=Math.round((new Date).getTime()/1e3-_this.timerOffset.getTime()/1e3)),_this.timerOffset=new Date,!_this.updateAnswerTimesRunning)return _this.updateAnswerTimesRunning=!0,setTimeout(function(){return _this.updateAnswerTimesRunning=!1,_this.updateAnswerTimes()},1e3)}}(this),this.updateAnswersFromSaved=function(_this){return function(){var ref;if(null!=(ref=_this.answers)?ref.length:void 0)return null!=_this.selectedQuestion&&(_this.currentAnswer={answer:_this.answers.filter(function(answer){return null!=answer.question_id&&+answer.question_id==+_this.selectedQuestion})[0]}),_this.updateMarks()}}(this),this.testComplete=function(_this){return function(){var answer,firstQuestion,key,now,ref;for(key in firstQuestion=!0,ref=_this.testanswers)answer=ref[key],firstQuestion&&(firstQuestion=!1,now=new Date,_this.testanswers[key].created_at=new Date(now.getFullYear(),now.getMonth(),now.getDate(),0,0,0)),opts.stores.trigger("answer_save",answer);return setTimeout(function(){return _this.handleClose()},1e3)}}(this),this.handleTimeExpired=function(_this){return function(){return opts.stores.trigger("toaster_add",{title:"Time Up!",type:"error",message:"Your time is up, your work has been automatically submitted"}),_this.blurAll(),_this.update(),"test"!==_this.assignment.type&&opts.stores.trigger("answer_save",{assignedwork_id:+opts.params.assigned_id,question_id:0,timeused:1e3}),_this.preventConfirm=!0,_this.tags.studentmodal.tags.answer.handleAnswer(),_this.preventConfirm=!1,setTimeout(function(){return _this.testComplete()},1e3)}}(this),this.testCompleteCancel=function(_this){return function(){return _this.tags.confirm.hide()}}(this),this.blurAll=function(){return[].slice.call(document.querySelectorAll("input,textarea")).forEach(function(node){return node.blur()})},this.showDescription=function(_this){return function(){return _this.saveLastTime(),_this.preventConfirm=!0,"homework"===_this.assignment.type||"exam"===_this.assignment.type||_this.completed||_this.tags.studentmodal.tags.answer.handleAnswer(),_this.preventConfirm=!1,_this.selectedQuestion=null,opts.page(_this.url),opts.stores.trigger("feedback_get",opts.params.assigned_id,-1),_this.update()}}(this),this.handleAnswers=function(_this){return function(answers){var ref,ref1,timeStarted;return _this.answers=answers,(_this.timeUsed=0)<_this.answers.length&&((timeStarted=null!=(ref=_this.answers.sort(function(a,b){return a.created_at-b.created_at}))&&null!=(ref1=ref[0])?ref1.created_at:void 0)&&(_this.timeUsed=Math.round(((new Date).getTime()-timeStarted)/1e3)),_this.answerTimes={},_this.timespent=_this.answers.reduce(function(a,b){return _this.answerTimes[b.question_id]=b.timeused||0,+a+ +b.timeused||0},0)),opts.stores.trigger("assignedwork_get",opts.params.assigned_id)}}(this),this.handleExamChange=function(_this){return function(exam){return _this.assignedwork={title:exam.session+" "+exam.year+" "+exam.name,assigned_at:new Date,type:"exam",exam_id:exam.id,exam:exam,questions:exam.questions,description:exam.description,link_ids:[],totalMarks:exam.marks,allgrades:exam.grades,allpapers:{marks:0,total_marks:exam.marks}},_this.opts.stores.trigger("assignedwork_set",_this.assignedwork),_this.update()}}(this),this.handleAssignedWorkChange=function(_this){return function(assignedwork){var ref,ref1,ref2,ref3;if(_this.showFeedback=("homework"===assignedwork.type||"exam"===assignedwork.type||!assignedwork.type)&&(!assignedwork.hidemarks||assignedwork.due_at<new Date),_this.loaded=!0,_this.isSeries=null!=(ref=assignedwork.link_ids)?ref.length:void 0,assignedwork)return assignedwork.type||(assignedwork.type="homework"),_this.duration=0,_this.questionlist=[],assignedwork.questions&&0<assignedwork.questions.length&&(_this.duration=assignedwork.timelimit?60*assignedwork.timelimit:60*assignedwork.questions.map(function(q){return q.duration}).reduce(function(a,b){return+a+ +b}),_this.questionlist=assignedwork.questions.map(function(q){return q.id})),_this.assignment=assignedwork,(_this.timeUsed>_this.duration||_this.assignment.lock_at<new Date)&&"test"===_this.assignment.type?_this.completed=!0:(_this.completed=!1,_this.duration=_this.duration-_this.timeUsed),"homework"===_this.assignment.type||"exam"===_this.assignment.type||null==_this.selectedQuestion||_this.completed||(_this.update(),_this.tags.studentmodal.tags.timer.startTimer()),"exam"===assignedwork.type&&(_this.exam_calculator=null!=(ref1=assignedwork.exam)?ref1.calculator:void 0,_this.allpapers={marks:+(null!=(ref2=assignedwork.allpapers)?ref2.marks:void 0)||0,total_marks:(null!=(ref3=assignedwork.allpapers)?ref3.total_marks:void 0)||0}),opts.stores.trigger("video_sync"),_this.update(),_this.updateShowComplete(),_this.update(),assignedwork.timelimit&&"test"!==_this.assignment.type?(_this.timelimit=60*assignedwork.timelimit-(_this.timespent||0),0<_this.timelimit&&assignedwork.lock_at>new Date?(_this.timerOffset=new Date,_this.tags.studentmodal.tags.examtimer.startTimer(_this.timelimit)):(_this.completed=!0,_this.timedlock=!0),_this.update()):void 0}}(this),this.handleVideoChanged=function(_this){return function(allVideos){var k,ref;for(k in _this.allVideos=allVideos,_this.clips=[],null!=(ref=_this.assignment)?ref.playlist:void 0)_this.clips.push(_this.getById(_this.allVideos,k));return _this.update()}}(this),this.sessionUpdated=function(_this){return function(data){var ref;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],-1<_this.groups.indexOf("Administrators")&&(_this.admin=!0),(-1<_this.groups.indexOf("Teachers")||-1<_this.groups.indexOf("School Admins"))&&(_this.isTeacher=!0),_this.update(),_this.update()}}(this),this.isCorrect=function(_this){return function(question){var ref;if("test"===_this.assignment.type&&_this.assignment.due_at<new Date&&_this.completed||("homework"===_this.assignment.type||"exam"===_this.assignment.type)&&_this.showFeedback)return question.marks===(null!=(ref=_this.answers.filter(function(answer){return+answer.question_id==+question.id})[0])?ref.marks:void 0)||question.marks===_this.answers.filter(function(answer){return+answer.question_id==+question.id})[0].answer.map(function(a){return+a.marks}).reduce(function(a,b){return a+b},0)}}(this),this.updateMarks=function(){var ref,ref1;if((null!=(ref=this.answers)?ref.length:void 0)&&(null!=(ref1=this.assignment)?ref1.totalMarks:void 0))return this.marks=this.calcTotalMarks(),this.questionMarks=this.calcMarks(),this.percentAnswered=this.marks/this.assignment.totalMarks*100,this.questionPercentAnswered=this.questionMarks/this.questionTotalMarks*100,this.update(),this.update()},this.disableSave=function(_this){return function(){return _this.update({answersaving:!0}),_this.answersaving_timeout=setTimeout(function(){return _this.update({answersaving:!1})},5e3)}}(this),this.enableSave=function(_this){return function(){return _this.answersaving_timeout&&clearTimeout(_this.answersaving_timeout),_this.answersaving_timeout=setTimeout(function(){return _this.update({answersaving:!1})},1e3)}}(this),this.handleSave=function(_this){return function(answer){if(answer&&(!_this.completed||"test"!==_this.assignment.type))return answer.assignedwork_id=opts.params.assigned_id,_this.preview?(_this.disableSave(),opts.stores.one("log_saved",_this.handleSaved),opts.stores.trigger("log_save",Object.assign({},answer,{type:"practice_marks",video_id:_this.question.video_id,question_id:answer.question_id})),opts.stores.one("log_saveed",_this.handleSaved)):"homework"===_this.assignment.type||"test"===_this.assignment.type||"exam"===_this.assignment.type?(_this.disableSave(),opts.stores.one("answer_saved",_this.handleSaved),answer.timeused=_this.answerTimes[answer.question_id],opts.stores.trigger("answer_save",answer)):_this.testanswers[answer.question_id]=answer}}(this),this.handleSaved=function(_this){return function(answer){var i,key,len,ref,row,total_without_this,updated;if(_this.enableSave(),"exam"===_this.assignment.type&&null!=_this.allpapers&&(total_without_this=_this.allpapers.marks-_this.marks),null!=answer){for(updated=!1,key=i=0,len=(ref=_this.answers).length;i<len;key=++i)row=ref[key],(answer.id&&answer.id===row.id||answer.question_id===row.question_id)&&(_this.answers[key]=answer,updated=!0);updated||_this.answers.push(answer)}if(_this.updateMarks(),"exam"===_this.assignment.type&&null!=_this.allpapers)return _this.allpapers.marks=total_without_this+_this.marks}}(this),this.videoById=function(_this){return function(id){return _this.allVideos?_this.getById(_this.allVideos,id):null}}(this),this.getById=function(coll,id){return coll.filter(function(row){return+row.id==+id})[0]},this.toggleOMM=function(_this){return function(){return _this.activeVideoOMM=!_this.activeVideoOMM,_this.update()}}(this),this.calcMarks=function(_this){return function(){var answer,ref,ref1;return(answer=null!=(ref=_this.currentAnswer)&&null!=(ref1=ref.answer)?ref1.answer:void 0)?answer.map(function(subanswer){return(null!=subanswer?subanswer.marks:void 0)||0}).reduce(function(a,b){return+a+ +b},0):0}}(this),this.calcTotalMarks=function(_this){return function(){return _this.answers.map(function(answer){var ref;return(null!=answer&&null!=(ref=answer.answer)?ref.map:void 0)?answer.answer.map(function(subanswer){return(null!=subanswer?subanswer.marks:void 0)||0}).reduce(function(a,b){return+a+ +b},0):0}).reduce(function(a,b){return+a+ +b},0)}}(this),this.downloadPDF=function(){return window.open("/duocms/api/assignedwork/"+opts.params.assigned_id+"/pdf")},this.handleShowAnswers=function(_this){return function(){return _this.showanswers=!_this.showanswers,_this.hasAnswerImage?_this.showAnswerImage=_this.showanswers:_this.showAnswerImage=!1,_this.update()}}(this),this.getGrades=function(_this){return function(){var is_wjec,ref,ref1,ref2,tier;return is_wjec=null!=(null!=(ref=_this.assignment.exam)&&null!=(ref1=ref.exam_board)?ref1.match(/wjec/i):void 0),tier=null!=(ref2=_this.assignment.exam)?ref2.tier:void 0,is_wjec?"Higher"===tier?["U","C","B","A","A*"]:"Intermediate"===tier?["U","E","D","C","B"]:["U","G","F","E","D"]:"Higher"===tier?["U","3","4","5","6","7","8","9"]:["U","1","2","3","4","5"]}}(this),this.gradeType=function(_this){return function(percent){return"foundation"===_this.assignment.exam.tier.toLowerCase()?+percent<+_this.assignment.exam.grades[0]?"danger":+percent<+_this.assignment.exam.grades[3]?"warning":"success":+percent<_this.assignment.exam.grades[0]?"danger":+percent<_this.assignment.exam.grades[1]?"warning":"success"}}(this),this.getGrade=function(_this){return function(mark,grades){var gradeLabels,i,idx,len;for(gradeLabels=_this.getGrades(),idx=i=0,len=grades.length;i<len;idx=++i)if(+mark<+grades[idx])return gradeLabels[idx-1];return gradeLabels[gradeLabels.length-1]}}(this),this.convertPercent=function(_this){return function(percent,totalMarks,isSeries){var bar_perc,err,grade,gradeMarks,grade_perc,marks,next_grade_perc,perc_per_grade;if(!_this.assignment)return 0;gradeMarks=isSeries&&_this.assignment.allgrades?_this.assignment.allgrades:_this.assignment.exam.grades;try{0,perc_per_grade=100/gradeMarks.length,grade=0,marks=Math.round(totalMarks*(percent/100)),gradeMarks.forEach(function(grade_mark,idx){if(grade_mark<=+marks)return grade=idx}),grade_perc=100/(totalMarks/gradeMarks[grade]),next_grade_perc=null!=gradeMarks[grade+1]?100/(totalMarks/gradeMarks[grade+1]):100,bar_perc=grade*perc_per_grade+(percent-grade_perc||1)*(perc_per_grade/(next_grade_perc-grade_perc||1))}catch(error){err=error,console.log(err)}return bar_perc}}(this),this.showNewGrade=function(_this){return function(message){if(_this.showFeedback)return _this.congrats._tag.show(message)}}(this),this.updateShowComplete=function(_this){return function(){return _this.assignment.hidemarks&&_this.assignment.due_at>new Date?_this.showComplete=!1:"test"===_this.assignment.type?_this.showComplete=!1:_this.questionPercentAnswered<100?_this.showComplete=!1:_this.assignment.lock_at<new Date?_this.showComplete=!1:_this.showComplete=!0}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("student-alert",'<alert each="{alerts}" bsstyle="{style}" no-reorder if="{!completed &amp;&amp; days&lt;7}"><a href="/vle/assignment/{id}" class="btn btn-primary btn-sm pull-right btn-{style}">click here to complete</a><span class="fa fa-file-text-o fa-2x pull-left"></span> <p style="margin-top:5px"><strong if="{!allanswered &amp;&amp; days &gt; 0}">"{title}" is due <span if="{days &gt; 0}">very soon.</span></strong><strong if="{allanswered || days &lt; 1}">You still have <span if="{days &gt; 0}">{days} {days<2 && days>0?\'day\':\'days\'} </span><span if="{minutes}">{minutes} {minutes<2 && minutes>0?\'minute\':\'minutes\'} </span><span if="{days &lt; 1 &amp;&amp; !minutes}">time </span><span> to improve your score for "{title}".</span></strong></p> </alert> <alert each="{alerts}" bsstyle="success" no-reorder if="{completed &amp;&amp; (new Date() - finished) &lt; 5*60*1000}" onclose="{handleClose.bind(null,id)}"><span class="fa fa-check-square fa-2x pull-left"></span> <p style="margin-top:5px"> <strong>"{title}" has now been submitted.</strong></p> </alert>',"","",function(opts){var _this;this.updater=null,this.on("mount",function(){var dismissed,_this;return dismissed=window.localStorage.dismissedUserAlerts,this.closed={},dismissed&&(this.closed=JSON.parse(dismissed)),this.updater=setInterval((_this=this,function(){return _this.update()}),2e3)}),this.on("unmount",function(){if(this.updater)return clearInterval(this.updater)}),this.on("update",function(){var ref,_this;if(this.alerts=[],null!=(null!=(ref=opts.assignments)?ref.length:void 0))return this.alerts=opts.assignments.map(function(assignment){var ref1;return"test"===assignment.type&&assignment.started?(assignment.until=assignment.started.getTime()-(new Date).getTime(),assignment.minutes=0+Math.round(assignment.until/6e4)+(assignment.timelimit?assignment.timelimit:assignment.duration)):assignment.until=(null!=(ref1=assignment.due_at)?ref1.getTime():void 0)-(new Date).getTime(),assignment.days=0+Math.ceil(assignment.until/864e5),assignment.completed||(assignment.completed=!1),"test"===assignment.type&&(new Date-assignment.started)/6e4>=(assignment.timelimit?assignment.timelimit:assignment.duration)&&(assignment.completed=!0),100===assignment.student_percent&&"homework"===assignment.type&&(assignment.completed=!0),assignment.lock_at<new Date&&(assignment.completed=!0),assignment.style=function(){switch(!1){case!(assignment.days<2):return"danger";case!(assignment.days<3):return"warning";default:return"info"}}(),assignment}).filter((_this=this,function(assignment){var ref1;return 0<=assignment.until&&(!_this.closed[opts.userid]||-1===(null!=(ref1=_this.closed[opts.userid])?ref1.indexOf(assignment.id):void 0))})),this.alerts.sort(function(a,b){return a.until-b.until})}),this.handleClose=(_this=this,function(assignment_id){return _this.closed[opts.userid]||(_this.closed[opts.userid]=[]),-1===_this.closed[opts.userid].indexOf(assignment_id)&&_this.closed[opts.userid].push(assignment_id),window.localStorage.dismissedUserAlerts=JSON.stringify(_this.closed)})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("assignedmodalform",'<div show="{loading}"> <p class="alert alert-info">Loading Assigned Work <span class="fa fa-refresh fa-spin"></span></p> </div> <div hide="{loading}"> <div class="col-sm-6"> <div class="form-horizontal"> <forminput id="title" onupdate="{handleChange}" value="{assignedwork.title}" label="Title"></forminput> <formtextarea id="description" onupdate="{handleChange}" value="{assignedwork.description}" label="Notes" rows="{opts.removeclip ? 8 : 3}" _readonly="{assignedwork.type==\'exam\'}"></formtextarea> <div if="{opts.removeclip==false}"> <formselect id="type" onupdate="{handleChange}" hide="{assignedwork.type==&quot;exam&quot;}" value="{assignedwork.type}" label="Assignment Type" options="{[{label:\'Homework\',value:\'homework\'},{label:\'Test\',value:\'test\'}]}"></formselect> <formcheckbox id="intervention" onupdate="{handleChange}" value="{assignedwork.intervention}" label="Intervention"></formcheckbox> <multiselect id="classrooms" onupdate="{handleChange}" value="{assignedwork.classrooms}" label="Class" options="{classes}" default="Please Select"></multiselect> <multiselect id="students" if="{assignedwork.intervention}" onupdate="{handleChange}" value="{assignedwork.students}" label="Students" options="{allstudents}" default="All"></multiselect> <formdatetime id="assigned_at" onupdate="{handleChange}" width1="{6}" width2="{6}" value="{assignedwork.assigned_at}" placeholder="dd/mm/yyyy" dateformat="dd/MM/yyyy" label="Assigned Date"></formdatetime> <formdatetime id="due_at" onupdate="{handleChange}" width1="{6}" width2="{6}" value="{assignedwork.due_at}" placeholder="dd/mm/yyyy" dateformat="dd/MM/yyyy" label="Due Date"></formdatetime> <formdatetime id="lock_at" onupdate="{handleChange}" width1="{6}" width2="{6}" value="{assignedwork.lock_at}" placeholder="dd/mm/yyyy" dateformat="dd/MM/yyyy" label="Lock Date"></formdatetime> <forminput id="timelimit" label="{assignedwork.type!=\'test\' ? \'Time Limit\' : \'Recommended Time\'}" onupdate="{handleChange}" value="{assignedwork.timelimit || &quot;&quot;}" addonafter="minutes" placeholder="{assignedwork.type!=\'test\' ? \'Leave blank to have no time limit\' : total.duration}"></forminput> <formselect id="multi_attempts" label="Multiple Choice Attempts" onupdate="{handleChange}" value="{assignedwork.multi_attempts}" options="{[{label:\'1\',value:\'1\'},{label:\'Unlimited\',value:\'0\'}]}"></formselect> <formcheckbox id="hidemarks" label="Hide marks until due date" onupdate="{handleChange}" show="{assignedwork.type!=\'test\'}" value="{assignedwork.hidemarks}"></formcheckbox> <formcheckbox id="studentfeedback" label="Allow Students to Initiate Feedback" onupdate="{handleChange}" show="{assignedwork.type!=\'test\'}" value="{assignedwork.studentfeedback}"></formcheckbox> </div> </div> </div> <div class="col-sm-6"> <div hide="{assignedwork.type==&quot;exam&quot;}" class="form-horizontal"> <div class="form-group"> <label class="control-label col-sm-2">Clips</label> <div class="col-sm-10"> <grid height="{opts.removeclip ? 200 : 265}" style="margin:-14px 0 10px 0" columns="{gridColumns}" onselect="{handleChooseClip}" data="{cliplist}"></grid> <div class="pull-right {total.questions&gt;100 ? \'bg-danger text-danger\' : \'\'}">{total.questions} questions, {total.marks} marks, {total.duration} minutes</div> <div if="{opts.removeclip}" class="btn-toolbar"> <confirm __disabled="{selectedClip==null}" placement="top" onconfirm="{removeClip}" class="btn btn-default btn-sm">Remove Clip</confirm> </div> </div> </div> </div> <div show="{assignedwork.type==&quot;exam&quot;}" class="form-horizontal"> <formstatic label="Exam Board" value="{assignedwork.exam.exam_board}"></formstatic> <formstatic label="Tier" value="{assignedwork.exam.tier}"></formstatic> <formstatic label="Year" value="{assignedwork.exam.year}"></formstatic> <formstatic label="Session" value="{assignedwork.exam.session}"></formstatic> <formstatic label="Questions" value="{assignedwork.exam.question_total || assignedwork.exam.questions.length}"></formstatic> <formstatic label="Marks" value="{assignedwork.marks}"></formstatic> <div show="{related_exams.length}" class="alert alert-info"> <div class="row"> <div class="formgroup"> <label class="control-label col-sm-4">Link To</label> <div class="col-sm-8"> <div each="{related_exams}" class="checkbox col-xs-12"> <label> <input type="checkbox" __checked="{assignedwork.link_ids &amp;&amp; assignedwork.link_ids.indexOf(id)&gt;-1}" onchange="{setLinkId}">{title} due - <dateformat date="{due_at}" format="dd/MM/yyyy"></dateformat> </label> </div> </div> </div> </div> </div> </div> </div> </div>',"","",function(opts){var _this;this.gridColumns=[{field:"clip_id",label:"Id",width:"10%"},{field:"name",label:"Clip Name",width:"60%"},{field:"duration",label:"Time",width:"15%"},{field:"count",label:"No. Q's",width:"15%"}],this.examGridColumns=[{field:"name",label:"Clip Name",width:"60%"},{field:"duration",label:"Time",width:"15%"},{field:"count",label:"No. Q's",width:"15%"}],this.id=null,this.tab=0,this.assigning=!1,this.total={duration:0,questions:0,marks:0},this.on("mount",function(){return this.loading=!0,"new"===opts.assignedid&&(this.loading=!1),this.cliplist=[],this.related_exams=[],this.assignedwork=null,opts.stores.on("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.on("assignedwork_exam_changed",this.handleExamLoad),opts.stores.on("assignedwork_saved",this.handleSaved),opts.stores.on("classes_changed",this.handleClassesChanged),opts.stores.on("video_changed",this.handleVideoChanged),opts.stores.on("class_changed",this.handleClassStoreChange),opts.stores.trigger("video_sync"),opts.stores.trigger("class_sync")}),this.on("unmount",function(){return opts.stores.off("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.off("assignedwork_saved",this.handleSaved),opts.stores.off("classes_changed",this.handleClassesChanged),opts.stores.off("video_changed",this.handleVideoChanged),opts.stores.off("class_changed",this.handleClassStoreChange),opts.stores.off("assignedwork_exam_changed",this.handleExamLoad)}),this.on("update",function(){var ref,ref1,ref2,_this;if((null!=(ref=this.assignedwork)?ref.classrooms:void 0)&&(null!=(ref1=this.assignedwork.exam)&&null!=(ref2=ref1.related)?ref2.length:void 0))return this.related_exams=this.assignedwork.exam.related.filter((_this=this,function(e){return e.classrooms.filter(function(cid){return-1<_this.assignedwork.classrooms.indexOf(+cid)}).length}))}),this.handleClassesChanged=(_this=this,function(classes){return _this.classes=classes.map(function(classs){return{label:classs.name,value:classs.id}}),_this.update()}),this.handleVideoChanged=function(_this){return function(allVideos){return _this.allVideos=allVideos,_this.loading=!1,_this.assignedwork&&_this.assignedwork.id===opts.assignedid||"new"===opts.assignedid||opts.stores.trigger("assignedwork_get",opts.assignedid),opts.examid&&(_this.loading=!0,opts.stores.trigger("assignedwork_get_exam",opts.examid)),_this.update()}}(this),this.handleExamLoad=function(_this){return function(exam){return _this.exam=exam,_this.loading=!1,_this.assignedwork={title:_this.exam.session+" "+_this.exam.year+" "+_this.exam.name,assigned_at:new Date,type:"exam",description:_this.exam.description,exam_id:_this.exam.id,exam:_this.exam},_this.opts.stores.trigger("assignedwork_set",_this.assignedwork),_this.update()}}(this),this.modeSwitch=function(mode){return opts.page("/vle/assignedwork/"+opts.assignedid+"/"+mode.opts.path)},this.handleAssignedWorkChange=function(_this){return function(assignedwork){var clip,clips,key,ref,ref1,val;if(_this.loading=!1,assignedwork&&_this.allVideos){for(key in _this.assignedwork=assignedwork,opts.assigning&&(_this.assignedwork.id=null,_this.assignedwork.type||(_this.assignedwork.type="homework"),(_this.assignedwork.assigned_by=null)==_this.assignedwork.assigned_at&&(_this.assignedwork.assigned_at=new Date((new Date).setHours(8,0,0,0)))),_this.cliplist=[],_this.total={duration:0,questions:0,marks:0},clips=(null!=(ref=_this.assignedwork)?ref.playlist:void 0)&&"exam"!==_this.assignedwork.type?_this.assignedwork.playlist:{})val=clips[key],(clip=_this.getById(_this.allVideos,key))&&(clip.duration=_this.durationByVideoId(_this.assignedwork.questions,clip.id),clip.marks=_this.marksByVideoId(_this.assignedwork.questions,clip.id),clip.count=val.length,_this.total.duration+=clip.duration,_this.total.marks+=clip.marks,_this.total.questions+=clip.count,0<val.length&&_this.cliplist.push(clip));return _this.assignedwork.duration=_this.total.duration,_this.assignedwork.marks="exam"!==_this.assignedwork.type?_this.total.marks:(null!=(ref1=_this.assignedwork.exam)?ref1.marks:void 0)||_this.assignedwork.marks,_this.savedPlaylist||(_this.savedPlaylist=assignedwork.playlist),_this.playlist=(null!=assignedwork?assignedwork.playlist:void 0)?assignedwork.playlist:{},!_this.allstudents&&null!=assignedwork.classrooms&&assignedwork.intervention&&opts.stores.trigger("class_get",assignedwork.classrooms.join(",")),_this.update()}}}(this),this.handleChange=function(_this){return function(e){var oneminplus,ref;if(e.preventUpdate=!0,864e5,_this.assignedwork||(_this.assignedwork={}),_this.assignedwork[e.name]=e.value,"due_at"===e.name&&(null!=(ref=e.value)?ref.getTime:void 0)&&(new Date(e.value.getTime()+12096e5),oneminplus=new Date(e.value.getTime()+6e4),_this.assignedwork.lock_at||(_this.assignedwork.lock_at=oneminplus),_this.assignedwork.lock_at<=new Date(e.value)&&(_this.assignedwork.lock_at=new Date(e.value.getTime()+6e4))),"lock_at"===e.name&&_this.assignedwork.due_at>=_this.assignedwork.lock_at&&(_this.assignedwork.lock_at=new Date(_this.assignedwork.due_at.getTime()+6e4)),_this.debounce&&clearTimeout(_this.debounce),_this.debounce=setTimeout(function(){return _this.opts.stores.trigger("assignedwork_sync_one",_this.assignedwork),_this.debounce=null},250),"classrooms"===e.name)return opts.stores.trigger("class_get",e.value.join(","))}}(this),this.getById=function(collection,id){return collection.filter(function(row){return+row.id==+id})[0]},this.durationByVideoId=function(qs,id){return qs.filter(function(q){return q.video_id===id}).map(function(q){return q.duration}).reduce(function(a,b){return+a+ +b},0)},this.marksByVideoId=function(qs,id){return qs.filter(function(q){return q.video_id===id}).map(function(q){return q.marks}).reduce(function(a,b){return+a+ +b},0)},this.handleChooseClip=function(_this){return function(item){return _this.selectedClip=item,_this.video=item,opts.stores.trigger("question_sync",_this.video.id),_this.update()}}(this),this.removeClip=function(_this){return function(){if(_this.selectedClip)return opts.stores.trigger("assignedwork_remove_clip",_this.cliplist,_this.selectedClip),_this.selectedClip=null,_this.update()}}(this),this.handleClassStoreChange=function(_this){return function(chosenClass){var ref;return _this.allstudents=[],chosenClass.length?chosenClass.forEach(function(cls){var ref;return null!=(ref=cls.users)?ref.forEach(function(user){return _this.allstudents.push({label:user.first_name.substr(0,1)+" "+user.surname,value:user.id})}):void 0}):null!=(ref=chosenClass.users)&&ref.forEach(function(user){return _this.allstudents.push({label:user.first_name.substr(0,1)+" "+user.surname,value:user.id})}),_this.update()}}(this),this.setLinkId=function(_this){return function(e){var checked,id;return checked=e.target.checked,id=e.item.id,_this.assignedwork.link_ids||(_this.assignedwork.link_ids=[]),_this.assignedwork.link_ids=checked?_this.assignedwork.link_ids.concat(id):_this.assignedwork.link_ids.filter(function(i){return i!==id})}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("timer",'<div if="{timer &amp;&amp; displayDate}" class="col-xs-12"> <dateformat format="Time Remaining h:mm:ss" date="{displayDate}"></dateformat> <progressbar value="{percent}" bsstyle="{percent&gt;10 ? \'success\' : \'danger\'}" striped="{false}" active="{true}"> <dateformat format="time h:mm:ss" date="{parent.displayDate}"></dateformat> </progressbar> </div>',"","",function(opts){var interval,timer;interval=timer=null,this.displayDate=null,this.startTimer=function(){var _this;if(!timer&&opts.duration)return this.timer=timer=opts.duration,this.step=100/this.timer,this.percent=100-this.timer*this.step,interval=setInterval((_this=this,function(){var hours,minutes,seconds,totalSeconds;return _this.timer--,_this.percent=_this.timer*_this.step,_this.percent<=0&&opts.oncomplete&&(opts.oncomplete(),clearInterval(interval)),totalSeconds=_this.timer,hours=Math.floor(totalSeconds/3600),totalSeconds%=3600,minutes=Math.floor(totalSeconds/60),seconds=totalSeconds%60,_this.displayDate=new Date(1970,1,1,hours,minutes,seconds),_this.update()}),1e3)},this.on("unmount",function(){if(interval)return clearInterval(interval)})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("timer-mini",'<dateformat if="{timer &amp;&amp; displayDate}" format="Time Remaining h:mm:ss" date="{displayDate}"></dateformat>',"","",function(opts){var interval,timer,_this;interval=timer=null,this.on("mount",function(){return this.paused=!1}),this.pause=function(){return this.update({paused:!0})},this.unpause=function(){return this.update({paused:!1})},this.startTimer=function(duration){var _this;if(!timer&&(opts.duration||duration))return this.timer=timer=duration||opts.duration,this.step=100/this.timer,this.percent=100-this.timer*this.step,interval=setInterval((_this=this,function(){if(!_this.paused)return _this.timer--,_this.setTime(),_this.percent=_this.timer*_this.step,_this.percent<=0&&opts.oncomplete?(opts.oncomplete(),clearInterval(interval)):void 0}),1e3),this.setTime()},this.setTime=(_this=this,function(){var hours,minutes,seconds,totalSeconds;return totalSeconds=_this.timer,hours=Math.floor(totalSeconds/3600),totalSeconds%=3600,minutes=Math.floor(totalSeconds/60),seconds=totalSeconds%60,_this.displayDate=new Date(1970,1,1,hours,minutes,seconds),_this.update()}),this.on("unmount",function(){if(interval)return clearInterval(interval)})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("completedassignments",'<br> <div class="col-md-7"> <grid columns="{gridColumns}" data="{results}" height="525px" onselect="{handleSelect}" onedit="{handleEdit}"></grid> </div> <div if="{selected &amp;&amp; answers.length&gt;0}" class="col-md-5"> <panel heading="{selected.first_name} {selected.surname}\'s Answers" class="row-md-4"> <nextprev total="{parent.selected.answers.length}" onchange="{parent.questionIndex}"></nextprev> <div class="canvaswrap"> <canvas name="canvas" width="920" height="520" class="canvas"></canvas> <input each="{parent.dinputs}" value="{text}" riot-style="width:{width}px;height:{height}px;top:{y}px;left:{x}px;position:absolute;border:0px;color:red;background:transparent;font-size:12px;text-align:center;"> </div><img riot-src="/images/questions/question{parent.question_id}.png" class="img-responsive img-question"> <ol type="a"> <li each="{parent.answers}" if="{type!=\'drawing\' &amp;&amp; type!=\'input\'}"> <div> <div class="btn">{prefix}</div> <div class="btn btn-default"><span if="{type==\'numerical\' || !type || type==\'text\'}" class="mathquill-embedded-latex">{text}</span></div> <div class="btn">{suffix}</div> </div> </li> </ol> </panel> </div>',"completedassignments nextprev{ position:absolute; top:1px; right:5px; color:white; } completedassignments .canvaswrap{ border:1px solid #ccc; position:absolute; }","",function(opts){var shapes,_this;this.users=[],this.dinputs=[],this.gridColumns=[{field:"first_name",label:"First Name",width:"20%"},{field:"surname",label:"Surname",width:"20%"},{field:"classname",label:"Class",width:"20%"},{field:"year",label:"Yr",width:"10%"},{field:"correct",label:"Correct",width:"15%"},{field:"marks",label:"Marks",width:"15%"}],this.on("mount",function(){return opts.stores.on("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.on("assignedwork_changed_complete",this.handleAssignedCompleteChange),opts.stores.trigger("assignedwork_sync_one",opts.assignedid),window.addEventListener("resize",this.positionAnswer,!0)}),this.on("unmount",function(){return opts.stores.off("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.off("assignedwork_changed_complete",this.handleAssignedCompleteChange),window.removeEventListener("resize",this.positionAnswer)}),this.on("error",function(err){return console.warn(err)}),this.handleAssignedCompleteChange=(_this=this,function(results){return _this.results=results,_this.update()}),this.handleSelect=function(_this){return function(selected){if(_this.selected=selected,_this.questionIndex(0),_this.quesImg=document.querySelector(".img-question"),_this.quesImg)return _this.quesImg.addEventListener("load",_this.positionAnswer)}}(this),this.handleAssignedWorkChange=function(_this){return function(assignment){return _this.questions=assignment.questions,opts.stores.trigger("assignedwork_sync_complete",opts.assignedid)}}(this),this.dragInputs=function(_this){return function(){var quesImg,scale;return quesImg=document.querySelector(".img-question"),scale=quesImg.offsetWidth/570,_this.dinputs=[],_this.questions.forEach(function(question){if(_this.question_id===question.id)return question.answer.forEach(function(answer,answerIndex){var answers;if("input"===answer.type)return _this.dinputs=answer.text,answers=_this.answers[answerIndex].text,_this.dinputs=answer.text.map(function(dinput,i){return{x:dinput.x*scale,y:dinput.y*scale,width:dinput.width*scale,height:dinput.height*scale,text:answers[i]}})})}),_this.update()}}(this),this.questionIndex=function(_this){return function(idx){var ref;return _this.selected.answers.length?(_this.question_id=_this.selected.answers[idx].question_id,_this.answers=_this.selected.answers[idx].answer):_this.answers=[],"drawing"===(null!=(ref=_this.answers[0])?ref.type:void 0)?(_this.update(),_this.canvas=_this.root.querySelector(".canvas"),_this.ctx=_this.canvas.getContext("2d"),_this.ctx.strokeStyle="#FF0000",_this.redraw()):(_this.update(),$(".mathquill-embedded-latex").mathquill("revert"),$(".mathquill-embedded-latex").mathquill())}}(this),this.positionAnswer=function(_this){return function(){var pos,quesImg;if(_this.quesImg.removeEventListener("load",_this.positionAnswer),quesImg=document.querySelector(".img-question"))return pos=quesImg.getBoundingClientRect(),_this.canvas=_this.root.querySelector(".canvaswrap"),_this.canvas.style.top=quesImg.offsetTop+"px",_this.canvas.style.left=quesImg.offsetLeft+"px",_this.canvas.style.width=pos.width+"px",_this.canvas.style.height=pos.height+"px",_this.scale=pos.width/100,_this.redraw(),_this.update()}}(this),this.redraw=function(_this){return function(){var canvas;return canvas=_this.root.querySelector("canvas"),_this.ctx.clearRect(0,0,canvas.width,canvas.height),_this.answers[0].text.forEach(function(shape){return shapes[shape.type](shape)}),_this.dragInputs(),_this.update()}}(this),shapes={rect:function(_this){return function(options){return _this.ctx.beginPath(),_this.ctx.rect(options.x*_this.scale,options.y*_this.scale,options.w*_this.scale,options.h*_this.scale),_this.ctx.stroke()}}(this),circle:function(_this){return function(options){return _this.ctx.beginPath(),_this.ctx.arc(options.x*_this.scale,options.y*_this.scale,options.r*_this.scale,0,2*Math.PI),_this.ctx.stroke()}}(this),arc:function(_this){return function(opts){return _this.ctx.beginPath(),_this.ctx.arc(opts.x*_this.scale,opts.y*_this.scale,opts.r*_this.scale,opts.rad1,opts.rad2),_this.ctx.stroke()}}(this),line:function(_this){return function(options){return _this.ctx.beginPath(),_this.ctx.moveTo(options.x1*_this.scale,options.y1*_this.scale),_this.ctx.lineTo(options.x2*_this.scale,options.y2*_this.scale),_this.ctx.stroke()}}(this)}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("questionpicker",'<div class="col-md-4"> <panel heading="Find a Clip" class="row-md-3"> <clippicker2 all="{parent.allvideos}" onfilter="{parent.handlePickerChange}" stores="{parent.opts.stores}"></clippicker2> </panel> </div> <div class="col-md-4"> <panel name="gridpanel" heading="Choose Clip" class="row-sm-3"> <grid columns="{parent.clipListCols}" activeid="{parent.video.id}" data="{parent.videos}" height="355px" onselect="{parent.handleChooseClip}"> </grid> </panel> </div> <div class="col-md-4"> <panel if="{selectedquestion || video}" heading="Choose Questions" style="position:relative;overflow:visible" class="row-sm-3"> <div class="row"> <nextprev label="Standard" total="{parent.standard_questions.length}" index="{parent.questionIndex}" onchange="{parent.showquestion}"></nextprev> <nextprev label="Difficult" offset="{parent.standard_questions.length}" total="{parent.difficult_questions.length}" index="{parent.questionIndex}" onchange="{parent.showquestion}"></nextprev><a onclick="{parent.showvideo}" class="btn btn-default video {active:!parent.selectedquestion}">video</a> </div><br> <div class="clearfix"></div> <div if="{parent.selectedquestionUrl &amp;&amp; parent.selectedquestion}"><img riot-src="{parent.selectedquestionUrl}" class="img-responsive"> <div style="position:absolute;bottom:1px;left:1px;right:1px;padding:10px 5px 0px 5px;background:#eee" class="btn-toolbar"> <button if="{parent.isQuestionChosen(parent.selectedquestion.id)}" onclick="{parent.toggleQuestion}" class="btn btn-warning"><span class="fa fa-trash"> </span> remove </button> <div if="{!parent.isQuestionChosen(parent.selectedquestion.id)}" class="btn-group"> <button onclick="{parent.toggleQuestion}" class="btn btn-primary"><span class="fa fa-plus"> </span> add</button> <dropdown style="display:inline;position:relative"> <button onclick="{toggle}" class="btn btn-primary dropdown-toggle"><span class="caret"></span><span class="sr-only">Toggle Dropdown</span></button> <ul style="top:32px" class="dropdown-menu"> <li><a href="#" onclick="{parent.parent.add_all_standard_questions}">Add All Standard Questions</a></li> <li><a href="#" onclick="{parent.parent.add_all_difficult_questions}">Add All Difficult Questions</a></li> <li><a href="#" onclick="{parent.parent.add_all_questions}">Add All Questions</a></li> </ul> </dropdown> </div><span class="btn">Duration {parent.selectedquestion.duration} min</span><span class="btn">{parent.selectedquestion.marks} Marks</span><span if="{parent.selectedquestion.total_answers}" class="btn success_rate"> <div title="MathsWatch users success rate" class="fa fa-trophy"><span style="color:#fec600;font-size:10px;top:5px" class="fa fa-star fa-stack-1x"></span></div>{Math.round(parent.selectedquestion.total_correct / parent.selectedquestion.total_answers * 100)}%</span> </div> </div> <vimeoplayer if="{parent.video.url &amp;&amp; !parent.selectedquestion}" vimeoid="{parent.video.url}" videotitle="{parent.video.title}" video="{parent.video}" stores="{parent.opts.stores}"></vimeoplayer> </panel> </div>',"questionpicker nextprev{ float:left; border:1px solid #ccc; margin:-8px 5px 0 5px; } #assignedmodal nextprev .btn-toolbar{ margin:3px 0 0 0; } .video.btn{ margin:-8px 5px 0 0; line-height:45px; }","",function(opts){var _this;this.clipListCols=[{field:"clip_id",label:"Id",width:"15%"},{field:"grade",label:"Grade",width:"15%"},{field:"name",label:"Clip Name",width:"70%"}],this.showdropdown=!1,this.on("mount",function(){return this.questionIndex=0,opts.stores.on("question_changed",this.handleQuestionChanged),opts.stores.on("video_changed",this.handleVideoChanged),opts.stores.on("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.trigger("video_sync")}),this.on("unmount",function(){return opts.stores.off("video_changed",this.handleVideoChanged),opts.stores.off("question_changed",this.handleQuestionChanged),opts.stores.off("assignedwork_changed_one",this.handleAssignedWorkChange)}),this.on("update",function(){var ref;return(null!=(ref=this.selectedquestion)?ref.id:void 0)?this.selectedquestionUrl="/images/questions/question"+this.selectedquestion.id+".png":this.selectedquestionUrl=null}),this.on("error",function(e){return console.warn(e)}),this.handlePickerChange=(_this=this,function(videos){return _this.videos=videos,_this.update()}),this.handleAssignedWorkChange=function(_this){return function(assignedwork){return assignedwork!==_this.assignedwork&&(_this.assignedwork=assignedwork),_this.update()}}(this),this.isQuestionChosen=function(_this){return function(id){var ref;return!(null==(ref=_this.assignedwork)||!ref.questions)&&-1<_this.assignedwork.questions.map(function(question){return question.id}).indexOf(id)}}(this),this.toggleQuestion=function(_this){return function(){return opts.stores.trigger("assignedwork_toggle_question",_this.selectedquestion)}}(this),this.handleVideoChanged=function(_this){return function(allvideos){return _this.allvideos=allvideos.filter(function(vid){return"AS Level"!==vid.qualification&&"GCSE (Legacy)"!==vid.qualification}),_this.update()}}(this),this.handleChooseClip=function(_this){return function(item){return _this.selectedClip=item,_this.video=item,_this.questionIndex=0,opts.stores.trigger("question_sync",_this.video.id),_this.update()}}(this),this.handleQuestionChanged=function(_this){return function(questions){return _this.questions=questions.filter(function(q){return!q.practice}).sort(function(a,b){return a.id+1e13*a.difficulty-(b.id+1e13*b.difficulty)}),_this.standard_questions=_this.questions.filter(function(q){return q.difficulty<2}),_this.difficult_questions=_this.questions.filter(function(q){return 1<q.difficulty}),_this.questionIndex=0,_this.selectedquestion=_this.questions[0]?_this.questions[0]:null,_this.update()}}(this),this.showquestion=function(_this){return function(index){return _this.questionIndex=index,_this.selectedquestion=_this.questions[index],_this.update()}}(this),this.showvideo=function(_this){return function(){return _this.selectedquestion=null}}(this),this.add_all_standard_questions=function(_this){return function(){return opts.stores.trigger("assignedwork_add_questions",_this.standard_questions,_this.video.id)}}(this),this.add_all_difficult_questions=function(_this){return function(){return opts.stores.trigger("assignedwork_add_questions",_this.difficult_questions,_this.video.id)}}(this),this.add_all_questions=function(_this){return function(){return opts.stores.trigger("assignedwork_add_questions",_this.questions,_this.video.id)}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("myworkmodal",'<modal id="assignedmodal" title="Work Assigned" bssize="xl" onclose="{handleClose}" onsave="{handleSave}"> <row class="clearfix"> <assignedmodalform if="{parent.tabindex==0}" stores="{parent.opts.stores}" examid="{parent.exam_id}" assignedid="{parent.assigned_id}" assigning="{parent.assigning}" removeclip="{false}"></assignedmodalform> <completedassignments if="{parent.tabindex==1}" assigning="{parent.assigning}" stores="{parent.opts.stores}" assignedid="{parent.opts.params.assigned_id}"></completedassignments> </row> </modal>',"grid{ margin:-15px 0 5px 0; outline:1px solid #ddd; } .gridheader{ outline:1px solid #ddd; }","",function(opts){var _this;this.on("mount",function(){return opts.stores.on("assignedwork_saved",this.handleClose),opts.stores.on("assignedwork_changed_one",this.handleChange),this.cliplist=[],this.tabindex=0,this.assignedwork=null,opts.params.assigned_id||(opts.params.assigned_id="new"),"new"===opts.params.assigned_id?opts.stores.trigger("assignedwork_set",{}):opts.params.assigned_id.match(/^new/)?(this.assigning=!0,this.assigned_id=opts.params.assigned_id.replace(/[^0-9]+/g,"")):opts.params.assigned_id.match(/^exam/)?(this.assigning=!0,this.exam_id=opts.params.assigned_id.replace(/[^0-9]+/g,"")):this.assigned_id=opts.params.assigned_id,this.tags.modal.show()}),this.on("unmount",function(){return opts.stores.off("assignedwork_saved",this.handleClose),opts.stores.off("assignedwork_changed_one",this.handleChange)}),this.handleChange=(_this=this,function(assignment){_this.assignment=assignment}),this.handleClose=function(){return opts.page("/assignedwork")},this.handleSave=function(_this){return function(){var ref,ref1;return 100<(null!=(ref=_this.assignment)&&null!=(ref1=ref.questionlist)?ref1.length:void 0)?_this.error("The number of questions per assignment is limited to 100. Please remove some questions."):_this.assignment.type?_this.assignment.classrooms.length<1?_this.error("You haven't selected a classroom."):_this.assignment.due_at?_this.assignment.assigned_at>_this.assignment.due_at?_this.error("Please make sure your due date is after your assigned date."):3<=_this.getMonthsBetween(_this.assignment.assigned_at,_this.assignment.due_at)?_this.error("An assignment has to be Due within 3 months of its Assigned Date. Please amend the Due Date."):1<=_this.getMonthsBetween(_this.assignment.due_at,_this.assignment.lock_at)?_this.error("An assignment has to be locked within 1 month of its Due Date. Please amend the Lock Date."):opts.stores.trigger("assignedwork_save"):_this.error("Please add a due date before saving."):_this.error("No assignment type has been selected.")}}(this),this.setTab=function(_this){return function(tabindex){return _this.tabindex=tabindex,_this.update()}}(this),this.error=function(message){return opts.stores.trigger("toaster_add",{title:"Error",message:message,type:"warning"})},this.getMonthsBetween=function(date1,date2){var monthsbetween;return monthsbetween=12*(date2.getFullYear()-date1.getFullYear())-date1.getMonth()+ +date2.getMonth(),date2.getDate()<date1.getDate()&&monthsbetween--,monthsbetween}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("congrats-popup",'<audio src="/resources/level-up.mp3" type="audio/mp3" preload="auto" name="audio2"></audio> <div if="{showing}" class="congratspopup"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 52 52" class="checkmark"> <circle cx="26" cy="26" r="25" fill="none" class="checkmark__circle"></circle> <path fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" class="checkmark__check"></path> </svg> <div class="message">{message}</div> </div>','.congratspopup { position: fixed; top: 10%; left: 50%; width: 220px; padding: 0 0px 20px 0px; margin-left: -110px; background: #fff; border-radius: 5px; -webkit-box-shadow: 0 5px 20px rgba(0,0,0,0.3); box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 1000; -webkit-animation: zoomin 4s ease forwards; -moz-animation: zoomin 4s ease forwards; -o-animation: zoomin 4s ease forwards; -ms-animation: zoomin 4s ease forwards; animation: zoomin 4s ease forwards; } .congratspopup button { display: block; margin: 20px auto; padding: 10px 15px; border-radius: 5px; font-size: 16px; } .congratspopup .message { display: block; margin: 0px auto; background: #0a0; padding: 10px; color: #fff; width: 190px; text-align: center; border-radius: 5px; opacity: 0; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); -webkit-animation: tada 1s ease-in 1.2s forwards; -moz-animation: tada 1s ease-in 1.2s forwards; -o-animation: tada 1s ease-in 1.2s forwards; -ms-animation: tada 1s ease-in 1.2s forwards; animation: tada 1s ease-in 1.2s forwards; } .checkmark__circle { stroke-dasharray: 166; stroke-dashoffset: 166; stroke-width: 2; stroke-miterlimit: 10; stroke: #0a0; fill: none; -webkit-animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; -moz-animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; -o-animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; -ms-animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; } .checkmark { width: 140px; height: 140px; border-radius: 50%; display: block; stroke-width: 4; stroke: #fff; stroke-miterlimit: 10; margin: 20px auto; -webkit-box-shadow: inset 0px 0px 0px #0f0; box-shadow: inset 0px 0px 0px #0f0; -webkit-animation: fill 0.4s ease-in-out 0.4s forwards, scale 0.3s ease-in-out 0.9s both; -moz-animation: fill 0.4s ease-in-out 0.4s forwards, scale 0.3s ease-in-out 0.9s both; -o-animation: fill 0.4s ease-in-out 0.4s forwards, scale 0.3s ease-in-out 0.9s both; -ms-animation: fill 0.4s ease-in-out 0.4s forwards, scale 0.3s ease-in-out 0.9s both; animation: fill 0.4s ease-in-out 0.4s forwards, scale 0.3s ease-in-out 0.9s both; } .checkmark__check { -webkit-transform-origin: 50% 50%; -moz-transform-origin: 50% 50%; -o-transform-origin: 50% 50%; -ms-transform-origin: 50% 50%; transform-origin: 50% 50%; stroke-dasharray: 48; stroke-dashoffset: 48; -webkit-animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; -moz-animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; -o-animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; -ms-animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; } @-moz-keyframes zoomin { 0% { -webkit-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); -ms-transform: scale(0); transform: scale(0); } 10%, 90% { -webkit-transform: scale(1); -moz-transform: scale(1); -o-transform: scale(1); -ms-transform: scale(1); transform: scale(1); } 100% { -webkit-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); -ms-transform: scale(0); transform: scale(0); } } @-webkit-keyframes zoomin { 0% { -webkit-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); -ms-transform: scale(0); transform: scale(0); } 10%, 90% { -webkit-transform: scale(1); -moz-transform: scale(1); -o-transform: scale(1); -ms-transform: scale(1); transform: scale(1); } 100% { -webkit-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); -ms-transform: scale(0); transform: scale(0); } } @-o-keyframes zoomin { 0% { -webkit-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); -ms-transform: scale(0); transform: scale(0); } 10%, 90% { -webkit-transform: scale(1); -moz-transform: scale(1); -o-transform: scale(1); -ms-transform: scale(1); transform: scale(1); } 100% { -webkit-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); -ms-transform: scale(0); transform: scale(0); } } @keyframes zoomin { 0% { -webkit-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); -ms-transform: scale(0); transform: scale(0); } 10%, 90% { -webkit-transform: scale(1); -moz-transform: scale(1); -o-transform: scale(1); -ms-transform: scale(1); transform: scale(1); } 100% { -webkit-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); -ms-transform: scale(0); transform: scale(0); } } @-moz-keyframes stroke { 100% { stroke-dashoffset: 0; } } @-webkit-keyframes stroke { 100% { stroke-dashoffset: 0; } } @-o-keyframes stroke { 100% { stroke-dashoffset: 0; } } @keyframes stroke { 100% { stroke-dashoffset: 0; } } @-moz-keyframes scale { 0%, 100% { -webkit-transform: none; -moz-transform: none; -o-transform: none; -ms-transform: none; transform: none; } 50% { -webkit-transform: scale3d(1.1, 1.1, 1); -moz-transform: scale3d(1.1, 1.1, 1); -o-transform: scale3d(1.1, 1.1, 1); -ms-transform: scale3d(1.1, 1.1, 1); transform: scale3d(1.1, 1.1, 1); } } @-webkit-keyframes scale { 0%, 100% { -webkit-transform: none; -moz-transform: none; -o-transform: none; -ms-transform: none; transform: none; } 50% { -webkit-transform: scale3d(1.1, 1.1, 1); -moz-transform: scale3d(1.1, 1.1, 1); -o-transform: scale3d(1.1, 1.1, 1); -ms-transform: scale3d(1.1, 1.1, 1); transform: scale3d(1.1, 1.1, 1); } } @-o-keyframes scale { 0%, 100% { -webkit-transform: none; -moz-transform: none; -o-transform: none; -ms-transform: none; transform: none; } 50% { -webkit-transform: scale3d(1.1, 1.1, 1); -moz-transform: scale3d(1.1, 1.1, 1); -o-transform: scale3d(1.1, 1.1, 1); -ms-transform: scale3d(1.1, 1.1, 1); transform: scale3d(1.1, 1.1, 1); } } @keyframes scale { 0%, 100% { -webkit-transform: none; -moz-transform: none; -o-transform: none; -ms-transform: none; transform: none; } 50% { -webkit-transform: scale3d(1.1, 1.1, 1); -moz-transform: scale3d(1.1, 1.1, 1); -o-transform: scale3d(1.1, 1.1, 1); -ms-transform: scale3d(1.1, 1.1, 1); transform: scale3d(1.1, 1.1, 1); } } @-moz-keyframes fill { 100% { -webkit-box-shadow: inset 0px 0px 0px 70px #0a0; box-shadow: inset 0px 0px 0px 70px #0a0; } } @-webkit-keyframes fill { 100% { -webkit-box-shadow: inset 0px 0px 0px 70px #0a0; box-shadow: inset 0px 0px 0px 70px #0a0; } } @-o-keyframes fill { 100% { -webkit-box-shadow: inset 0px 0px 0px 70px #0a0; box-shadow: inset 0px 0px 0px 70px #0a0; } } @keyframes fill { 100% { -webkit-box-shadow: inset 0px 0px 0px 70px #0a0; box-shadow: inset 0px 0px 0px 70px #0a0; } } @-moz-keyframes tada { 0% { opacity: 0; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); -webkit-transform: scale3d(1, 1, 1); -webkit-transform: scale3d(1, 1, 1); -moz-transform: scale3d(1, 1, 1); -o-transform: scale3d(1, 1, 1); -ms-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); } 10%, 20% { opacity: 1; -ms-filter: none; filter: none; -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -moz-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -o-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -ms-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); } 30%, 50%, 70%, 90% { -webkit-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -moz-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -o-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -ms-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); } 40%, 60%, 80% { -webkit-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -moz-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -o-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -ms-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); } 100% { -webkit-transform: scale3d(1, 1, 1); -webkit-transform: scale3d(1, 1, 1); -moz-transform: scale3d(1, 1, 1); -o-transform: scale3d(1, 1, 1); -ms-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); opacity: 1; -ms-filter: none; filter: none; } } @-webkit-keyframes tada { 0% { opacity: 0; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); -webkit-transform: scale3d(1, 1, 1); -webkit-transform: scale3d(1, 1, 1); -moz-transform: scale3d(1, 1, 1); -o-transform: scale3d(1, 1, 1); -ms-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); } 10%, 20% { opacity: 1; -ms-filter: none; filter: none; -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -moz-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -o-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -ms-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); } 30%, 50%, 70%, 90% { -webkit-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -moz-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -o-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -ms-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); } 40%, 60%, 80% { -webkit-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -moz-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -o-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -ms-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); } 100% { -webkit-transform: scale3d(1, 1, 1); -webkit-transform: scale3d(1, 1, 1); -moz-transform: scale3d(1, 1, 1); -o-transform: scale3d(1, 1, 1); -ms-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); opacity: 1; -ms-filter: none; filter: none; } } @-o-keyframes tada { 0% { opacity: 0; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); -webkit-transform: scale3d(1, 1, 1); -webkit-transform: scale3d(1, 1, 1); -moz-transform: scale3d(1, 1, 1); -o-transform: scale3d(1, 1, 1); -ms-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); } 10%, 20% { opacity: 1; -ms-filter: none; filter: none; -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -moz-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -o-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -ms-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); } 30%, 50%, 70%, 90% { -webkit-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -moz-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -o-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -ms-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); } 40%, 60%, 80% { -webkit-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -moz-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -o-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -ms-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); } 100% { -webkit-transform: scale3d(1, 1, 1); -webkit-transform: scale3d(1, 1, 1); -moz-transform: scale3d(1, 1, 1); -o-transform: scale3d(1, 1, 1); -ms-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); opacity: 1; -ms-filter: none; filter: none; } } @keyframes tada { 0% { opacity: 0; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); -webkit-transform: scale3d(1, 1, 1); -webkit-transform: scale3d(1, 1, 1); -moz-transform: scale3d(1, 1, 1); -o-transform: scale3d(1, 1, 1); -ms-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); } 10%, 20% { opacity: 1; -ms-filter: none; filter: none; -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -moz-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -o-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); -ms-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); } 30%, 50%, 70%, 90% { -webkit-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -moz-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -o-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); -ms-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, 3deg); } 40%, 60%, 80% { -webkit-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -moz-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -o-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); -ms-transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); transform: scale3d(1.5, 1.5, 1.5) rotate3d(0, 0, 1, -3deg); } 100% { -webkit-transform: scale3d(1, 1, 1); -webkit-transform: scale3d(1, 1, 1); -moz-transform: scale3d(1, 1, 1); -o-transform: scale3d(1, 1, 1); -ms-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); opacity: 1; -ms-filter: none; filter: none; } }',"",function(opts){var _this;this.showing=!1,this.show=(_this=this,function(message){return _this.audio2.play(),_this.update({message:message,showing:!0}),setTimeout(function(){return _this.update({showing:!1})},4e3)})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("browsepanel",'<div class="row"> <div class="col-lg-4 col-lg-push-8"> <div class="col-lg-12 col-sm-5"> <panel heading="Find a Clip" class="row-lg-2 row-md-2"> <clippicker2 all="{parent.allvideos}" onfilter="{parent.handlePickerChange}" stores="{parent.opts.stores}"></clippicker2> </panel> </div> <div class="col-lg-12 col-sm-7"> <panel name="gridpanel" heading="Choose Clip {videos.length ? \'(\'+videos.length+\')\' : \'\'}" class="row-lg-2 row-md-2 row-xs-2"> <grid columns="{parent.gridColumns}" data="{parent.videos}" height="295px" onselect="{parent.handleSelect}" active="{parent.selected}"></grid> </panel> </div> </div> <div class="col-lg-8 relative col-lg-pull-4 clear-md"> <panel heading="{title || \'Video\'}" style="background:#000" class="row-lg-4 relative"> <div class="viewpractice"> <button onclick="{parent.toggleOMM}" if="{parent.selected.id &amp;&amp; parent.selected.omm}" class="btn btn-primary">{parent.ommtext}</button> <button onclick="{parent.viewPractice}" if="{parent.selected.id &amp;&amp; parent.selected.ques_count &gt; 0}" class="btn btn-warning">Interactive Questions</button> <button onclick="{parent.download}" if="{parent.selected.id &amp;&amp; parent.selected.qualification!=\'AS Level\'}" class="btn btn-primary">Worksheet</button> </div> <vimeoplayer vimeoid="{parent.videoid}" videoid="{parent.selected.id}" videotitle="{parent.title}" stores="{parent.opts.stores}" video="{parent.selected}"></vimeoplayer> </panel> </div> </div>',"","",function(opts){var _this;this.gridColumns=[{field:"clip_id",label:"Clip",width:"14%"},{field:"name",label:"Title",width:"86%"}],this.selected={},this.title="",this.ommtext="One Minute Maths",this.on("mount",function(){return this.omm=!1,this.videoid="guest"===opts.mode?"183644273":null,this.ommtext="One Minute Maths",opts.stores.on("video_changed",this.handleVideoChanged),opts.stores.trigger("video_sync")}),this.on("update",function(){if("guest"===opts.mode&&!this.selected.url)return this.videoid="183644273"}),this.on("unmount",function(){return opts.stores.off("video_changed",this.handleVideoChanged)}),this.handlePickerChange=(_this=this,function(videos){return _this.videos=videos,_this.update()}),this.handleVideoChanged=function(_this){return function(allvideos){return _this.allvideos=allvideos,_this.updateFromRoute(),_this.update()}}(this),this.updateFromRoute=function(_this){return function(){var matches;if(opts.params.video_id&&(matches=_this.allvideos.filter(function(video){return+video.id==+opts.params.video_id&&!opts.params.oneminutemaths})),null!=matches?matches.length:void 0)return _this.selected=matches[0],_this.tags.gridpanel.tags.grid.active=_this.selected.id,_this.title="Clip "+_this.selected.clip_id+" "+_this.selected.name,_this.OMMupdate()}}(this),this.handleSelect=function(_this){return function(item){var id;return id=item.id||"",opts.page("/vle/browse/"+id),_this.updateFromRoute(),_this.update()}}(this),this.viewPractice=function(_this){return function(){var ref;if(null!=(ref=_this.selected)?ref.id:void 0)return opts.page("/vle/browse/"+_this.selected.id+"/practice")}}(this),this.toggleOMM=function(_this){return function(){return _this.omm=!_this.omm,_this.OMMupdate()}}(this),this.OMMupdate=function(_this){return function(){return _this.omm?(_this.videoid=_this.selected.omm,_this.ommtext="Full Version",_this.omm=!0):(_this.videoid=_this.selected.url,_this.ommtext="One Minute Maths"),_this.update()}}(this),this.download=function(_this){return function(){return window.open("/downloads/worksheets/"+_this.selected.qualification+"/clip"+_this.selected.clip_id.toLowerCase()+".pdf")}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("clippicker2",'<div class="form-horizontal clearfix"> <formselect id="qualification" if="{download}" width1="5" width2="7" onupdate="{handleChange}" default="Please Select" value="{chosen.qualification}" label="Qualification" options="{filters.qualifications}" addonafter="&lt;a title=&quot;download list of clips&quot; class=&quot;fa fa-download&quot; target=&quot;_blank&quot; href=&quot;{download}&quot;&gt;&lt;/a&gt;"></formselect> <formselect id="qualification" if="{!download}" width1="5" width2="7" onupdate="{handleChange}" default="Please Select" value="{chosen.qualification}" label="Qualification" options="{filters.qualifications}"></formselect> <formselect id="level" width1="5" width2="7" if="{labels.level}" onupdate="{handleChange}" default="All" value="{chosen.level}" label="{labels.level}" options="{filters.levels}"></formselect> <formselect id="grade" width1="5" width2="7" if="{labels.grade}" onupdate="{handleChange}" default="All" value="{chosen.grade}" label="{labels.grade}" options="{filters.grades}"></formselect> <formselect id="topic" width1="5" width2="7" if="{labels.topic}" onupdate="{handleChange}" default="All" value="{chosen.topic}" label="{labels.topic}" options="{filters.topics}" class="{&quot;disabled&quot;:chosen.qualification==&quot;AS Level&quot; &amp;&amp; (filters.topics.length == 0 || !chosen.grade)}"></formselect> <forminput width1="5" width2="7" if="{labels.topic}" name="search" onupdate="{handleChange}" label="Search" value="{chosen.search}"> </forminput> <formcheckbox width1="5" width2="7" if="{chosen.qualification==\'GCSE (WJEC)\'}" name="numeracy" onupdate="{handleChange}" label="Only Numeracy" value="{chosen.numeracy}"> </formcheckbox> </div>','clippicker2 .input-group-addon { background: transparent; border: 0px; } clippicker2 .disabled { opacity: 0.5; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"; filter: alpha(opacity=50); pointer-events: none; display: block; }',"",function(opts){var collection,downloads,labels,_this;downloads={GCSE:"/downloads/list_of_clips_v15.pdf","GCSE (Legacy)":"/downloads/list_of_clips_mathswatch_legacy.pdf","GCSE (WJEC)":"/downloads/list_of_clips_wjec_v16.pdf",KS3:"/downloads/list_of_clips_ks3.pdf",Primary:"/downloads/list_of_clips_primary.pdf"},this.labels={},this.search="",this.chosen={},labels=__webpack_require__(8),collection=__webpack_require__(7),this.on("mount",function(){return this.restored=!1,opts.stores.on("session_changed",this.sessionUpdated)}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated)}),this.sessionUpdated=(_this=this,function(session){var classes,isAvailable,ref,ref1,ref2,ref3,ref4,saved;if(_this.session=session,opts.all){try{saved=JSON.parse(null!=(ref=window.localStorage)?ref.browseChosen:void 0)}catch(error){saved=null}return null==(null!=(ref1=_this.session.user)&&null!=(ref2=ref1.classrooms)?ref2.map:void 0)||_this.chosen.qualification||_this.chosen.level?void 0:(isAvailable=(null!=(classes=_this.session.user.classrooms.filter(function(c){return c.qualification}))?classes.length:void 0)&&0<(null!=(ref3=null!=(ref4=_this.filters)?ref4.qualifications.filter(function(q){return q.value===classes[0].qualification}):void 0)?ref3.length:void 0),(null!=classes?classes.length:void 0)&&!(null!=saved?saved.qualification:void 0)&&isAvailable?(_this.handleChange({name:"qualification",value:classes[0].qualification}),_this.handleChange({name:"level",value:classes[0].level})):_this.updateDefaultQualification(_this.session.user.classrooms))}}),this.updateDefaultQualification=function(_this){return function(classrooms){var classes,qual,ref,ref1,yr;if((classes=classrooms.filter(function(c){return c.year})).length&&(null!=(ref=_this.filters)?ref.qualifications:void 0))return yr=+classes[0].year,qual="",_this.filters.qualifications.forEach(function(q){if(yr<10&&"KS3"===q.value||(6<yr||yr<12)&&q.value.match(/GCSE/)||11<yr&&q.value.match(/AS Level/))return qual=q.value}),(qual=qual||(null!=(ref1=_this.filters.qualifications[0])?ref1.value:void 0))?_this.handleChange({name:"qualification",value:qual}):void 0}}(this),this.on("update",function(_this){return function(){if(opts.all&&!_this.restored)return _this.restored=!0,setTimeout(function(){var ref;return(null!=(ref=window.localStorage)?ref.browseChosen:void 0)?(_this.chosen=JSON.parse(window.localStorage.browseChosen),_this.qualificationChange(_this.chosen.qualification),_this.download=downloads[_this.chosen.qualification],_this.filterOptions(_this.chosen.qualification),opts.onfilter&&opts.onfilter(_this.filter(_this.chosen))):_this.filterOptions(),opts.stores.trigger("session_sync"),_this.update()})}}(this)),this.filterOptions=function(_this){return function(qualification){var gradefilt,levelfilt,qualfilt,ref,ref1,ref2,ref3,ref4,ref5;if(opts.all)return qualfilt=opts.all.filter(function(row){return row.qualification===qualification}),levelfilt=(null!=(ref=_this.chosen)?ref.level:void 0)?qualfilt.filter(function(row){return row.level.match(_this.chosen.level)||2<row.grade&&"Higher"===_this.chosen.level}):qualfilt,gradefilt=(null!=(ref1=_this.chosen)?ref1.grade:void 0)?levelfilt.filter(function(row){return row.grade===_this.chosen.grade}):levelfilt,_this.filters={},_this.filters.qualifications=collection.groupSort(opts.all,"qualification"),_this.filters.levels=collection.groupSort(qualfilt,"level",!("KS3"===qualification||qualification&&qualification.match(/gcse/i))),_this.filters.grades=collection.groupSort(levelfilt,"grade"),_this.filters.topics="AS Level"===qualification?collection.groupSort(gradefilt,"topic"):collection.groupSort(levelfilt,"topic"),(null!=(ref2=_this.chosen)?ref2.level:void 0)&&_this.hasLabel(_this.filters.levels,_this.chosen.level)||(_this.chosen.level=""),(null!=(ref3=_this.chosen)?ref3.grade:void 0)&&_this.hasLabel(_this.filters.grades,_this.chosen.grade)||(_this.chosen.grade=""),(null!=(ref4=_this.chosen)?ref4.topic:void 0)&&_this.hasLabel(_this.filters.topics,_this.chosen.topic)&&((null!=(ref5=_this.chosen)?ref5.grade:void 0)||"AS Level"!==qualification)?void 0:_this.chosen.topic=""}}(this),this.hasLabel=function(collection,label){return 0<collection.filter(function(row){return row.label===label}).length},this.qualificationChange=function(_this){return function(qualification){return _this.labels={level:labels.level[qualification],grade:labels.grade[qualification],topic:labels.topic[qualification]},_this.update()}}(this),this.handleChange=function(_this){return function(row){if("qualification"===row.name&&(_this.qualificationChange(row.value),_this.chosen={qualification:"",level:"",clip_id:"",grade:"",topic:"",search:"",numeracy:!1},_this.tags.search.root.querySelector("input").value=""),null!=row.name)return _this.chosen[row.name]=row.value,_this.download=downloads[_this.chosen.qualification],window.localStorage&&(window.localStorage.browseChosen=JSON.stringify(_this.chosen)),_this.filterOptions(_this.chosen.qualification),opts.onfilter&&opts.onfilter(_this.filter(_this.chosen)),_this.update()}}(this),this.filter_by_qualification=function(row){return this.chosen.qualification===row.qualification},this.filter_by_level=function(row){var ref;return!this.chosen.level&&!this.chosen.grade||("Higher"===this.chosen.level&&"GCSE"===this.chosen.qualification&&!this.chosen.grade&&2<row.grade||!!((null!=(ref=row.level)?ref.match(this.chosen.level):void 0)&&!this.chosen.grade||this.chosen.grade===row.grade))},this.filter_by_topic=function(row){return!this.chosen.topic||(this.chosen.topic===row.topic||void 0)},this.filter_by_numeracy=function(row){return!this.chosen.numeracy||row.numeracy===this.chosen.numeracy},this.filter=function(_this){return function(chosen){var data,reg,str;return data=opts.all.slice(),chosen&&chosen.qualification?([],chosen.search&&(str=_this.escapeRegExp(chosen.search.replace(/ ?clip ?/i,"")),reg=new RegExp(str.split(" ").join(".+"),"ig")),data.filter(function(row){var ref;return row.clip_id.match(reg)||row.name.match(reg)||(null!=(ref=row.description)?ref.match(reg):void 0)}).filter(function(row){return _this.filter_by_qualification(row)&&_this.filter_by_level(row)&&_this.filter_by_topic(row)&&_this.filter_by_numeracy(row)})):_this.filtered=[]}}(this),this.escapeRegExp=function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("questionpanel",'<div class="row questionpanel"> <div class="col-xs-12"> <panel heading="Clip {video.clip_id} {title} Question {active}" class="row-lg-4 relative"> <div style="right:5px;" class="viewpractice"> <div class="btn-toolbar"><a show="{hasHint}" onmouseover="{parent.handleShowhint}" onmouseleave="{parent.handleHidehint}" class="btn btn-success"><span class="fa fa-lightbulb-o"></span> Hint</a><a href="/vle/browse/{parent.video.id}" class="btn btn-warning"><span class="fa fa-arrow-left"> </span> Return to Videos</a><a onclick="{parent.handleShowAnswers}" if="{parent.admin}" class="btn btn-danger"> <div class="fa fa-graduation-cap"></div>{parent.admin && parent.showanswers ?  Hide Answers :  Show Answers}</a></div> </div> <div class="row"> <div if="{parent.standard_questions.length}" class="col-sm-6 col-xs-12 visible-sm visible-xs">Standard Questions</div> <div if="{parent.standard_questions.length}" class="col-xs-6 visible-sm">Harder Questions</div> </div> <div class="row"> <div class="col-sm-6 col-xs-12"> <ul riot-tag="nexttabs" max="5" if="{parent.standard_questions.length}" collection="{parent.standard_questions}" iscorrect="{parent.isCorrect}" practice-correct="{parent.practiceCorrect}" active="{parent.selectedQuestion}" ontabchange="{parent.handleTabClick}" class="nav nav-tabs"> <li if="{parent.parent.standard_questions.length}" class="disabled visible-lg visible-md"><a>Standard Questions</a></li> </ul> </div> <div if="{parent.standard_questions.length}" class="col-xs-12 visible-xs">Harder Questions</div> <div class="col-sm-6 col-xs-12"> <ul riot-tag="nexttabs" max="5" if="{parent.difficult_questions.length}" collection="{parent.difficult_questions}" iscorrect="{parent.isCorrect}" practice-correct="{parent.practiceCorrect}" active="{parent.selectedQuestion}" ontabchange="{parent.handleTabClick}" class="nav nav-tabs"> <li if="{parent.parent.difficult_questions.length}" class="disabled visible-lg visible-md"><a>Harder Questions</a></li> </ul> </div> </div> <div if="{parent.questions &amp;&amp; parent.questions.length &lt; 1}"> <div class="row"> <div class="col-xs-12"> <h3>No Questions</h3> <p>Sorry there are no practice questions available for this clip.</p> </div> </div> </div> <div if="{parent.questions.length &gt; 0}"> <div class="row dsptable"> <div if="{parent.question}" class="col-lg-9 col-md-12 td"> <div class="progressblock"> <div class="row"> <div class="{parent.question.total_answers ? \'col-xs-8 col-sm-10\' : \'col-xs-10 col-sm-11\'}">Question Progress <progressbar value="{parent.percentAnswered}" bsstyle="success" striped="{true}" active="{true}"> <span>{parent.parent.marks} / {parent.parent.totalMarks} Marks </span></progressbar> </div> <div class="col-xs-2 col-sm-1"> <div if="{parent.question.calculator}" title="You can use a calculator for this question" class="fa fa-calculator"><span style="left:5px;bottom:-10px;font-size:30px;opacity:1;color:#00dd00" class="fa fa-check fa-stack-2x"></span></div> <div if="{!parent.question.calculator}" title="You cannot use a calculator for this question" class="fa fa-calculator"><span style="left:5px;bottom:-10px;font-size:30px;opacity:1;color:#ff0000" class="fa fa-times fa-stack-2x"></span></div> </div> <div if="{parent.question.total_answers}" class="col-xs-2 col-sm-1 success_rate"> <div title="MathsWatch users success rate" class="fa fa-trophy"><span style="color:#fec600;font-size:14px;top:5px" class="fa fa-star fa-stack-1x"></span></div>{Math.round(parent.question.total_correct / parent.question.total_answers * 100)}% </div> </div> </div><img riot-src="{(parent.showHint ? \'/images/hints/hint\' : parent.showAnswerImage ? \'/downloads/answers/answer\' : \'/images/questions/question\')+parent.question.id+\'.png\'}" riot-style="margin:0;padding:0;{parent.showHint?\'z-index:1000\' :\'\'}" class="img-responsive col-xs-12 img-question"> <drawing if="{parent.drawingActive}" stores="{parent.opts.stores}"></drawing> </div> <div class="col-lg-3 col-xs-12 td"> <div class="answercolumn"> <answer question="{parent.question}" feedback="{true}" count="{active}" page="{parent.opts.page}" stores="{parent.opts.stores}" nextquestion="{parent.getNextQuestion}" nextbutton="{parent.nextButton}" onsave="{parent.handleAnswerUpdate}" currentanswer="{parent.currentAnswer}" showanswer="{parent.showanswers}" saving="{parent.answersaving}"></answer> </div> </div> </div> </div> </panel> </div> </div> <div class="row"> <div class="col-md-4"> <panel heading="Clip {video.clip_id}" style="background:black;min-height:290px"> <div style="right:5px;" class="viewomm"><a onclick="{parent.toggleOMM}" if="{parent.video.id &amp;&amp; parent.video.omm}" class="btn btn-primary">{parent.ommtext}</a></div> <vimeoplayer vimeoid="{parent.videoid}" if="{parent.videoid}" videoid="{parent.video.id}" videotitle="{parent.title}" video="{parent.video}" stores="{parent.opts.stores}"></vimeoplayer> </panel> </div> <div class="col-md-4"> <panel heading="Find a Clip" style="height:315px"> <clippicker2 all="{parent.allvideos}" onfilter="{parent.handlePickerChange}" stores="{parent.opts.stores}"></clippicker2> </panel> </div> <div class="col-md-4"> <panel name="gridpanel" heading="Choose Clip {videos.length ? \'(\'+videos.length+\')\' : \'\'}" style="height:315px"> <grid columns="{parent.gridColumns}" data="{parent.videos}" height="280px" onselect="{parent.handleSelect}" activeid="{parent.video_id}"></grid> </panel> </div> </div>',"","",function(opts){var _this;this.answersaving=!1,this.on("mount",function(){return this.omm=!1,this.ommtext="View One Minute Version",this.questions=null,this.percentAnswered=0,this.currentAnswer=null,this.showAnswerImage=!1,this.marks=0,this.admin=!1,this.totalMarks=0,this.question=null,this.answers={},this.showanswers=!1,this.hasAnswerImage=!1,this.video=null,this.practice_marks=[],this.active=1,this.gridColumns=[{field:"clip_id",label:"Clip",width:"14%"},{field:"name",label:"Title",width:"85%"}],this.video_id=opts.params.video_id,this.answers[this.video_id]=[],opts.stores.on("logs_changed_practice_marks",this.handlePracticeMarks),opts.stores.on("video_changed",this.handleVideoChanged),opts.stores.on("question_changed",this.handleQuestionChanged),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync"),opts.stores.trigger("video_sync")}),this.on("unmount",function(){return this.answersaving_timeout&&clearTimeout(this.answersaving_timeout),opts.stores.off("logs_changed_practice_marks",this.handlePracticeMarks),opts.stores.off("video_changed",this.handleVideoChanged),opts.stores.off("question_changed",this.handleQuestionChanged),opts.stores.off("session_changed",this.sessionUpdated)}),this.on("update",function(){var ref,ref1,ref2,ref3;if(this.active=opts.params.question_id||1,this.video&&opts.stores.trigger("question_sync",this.video.id),this.nextButton=this.questions&&this.questions.length<=this.active?"Finish!":"Next Question",this.question)return this.hintExists(),this.selectedQuestion=this.question.id,this.drawingActive=0<(null!=(ref=null!=(ref1=this.question.answer)?ref1.filter(function(a){return"drawing"===(null!=a?a.type:void 0)}):void 0)?ref.length:void 0),this.hasAnswerImage=0<(null!=(ref2=null!=(ref3=this.question.answer)?ref3.filter(function(a){return null!=a?a.useimg:void 0}):void 0)?ref2.length:void 0),this.showAnswerImage=this.showanswers&&this.hasAnswerImage}),this.hintExists=(_this=this,function(){var image_url,img;if(_this.hintExists_id!==_this.question.id)return _this.hintExists_id=_this.question.id,image_url="/images/hints/hint"+_this.question.id+".png",_this.update({hasHint:!1}),(img=new Image).onload=function(){return _this.update({hasHint:!0})},img.onerror=function(){return setTimeout(function(){return _this.update({hasHint:!1})})},img.src=image_url}),this.handleShowhint=function(_this){return function(){return _this.update({showHint:!0})}}(this),this.handleHidehint=function(_this){return function(){return _this.update({showHint:!1})}}(this),this.handleVideoChanged=function(_this){return function(allvideos){return _this.allvideos=allvideos,_this.updateFromRoute()}}(this),this.sessionUpdated=function(_this){return function(data){var ref,ref1;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],-1<(null!=(ref1=_this.groups)?ref1.indexOf("Administrators"):void 0)&&(_this.admin=!0),_this.update()}}(this),this.handlePickerChange=function(_this){return function(videos){return _this.videos=videos,_this.update()}}(this),this.handleShowAnswers=function(_this){return function(){if(_this.admin)return _this.showanswers=!_this.showanswers,_this.hasAnswerImage?_this.showAnswerImage=_this.showanswers:_this.showAnswerImage=!1,_this.update()}}(this),this.handlePracticeMarks=function(_this){return function(practice_marks){return _this.practice_marks=practice_marks,_this.update({practice_marks:_this.practice_marks})}}(this),this.handleQuestionChanged=function(_this){return function(data){var ref,ref1;return _this.questions=data.filter(function(q){return q.practice||_this.admin}).sort(function(a,b){return a.id+1e13*a.difficulty-(b.id+1e13*b.difficulty)}),_this.standard_questions=_this.questions.filter(function(q){return q.difficulty<2}),_this.difficult_questions=_this.questions.filter(function(q){return 1<q.difficulty}),_this.question=_this.questions[_this.active-1],_this.currentAnswer=(null!=(ref=_this.answers[_this.video_id])?ref[_this.active-1]:void 0)?{answer:_this.answers[_this.video_id][_this.active-1]}:null,_this.totalMarks=null!=(ref1=_this.question)?ref1.marks:void 0,_this.selectedQuestion=_this.question.id,_this.marks=_this.calcMarks(),_this.percentAnswered=_this.marks/_this.totalMarks*100,_this.update()}}(this),this.handleSelect=function(_this){return function(item){var id;return id=item.id||"",opts.page("/vle/browse/"+id+"/practice"),_this.video_id=opts.params.video_id,_this.updateFromRoute()}}(this),this.handleAnswerUpdate=function(_this){return function(answer){return _this.save_practice(answer)}}(this),this.disableSave=function(_this){return function(){return _this.update({answersaving:!0}),_this.answersaving_timeout=setTimeout(function(){return _this.update({answersaving:!1})},5e3)}}(this),this.enableSave=function(_this){return function(){return _this.answersaving_timeout&&clearTimeout(_this.answersaving_timeout),_this.answersaving_timeout=setTimeout(function(){return _this.update({answersaving:!1})},1e3)}}(this),this.save_practice=function(_this){return function(answer){if(answer)return _this.disableSave(),opts.stores.one("log_saved",_this.handleSaved),opts.stores.trigger("log_save",Object.assign({},answer,{type:"practice_marks",video_id:_this.video_id,question_id:answer.question_id}))}}(this),this.handleSaved=function(_this){return function(answer){return _this.enableSave(),_this.answers[_this.video_id]||(_this.answers[_this.video_id]=[]),_this.answers[_this.video_id][_this.active-1]=answer,_this.marks=_this.calcMarks(),_this.percentAnswered=_this.marks/_this.totalMarks*100,_this.update()}}(this),this.updateFromRoute=function(_this){return function(){var matches;return opts.params.video_id&&(matches=_this.allvideos.filter(function(video){return+video.id==+opts.params.video_id&&!opts.params.oneminutemaths})),(null!=matches?matches.length:void 0)&&(_this.video=matches[0],_this.tags.gridpanel.tags.grid.active=_this.video.id,_this.videoid=_this.video.url,_this.title=_this.video.name+" - ",_this.vimeo=_this.video.url,[].slice.call(_this.root.querySelectorAll('[riot-tag="nexttabs"]')).forEach(function(elem){return elem._tag.reset()})),"guest"!==opts.mode&&opts.stores.trigger("log_load","practice_marks",{video_id:_this.video_id}),_this.update()}}(this),this.getNextQuestion=function(_this){return function(){var url;return url="/vle/",url=_this.questions.length>_this.active?"/vle/browse/"+_this.video_id+"/practice/"+(+_this.active+1):"/vle/browse/"+_this.video_id,opts.page(url)}}(this),this.getVideo=function(){var matches,_this;return this.video_id&&(matches=this.allVideos.filter((_this=this,function(video){return+video.id==+_this.video_id&&!video.oneminutemaths}))),(null!=matches?matches.length:void 0)&&(this.video=matches[0]),this.update()},this.isCorrect=function(_this){return function(question){var ref;return null!=(ref=_this.answers[_this.video_id].filter(function(answer){return+answer.question_id==+question.id})[0])?ref.correct:void 0}}(this),this.practiceCorrect=function(_this){return function(question){return _this.get_practice_marks(question.id)===question.marks}}(this),this.handleTabClick=function(_this){return function(id,index,e){return _this.active=index,2===e.item.v.difficulty&&(_this.active+=_this.standard_questions.length),opts.page("/vle/browse/"+_this.video_id+"/practice/"+_this.active),_this.update()}}(this),this.calcMarks=function(_this){return function(){return _this.answers[_this.video_id]&&_this.answers[_this.video_id][_this.active-1]?_this.answers[_this.video_id][_this.active-1].answer.map(function(subanswer){return(null!=subanswer?subanswer.marks:void 0)||0}).reduce(function(a,b){return+a+ +b},0):0}}(this),this.get_practice_marks=function(_this){return function(selectedQuestion){var ref;return!!_this.practice_marks&&((null!=(ref=_this.practice_marks.filter(function(answer){return+answer.question_id==+selectedQuestion})[0])?ref.marks:void 0)||0)}}(this),this.toggleOMM=function(_this){return function(){return _this.omm=!_this.omm,_this.OMMupdate()}}(this),this.OMMupdate=function(_this){return function(){return _this.omm?(_this.videoid=_this.video.omm,_this.ommtext="View Full Version"):(_this.videoid=_this.video.url,_this.ommtext="View One Minute Version"),_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("multianswer",'<div class="multiple form-group"> <label class="control-label {\'col-xs-\'+opts.width1}">{opts.label}</label> <div class="multiple {\'col-xs-\'+opts.width2}"> <div each="{v,i in letters}" class="answer"> <div onclick="{parent.handleClick}" class="btn btn-default {\'btn-primary\':parent.active.indexOf(i)&gt;-1,\'btn-danger\':(parent.opts_answers.indexOf(i) &gt;-1 &amp;&amp; parent.opts.showanswer)}">{v}</div> </div> </div> </div>',"","",function(opts){var _this;this.active=[],this.on("mount",function(){var results;if(this.letters=function(){results=[];for(var j=0,ref=opts.answercount;0<=ref?j<ref:ref<j;0<=ref?j++:j--)results.push(j);return results}.apply(this).map(function(v,i){return String.fromCharCode(65+i)}),this.active=[],!this.active.length&&opts.value&&"string"==typeof opts.value)return this.active=opts.value.split(",").map(function(val){return+val})}),this.on("update",(_this=this,function(){var ref;if(!_this.opts_answers&&null!=(null!=opts&&null!=(ref=opts.answers)?ref.split:void 0)&&opts.showanswer)return _this.opts_answers=JSON.parse(opts.answers).split(",").map(function(i){return+i})})),this.handleClick=function(e){var idx;return idx=e.item.i,-1<this.active.indexOf(idx)?this.active.splice(this.active.indexOf(idx),1):this.active.push(idx),opts.onupdate({name:opts.id,value:this.active.join(",")}),this.update()}})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("answer",'<audio src="/resources/ping.mp3" type="audio/mp3" preload="auto" name="audio"></audio> <keyboard></keyboard> <div if="{answers.length&gt;0}" class="{\'answercount\'+question.answercount+\' \'+question.type+\'block\'}"> <formhorizontal width1="2" width2="10" class="clearfix"> <div each="{v,k in parent.answers}"> <div class="answerbox {correct:parent.parent.isCorrect(parent.parent.opts.question.id,k) &amp;&amp; v.marks&gt;0}"> <subtag tag="{v.tag}" correct="{parent.parent.isCorrect(parent.parent.opts.question.id,k) &amp;&amp; v.marks&gt;0}" subcorrect="{parent.parent.isSubCorrect(parent.parent.opts.question.id,k)}" width1="{parent.parent.question.answercount&gt;1? \'1\':\'1\'}" width2="{parent.parent.question.answercount&gt;1? \'11\':\'11\'}" label="{v.num || (parent.parent.question.answercount&gt;1?String.fromCharCode(97+k)+\')\':\'\')}" id="answer{k}" useimg="{v.useimg}" value="{parent.parent.inputs[parent.parent.opts.question.id][k]}" onupdate="{parent.parent.updateAnswerFromInput}" addonbefore="{v.prefix}" addonafter="{v.suffix}" answers="{v.text}" showanswer="{parent.parent.opts.showanswer}" stores="{parent.parent.opts.stores}" answercount="{v.total}" answerkey="{k}" __readonly="{true}"></subtag> <p if="{v.tag == \'multianswer\' &amp;&amp; parent.parent.opts.multi_attempts&gt;0}" class="text-center"> <small>Only 1 attempt allowed.</small></p> </div> </div> <drawingtoolbar show="{parent.showDrawingTools}" stores="{parent.opts.stores}" question="{parent.opts.question}"></drawingtoolbar> </formhorizontal> <div if="{opts.onsubmit || opts.nextquestion}" class="btn-toolbar"> <div class="btn-answer pull-right"> <button if="{!correct[opts.question.id] &amp;&amp; opts.feedback}" onclick="{handleAnswer}" __disabled="{opts.saving || opts.buttondisabled}" class="btn btn-warning btn-block"> Submit Answer <span show="{opts.saving}" class="fa fa-refresh fa-spin"> </span> </button> <button if="{correct[opts.question.id] || !opts.feedback}" onclick="{nextQuestion}" __disabled="{opts.buttondisabled}" class="btn btn-success btn-block">{opts.nextbutton || \'Next Question\'}</button> </div> </div> </div>','.ratio .first:after{ content:":"; position:absolute; right:-2px; top:5px; } .fraction input.first{ margin-bottom:2px; } .ratio{ margin-top:15px; } .multiple{ margin-top:5px; } .answerbox{ outline:1px solid white; background:#eee; padding:0px 5px; width:100%; float:left; } .answerbox.correct{ background:#94D094; } .answerbox mathsinput,.answerbox multianswer{ min-height:80px; } answer .form-group{ width:100%; } answer .form-group, .btn-answer{ float:left; margin:10px 0; } .multiple .answer{ float:left; margin-right:20px; } @media (min-width: 992px){ .multiple .answer{ margin-right:10px; } .answerbox{ width:50%; } } @media (min-width: 1200px){ .answerbox{ width:100%; } }',"",function(opts){var prevQuestionId,_this;this.answers=[],this.inputs={},this.question={},prevQuestionId=null,this.updateFromOpts=[],this.correct={},this.hasChecked=!1,this.attempts=[],this.resetAnswers=!0,this.showDrawingTools=!1,this.played=[],this.on("update",function(){var ref,ref1,ref2,ref3,ref4,ref6,ref7,ref8,ref9,results;return prevQuestionId!==(null!=(ref=opts.question)?ref.id:void 0)&&(this.answers=[]),opts.feedback&&this.lastsaved&&opts.currentanswer&&this.lastsaved!==JSON.stringify(opts.currentanswer)&&(((this.lastsaved=null)!=(ref1=opts.currentanswer)&&null!=(ref2=ref1.answer)?ref2.correct:void 0)?this.showWellDone():(this.showIncorrect(),this.resetMultipleChoice())),null!=(null!=(ref3=opts.question)?ref3.id:void 0)&&-1===this.updateFromOpts.indexOf(opts.question.id)&&(this.updateAnswersFromOpts(),prevQuestionId=opts.question.id),null!=(null!=(ref4=opts.question)?ref4.question:void 0)&&(this.question=opts.question.question,this.question.list=function(){results=[];for(var i=0,ref5=this.question.answercount;0<=ref5?i<=ref5:ref5<=i;0<=ref5?i++:i--)results.push(i);return results}.apply(this),null!=(null!=(ref6=opts.question)&&null!=(ref7=ref6.answer)?ref7.filter:void 0)&&(this.answers=opts.question.answer.filter(function(answer){return null!=answer}).map(function(answer){return answer.tag=function(){switch(null!=answer?answer.type:void 0){case"multiple":return"multianswer";case"text":return"textinput";case"drawing":return"drawinginput";case"input":return"draginput";case"freeform":return"freeforminput";default:return"mathsinput"}}(),answer.enc||(answer.text=JSON.stringify(answer.text)),answer.enc=!0,answer})),this.showDrawingTools=opts.question.answer.filter(function(answer){return"drawing"===(null!=answer?answer.type:void 0)}).length),this.remaining=opts.multi_attempts-((null!=(ref8=opts.currentanswer)&&null!=(ref9=ref8.answer)?ref9.attempt_no:void 0)||0),this.remaining<=0&&(this.remaining="0"),this.updateAnswerColour()}),this.resetMultipleChoice=(_this=this,function(){var answers,multianswer_idx,ref,ref1,reset;if(multianswer_idx=reset=0,answers=null!=(ref=opts.currentanswer)&&null!=(ref1=ref.answer)?ref1.answer:void 0)return answers.forEach(function(answer,idx){var ref2,ref3,ref4;if("multiple"===(null!=answer?answer.type:void 0)&&answer.text&&_this.saveAnswers[idx].text!==answer.text&&(reset++,null!=(ref2=_this.root.querySelectorAll("[riot-tag=multianswer]"))&&null!=(ref3=ref2[multianswer_idx])&&null!=(ref4=ref3._tag)&&(ref4.active=answer.text.split(",").map(function(val){return+val})),_this.updateAnswerFromInput({name:"answer"+idx,value:answer.text})),"multiple"===(null!=answer?answer.type:void 0))return multianswer_idx++}),0<reset?opts.stores.trigger("toaster_add",{title:"Sorry...",type:"info",message:"Your cannot attempt multiple choice questions that many times"}):void 0}),this.updateAnswerFromInput=function(_this){return function(answer){var index;return index=answer.name.replace(/answer/,""),opts.update&&opts.update(opts.question.id,index,answer.value),_this.inputs[opts.question.id]||(_this.inputs[opts.question.id]=[]),_this.inputs[opts.question.id][answer.name.replace(/answer/,"")]=answer.value}}(this),this.updateAnswerColour=function(_this){return function(){var ref,ref1,ref2;if(null!=(null!=(ref=opts.question)?ref.id:void 0)&&(null!=(ref1=opts.currentanswer)&&null!=(ref2=ref1.answer)?ref2.answer:void 0))return opts.currentanswer.answer.answer.forEach(function(answer,idx){return answer&&+answer.marks>=opts.question.answer[idx].marks&&(_this.correct["question"+opts.question.id+"part"+idx]=!0),_this.subcorrect["question"+opts.question.id+"part"+idx]=(null!=answer?answer.parts:void 0)?null!=answer?answer.parts:void 0:null})}}(this),this.updateAnswersFromOpts=function(_this){return function(){var ref,ref1,ref2;if(_this.correct={},_this.subcorrect={},null!=(null!=(ref=opts.question)?ref.id:void 0)&&null==_this.correct[opts.question.id]&&(_this.correct[opts.question.id]=!1),(null!=(ref1=opts.currentanswer)&&null!=(ref2=ref1.answer)?ref2.answer:void 0)&&!_this.inputs[opts.question.id])try{return _this.inputs[opts.question.id]=opts.currentanswer.answer.answer.map(function(answer){if(null!=answer?answer.text:void 0)return answer.text})}catch(error){error}}}(this),this.nextQuestion=function(_this){return function(){return opts.feedback?(_this.correct[opts.question.id]=!0,opts.nextquestion()):_this.handleAnswer()}}(this),this.isCorrect=function(_this){return function(question_id,answer_idx){if(null==opts.greenboxes||!1!==opts.greenboxes)return _this.correct["question"+question_id+"part"+answer_idx]}}(this),this.isSubCorrect=function(_this){return function(question_id,answer_idx){if(null==opts.greenboxes||!1!==opts.greenboxes)return _this.subcorrect["question"+question_id+"part"+answer_idx]}}(this),this.handleAnswer=function(_this){return function(e){var k,key,ref,ref1,v,val;if(opts.question){for(key in _this.saveAnswers=[],ref=_this.inputs[opts.question.id])if(val=ref[key],_this.answers[key]){for(k in _this.saveAnswers[key]={},ref1=_this.answers[key])v=ref1[k],_this.saveAnswers[key][k]=v;_this.saveAnswers[key].text=val,_this.saveAnswers[key].marks=0}return _this.saveAnswer(),opts.feedback||(_this.correct[opts.question.id]=!0,opts.nextquestion()),riot.update()}}}(this),this.showIncorrect=function(){return opts.stores.trigger("toaster_add",{title:"Whoops!",type:"warning",message:"You have some incorrect answers"})},this.showWellDone=function(){return this.audio.play(),opts.stores.trigger("toaster_add",{title:"Well Done!",type:"success",message:"you have answered correctly"})},this.saveAnswer=function(_this){return function(){var answer,ref;if(answer={id:(null!=(ref=opts.currentanswer)?ref.answer:void 0)?opts.currentanswer.answer.id:null,answer:_this.saveAnswers,attempt_no:_this.attempts[opts.question.id],question_id:opts.question.id,correct:_this.correct[opts.question.id]},opts.onsave)return setTimeout(function(){return _this.lastsaved=!opts.currentanswer||JSON.stringify(opts.currentanswer),_this.update(),opts.onsave(answer)})}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("mathsinput",'<formgroup class="mathsinput"> <div class="relative"> <div class="form-control mathquill-editable"></div> <div onclick="{parent.showglyphs}" class="fa fa-plus-square fa-lg glyphs"> <popover title="Choose Symbols" placement="left" class="mathspop"> <div class="row"> <button onclick="{parent.parent.add.bind(null,\'\')}" class="btn btn-default"></button> <button onclick="{parent.parent.add.bind(null,\'times\')}" class="btn btn-default">&times;</button> <button onclick="{parent.parent.add.bind(null,\'divide\')}" class="btn btn-default">&divide;</button> <button onclick="{parent.parent.add.bind(null,\'pi\')}" class="btn btn-default">&pi;</button> </div> <div class="row"> <button onclick="{parent.parent.add.bind(null,\'ge\')}" class="btn btn-default">&ge;</button> <button onclick="{parent.parent.add.bind(null,\'le\')}" class="btn btn-default">&le;</button> <button onclick="{parent.parent.add.bind(null,\'cap\')}" class="btn btn-default">&cap;</button> <button onclick="{parent.parent.add.bind(null,\'cup\')}" class="btn btn-default">&cup;</button> </div> <div class="row"> <button onclick="{parent.parent.add.bind(null,\'/\')}" class="btn btn-default">&#8543;</button> <button onclick="{parent.parent.add.bind(null,\'^\')}" class="btn btn-default">&#8852;</button> <button onclick="{parent.parent.add.bind(null,\'sqrt\')}" class="btn btn-default">&#8731;</button> <button onclick="{parent.parent.add.bind(null,\'nthroot\')}" class="btn btn-default">&#8732;</button> </div> </popover> </div> </div> </formgroup>','.form-control.mathquill-editable{ padding:10px 5px; min-height:50px; font-size:21px; } .glyphs{ position:absolute; top:19px; right:10px; z-index:10; color:#888; } .glyphs:hover{ color:#000; } .mathsinput .textarea textarea{ right:0px; } .mathsinput .input-group-addon, .mathsinput .mq-math-mode .selectable{ color:#eee } .mathsinput .input-group-addon.mq-math-mode { display:table-cell; } .mathsinput .input-group-addon * { color:#555 } .mathspop .btn{ font-family: symbola, "Times New Roman", serif; padding:5px 5px; min-width:45px; font-size:24px; font-weight:bold; } .mathspop .row{ margin-bottom:5px; } .input-group-addon.mathquill-rendered-math, .input-group-addon.mq-math-mode{ font-weight:bold; font-size:18px; padding:6px 5px; }',"",function(opts){var MQ,_this;this.elem=null,this.mathQuillMounted=!1,this.updatecount=0,this.value=null,MQ=MathQuill.getInterface(2),this.on("mount",function(){var config,_this;this.once=!0;try{if(this.elem=this.root.querySelector(".mathquill-editable"),config={spaceBehavesLikeTab:!0,handlers:{edit:(_this=this,function(){var enteredMath;return null==(enteredMath=_this.field.latex())||"string"!=typeof enteredMath||opts.showanswer||(_this.value=enteredMath.replace(/\\\{/g,"{")),_this.onupdate()})}},window.navigator.userAgent.match(/android/i)&&(config.substituteTextarea=function(){var elem;return(elem=document.createElement("span")).setAttribute("tabindex",0),elem}),this.field=MQ.MathField(this.elem,config),this.field.cmd(opts.value||""),this.elem.mathquill)return this.elem.mathquill("latex",opts.value||"")}catch(error){error}}),this.on("unmount",function(){if(this.field&&this.field.revert(),this.timeout)return clearTimeout(this.timeout)}),this.onupdate=(_this=this,function(e){return opts.onupdate({name:opts.id,value:_this.value})}),this.on("update",function(){var opts_answer,ref,ref1,ref2;return opts.showanswer?(opts_answer=JSON.parse(opts.answers),this.opts_answer=(null!=(ref=opts_answer.split(";"))&&null!=(ref1=ref[0])?ref1.replace(/\\\{/g,"{"):void 0)||(null!=opts_answer?opts_answer.replace(/\\\{/g,"{"):void 0)):this.opts_answer=null,null!=(ref2=this.root.querySelector(".mathquill-editable"))?ref2.style.color=opts.showanswer?"red":"black":void 0}),this.on("updated",function(){try{if($(this.root).find(".input-group-addon").each(function(){var latex;return latex=this.getAttribute("content"),MQ.StaticMath(this).latex(latex.replace(/\\\{/g,"{"))}),this.field)return this.field.latex(this.opts_answer||this.value||"")}catch(error){error}}),this.showglyphs=function(_this){return function(e){return e.preventUpdate=!0,_this.tags.formgroup.tags.popover[0].clicked(e),_this.onupdate()}}(this),this.add=function(_this){return function(str,e){if(_this.tags.formgroup.tags.popover[0].clicked(e),_this.field)return _this.field.cmd(str),_this.field.focus()}}(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("drawinginput",'<div style="padding:8px 0;clear:both" class="btn-toolbar"></div>',"","",function(opts){var _this;this.shapedata=[],this.handlingUpdate=!1,this.on("mount",function(){return opts.stores.on("answer_drawing_updated",this.handleDrawingUpdated),opts.stores.trigger("answer_toolsync"),opts.stores.trigger("answer_drawing_updated",opts.value?opts.value:[])}),this.on("unmount",function(){if(opts.stores.off("answer_drawing_updated",this.handleDrawingUpdated),this.handlingUpdate)return clearTimeout(this.handlingUpdate)}),this.handleDrawingUpdated=(_this=this,function(shapedata){return _this.shapedata=shapedata,_this.handlingUpdate&&clearTimeout(_this.handlingUpdate),_this.handlingUpdate=setTimeout(function(){return _this.handlingUpdate=!1,opts.onupdate({name:opts.id,value:_this.shapedata})})})}),riot.tag2("drawingtoolbar",'<div class="row"> <div class="col-xs-12"></div> <button onclick="{addLine}" style="padding:4px 0" __disabled="{opts.question.disabled.line}" class="btn btn-default col-xs-4 col-md-2 col-lg-4 dtoolbtn"> <tip tip="Point-to-Point Straight Line (draggable)" style="display:block" __disabled="{opts.question.disabled.line}"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 30 30"> <path d="M24.707 6h1.798c.28 0 .495-.222.495-.495v-2.01A.492.492 0 0026.505 3h-2.01a.492.492 0 00-.495.495v1.798L5.293 24H3.495a.492.492 0 00-.495.495v2.01c0 .28.222.495.495.495h2.01c.28 0 .495-.222.495-.495v-1.798L24.707 6zM26 4v1h-1V4h1zM5 25v1H4v-1h1z" fill="#000" fill-rule="evenodd"></path> </svg> </tip> </button> <button onclick="{toggleRuler}" __disabled="{opts.question.disabled.ruler}" class="btn btn-default col-xs-4 col-md-2 col-lg-4 dtoolbtn {active:rulerShow}"> <tip tip="Ruler" style="display:block" __disabled="{opts.question.disabled.ruler}"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 640 640"> <path style="fill:currentColor;stroke-width:20px;stroke:none;" d="M455.968 14.016l-441.952 442.016c-18.688 18.688-18.688 49.216 0.064 67.968l101.92 101.984c18.688 18.688 49.312 18.752 67.968 0.064l442.016-442.016c18.688-18.72 18.688-49.312 0-68l-101.952-102.016c-18.784-18.752-49.344-18.656-68.064 0zM125.728 489.984l-24.288 24.288-60.672-60.704 24.288-24.288 60.672 60.704zM222.88 489.984l-24.288 24.288-109.28-109.28 24.288-24.32 109.28 109.312zM222.88 392.832l-24.288 24.288-60.736-60.672 24.32-24.32 60.704 60.704zM271.456 344.256l-24.288 24.288-60.672-60.672 24.288-24.32 60.672 60.704zM368.576 344.256l-24.288 24.288-109.248-109.248 24.288-24.288 109.248 109.248zM368.576 247.136l-24.288 24.288-60.672-60.672 24.288-24.288 60.672 60.672zM417.152 198.592l-24.288 24.288-60.704-60.704 24.288-24.288 60.704 60.704zM514.304 198.592l-24.32 24.288-109.248-109.28 24.288-24.32 109.28 109.312zM514.272 101.472l-24.288 24.288-60.672-60.736 24.288-24.256 60.672 60.704z"></path> </svg> </tip> </button> <button onclick="{addCross}" __disabled="{opts.question.disabled.point}" class="btn btn-default col-xs-4 col-md-2 col-lg-4 dtoolbtn"> <tip tip="Cross (draggable)" style="display:block" __disabled="{opts.question.disabled.point}"><span class="fa fa-times fa-2x"><sup>+</sup></span></tip> </button> <button onclick="{toggleCompass}" __disabled="{opts.question.disabled.compass}" class="btn btn-default col-xs-4 col-md-2 col-lg-4 dtoolbtn {active:compassShow}"> <tip tip="Compass" style="display:block" __disabled="{opts.question.disabled.compass}"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 736 1024"> <path d="M368.448 192c8.832 0 16-7.168 16-16v-48h15.552c8.832 0 16-7.168 16-16v-96c0-8.832-7.168-16-16-16h-64c-8.832 0-16 7.168-16 16v96c0 8.832 7.168 16 16 16h16.448v48c0 8.832 7.136 16 16 16zM352 32h32v64h-32v-64zM8.576 1018.144c2.368 1.248 4.896 1.856 7.424 1.856 5.76 0 11.328-3.136 14.144-8.576l137.344-261.536c61.6 30.944 129.888 47.68 200.928 47.68 70.848 0 139.008-16.672 200.48-47.456l136.896 261.312c2.88 5.44 8.448 8.576 14.176 8.576 2.496 0 5.056-0.608 7.424-1.824 7.808-4.128 10.848-13.792 6.752-21.632l-137.216-261.92c31.712-18.88 61.504-41.344 88.256-68.096 31.2-31.2 31.2-81.952 0-113.12-30.24-30.24-83.008-30.176-113.12 0-15.136 15.136-31.808 28.16-49.44 39.36l-75.456-144.032c29.216-23.328 48.352-58.784 48.352-98.976 0-70.080-57.024-127.136-127.136-127.136s-127.040 57.056-127.040 127.168c0 40.16 19.072 75.584 48.224 98.912l-75.616 143.936c-17.536-11.2-34.112-24.16-49.152-39.2-30.24-30.24-83.008-30.176-113.12 0-31.2 31.2-31.2 81.952 0 113.12 26.624 26.624 56.288 49.024 87.84 67.84l-137.664 262.144c-4.128 7.84-1.12 17.504 6.72 21.6zM108.224 561.984c12.832 0 24.896 4.992 33.984 14.048 60.352 60.352 140.672 93.568 226.24 93.568s165.952-33.216 226.304-93.568c18.112-18.144 49.76-18.080 67.872 0 18.72 18.72 18.72 49.152 0 67.872-78.464 78.432-182.976 121.664-294.176 121.664-111.264 0-215.68-43.232-294.112-121.664-18.72-18.72-18.72-49.152 0-67.872 9.024-9.024 21.056-14.048 33.888-14.048zM273.344 349.792c0-52.448 42.656-95.136 95.104-95.136s95.136 42.688 95.136 95.136-42.688 95.136-95.136 95.136-95.104-42.72-95.104-95.136zM316.768 465.696c15.808 7.072 33.248 11.232 51.68 11.232 18.368 0 35.744-4.096 51.52-11.136l74.72 142.624c-38.848 18.944-81.696 29.248-126.24 29.248-44.672 0-87.616-10.336-126.528-29.376l74.848-142.592z"></path> </svg> </tip> </button> <button onclick="{toggleProtractor}" __disabled="{opts.question.disabled.protractor}" class="btn btn-default col-xs-4 col-md-2 col-lg-4 dtoolbtn {active:protractorShow}"> <tip tip="Protractor" style="display:block" __disabled="{opts.question.disabled.protractor}"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="310 130 220 220" __disabled="{opts.question.disabled.ruler}"> <path style="fill:none;stroke-width:10px;stroke:currentColor;" d="M527.559,304L468.271,304L318.715,304C318.715,246.368 365.505,195.578 423.137,195.578C480.769,195.578 527.558,246.367 527.559,304ZM485.955,280.612C485.954,245.941 457.807,221.794 423.137,221.794C388.467,221.794 360.319,245.941 360.319,280.612L485.955,280.612Z"></path> <g transform="matrix(0.957697,0,0,0.957697,16.7632,11.2862)"> <path style="fill:none;stroke-width:8px;stroke:currentColor;" d="M513.856,266.75L521.205,264.075C521.362,264.505 514.014,267.18 513.856,266.75ZM332.701,265.989C332.54,266.417 325.191,263.742 325.352,263.314L332.701,265.989ZM497.253,238.065L503.241,233.041C503.535,233.392 497.547,238.417 497.253,238.065ZM350.009,236.903C349.71,237.25 343.721,232.225 344.021,231.878L350.009,236.903ZM471.874,216.591L475.783,209.82C476.178,210.051 472.269,216.823 471.874,216.591ZM376.185,215.571C375.785,215.794 371.875,209.022 372.275,208.798L376.185,215.571ZM440.57,204.969L441.928,197.268C442.379,197.35 441.021,205.051 440.57,204.969ZM405.295,197.099C405.746,197.021 407.104,204.723 406.653,204.8L405.295,197.099Z"></path> </g> </svg> </tip> </button> <button onclick="{togglePaper}" __disabled="{opts.question.disabled.tracing}" class="btn btn-default col-xs-4 col-md-2 col-lg-4 dtoolbtn {active:paperShow}"> <tip tip="Tracing Paper" style="display:block" __disabled="{opts.question.disabled.tracing}"><span class="fa fa-file-o fa-2x"></span></tip> </button> </div> <div if="{shapedata.length}" class="row"> <table class="table table-striped table-condensed"> <thead> <tr> <th>Shape </th> <th show="{tools.paperShow}" class="text-center"> Tracing </th> <th class="text-right"> Remove</th> </tr> </thead> <tbody> <tr each="{shape,i in shapedata}"> <td>{shape.type}</td> <td show="{parent.tools.paperShow}" class="text-center"> <input type="checkbox" __checked="{shape.tracing}" onclick="{toggleTracing}"> </td> <td class="text-right"> <button onclick="{removeShape}" class="btn btn-xs btn-danger"><span class="fa fa-times"></span></button> </td> </tr> </tbody> </table> <div style="margin-top:4px;"> <button onclick="{clear}" class="btn btn-sm btn-primary btn-block">Clear Drawing</button> </div> </div>',"drawingtoolbar { margin: 0 10px; display: block; } drawingtoolbar .btn { position: relative; } drawingtoolbar svg { height: 2em; max-width: 2em; pointer-events: none; } drawingtoolbar .dtoolbtn { height: 45px; }",'class="clearfix"',function(opts){var _this;this.handlingUpdate=!1,this.tools={},this.on("mount",function(){return opts.stores.on("answer_drawing_updated",this.handleDrawingUpdated),opts.stores.on("answer_tools_updated",this.handleToolsUpdated),opts.stores.on("answer_scale_update",this.handleScaleUpdate),opts.stores.trigger("answer_toolsync"),opts.stores.trigger("answer_drawing_updated",opts.value?opts.value:[])}),this.on("unmount",function(){if(this.tools.rulerShow=!1,this.tools.compassShow=!1,this.tools.protractorShow=!1,this.tools.paperShow=!1,opts.stores.off("answer_drawing_updated",this.handleDrawingUpdated),opts.stores.trigger("answer_toolchange",this.tools),opts.stores.off("answer_tools_updated",this.handleToolsUpdated),opts.stores.off("answer_scale_update",this.handleScaleUpdate),this.handlingUpdate)return clearTimeout(this.handlingUpdate)}),this.handleToolsUpdated=(_this=this,function(tools){return _this.tools=tools,_this.rulerShow=_this.tools.rulerShow,_this.compassShow=_this.tools.compassShow,_this.protractorShow=_this.tools.protractorShow,_this.paperShow=_this.tools.paperShow,_this.update()}),this.handleDrawingUpdated=function(_this){return function(shapedata){return _this.shapedata=shapedata,_this.tools.paperShow||_this.endTracing(),_this.update()}}(this),this.handleScaleUpdate=function(_this){return function(scale){return _this.scale=scale,_this.update()}}(this),this.toggleTracing=function(_this){return function(e){return _this.shapedata[e.item.i].tracing=!_this.shapedata[e.item.i].tracing,opts.stores.trigger("answer_trigger_drawing_updated",_this.shapedata)}}(this),this.removeShape=function(_this){return function(e){return e.preventDefault(),_this.shapedata.splice(e.item.i,1),opts.stores.trigger("answer_trigger_drawing_updated",_this.shapedata)}}(this),this.toggleRuler=function(_this){return function(){return _this.tools.rulerShow=!_this.rulerShow,opts.stores.trigger("answer_toolchange",_this.tools)}}(this),this.toggleCompass=function(_this){return function(){return _this.tools.compassShow=!_this.compassShow,opts.stores.trigger("answer_toolchange",_this.tools)}}(this),this.toggleProtractor=function(_this){return function(){return _this.tools.protractorShow=!_this.protractorShow,opts.stores.trigger("answer_toolchange",_this.tools)}}(this),this.togglePaper=function(_this){return function(){if(_this.tools.paperShow=!_this.paperShow,opts.stores.trigger("answer_toolchange",_this.tools),!_this.tools.paperShow)return _this.endTracing()}}(this),this.endTracing=function(_this){return function(){return _this.shapedata=_this.shapedata.map(function(shape){return delete shape.tracing,shape}),opts.stores.trigger("answer_trigger_drawing_updated",_this.shapedata)}}(this),this.addCross=function(_this){return function(){return _this.shapedata.push({type:"point",x1:100/_this.scale,y1:100/_this.scale,tracing:_this.paperShow}),opts.stores.trigger("answer_trigger_drawing_updated",_this.shapedata)}}(this),this.addLine=function(_this){return function(){return _this.shapedata.push({type:"line",x1:100/_this.scale,y1:100/_this.scale,x2:200/_this.scale,y2:100/_this.scale,tracing:_this.paperShow}),opts.stores.trigger("answer_trigger_drawing_updated",_this.shapedata)}}(this),this.clear=function(){return opts.stores.trigger("answer_trigger_drawing_clear")},this.undo=function(e){return opts.stores.trigger("answer_trigger_drawing_undo")}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("drawing",'<canvas name="canvas" width="920" height="520"> </canvas> <protractor if="{protractorShow}"></protractor> <compass name="compass" if="{compassShow}" ondraw="{compassDraw}" ondrawend="{compassEnd}" scale="{scale}"></compass> <ruler if="{rulerShow}" cm="88" pencilpos="{pencilPos}" pencilstop="{pencilStop}" scale="{scale}" style=""></ruler> <paper name="paper" if="{paperShow}" papershow="{paperShow}" onmove="{tracingMove}" onrotate="{tracingRotate}" onfliph="{tracingFlipH}" onflipv="{tracingFlipV}"> </paper> <handle each="{point,i in points}" riot-style="left:{point.x1*scale}px;top:{point.y1*scale}px" point="{point}" update="{parent.pointUpdate}"></handle> <handle each="{point,i in lines}" riot-style="left:{point.x1*scale}px;top:{point.y1*scale}px" point="{point}" update="{parent.lineUpdate1}"></handle> <handle each="{point,i in lines}" riot-style="left:{point.x2*scale}px;top:{point.y2*scale}px" point="{point}" update="{parent.lineUpdate2}"></handle>',"drawing{ display:block; position:absolute; }","",function(opts){var ctx,mirrorPoint,mirrorPointV,rotateMatix,shapedata,shapes,_this;shapedata=[],this.points=[],this.handles=[],this.lines=[],this.pencilStart=!1,ctx=this.canvas.getContext("2d"),this.canvas.getBoundingClientRect(),this.paper.getBoundingClientRect(),ctx.strokeStyle="#FF0000",this.on("mount",function(){if(opts.stores.on("answer_tools_updated",this.handleToolsUpdated),opts.stores.on("answer_drawing_updated",this.handleDrawingUpdated),opts.stores.on("answer_drawing_clear",this.clear),opts.stores.on("answer_drawing_undo",this.undoDrawingStep),opts.stores.trigger("answer_toolsync"),this.quesImg=document.querySelector(".img-question"),this.quesImg)return this.quesImg.addEventListener("load",this.positionAnswer),window.addEventListener("resize",this.rescale,!0)}),this.on("unmount",function(){return this.quesImg&&this.quesImg.removeEventListener("load",this.positionAnswer),opts.stores.off("answer_tools_updated",this.handleToolsUpdated),opts.stores.off("answer_drawing_clear",this.clear),opts.stores.off("answer_drawing_undo",this.undoDrawingStep),opts.stores.off("answer_drawing_updated",this.handleDrawingUpdated),this.canvas.removeEventListener("touchmove",this.stopMove),window.removeEventListener("resize",this.rescale)}),this.on("update",function(){return this.points=shapedata.filter(function(s){return"point"===s.type}),this.lines=shapedata.filter(function(s){return"line"===s.type}),this.redraw()}),this.handleDrawingUpdated=(_this=this,function(sdata){return shapedata=sdata,_this.update()}),this.positionAnswer=function(_this){return function(){var pos,quesImg;if(quesImg=document.querySelector(".img-question"))return pos=quesImg.getBoundingClientRect(),_this.root.style.top=quesImg.offsetTop+"px",_this.root.style.left=quesImg.offsetLeft+"px",_this.root.style.width=pos.width+"px",_this.root.style.height=pos.height+"px",_this.canvas.setAttribute("height",pos.height),_this.scale=pos.width/100,opts.stores.trigger("answer_setscale",_this.scale),_this.update()}}(this),this.handleToolsUpdated=function(_this){return function(tools){return _this.tools=tools,_this.rulerShow&&!_this.tools.rulerShow&&(document.querySelector("ruler").setAttribute("style",""),document.querySelector("ruler")._tag.reset()),_this.protractorShow&&!_this.tools.protractorShow&&(document.querySelector("protractor").setAttribute("style",""),document.querySelector("protractor")._tag.reset()),_this.compassShow&&!_this.tools.compassShow&&(_this.compass.setAttribute("style",""),_this.compass._tag.reset()),_this.paperShow&&!_this.tools.paperShow&&(_this.paper.setAttribute("style",""),_this.paper._tag.reset()),_this.rulerShow=_this.tools.rulerShow,_this.compassShow=_this.tools.compassShow,_this.protractorShow=_this.tools.protractorShow,_this.paperShow=_this.tools.paperShow,_this.update()}}(this),this.pencilPos=function(_this){return function(pos){return _this.pencilStart||(_this.pencilStart=pos,ctx.beginPath(),ctx.strokeStyle="#FF0000",ctx.lineWidth=1,ctx.moveTo(pos.left,pos.top)),ctx.lineTo(pos.left,pos.top),ctx.stroke()}}(this),this.pencilStop=function(_this){return function(pos){return shapedata.push({type:"line",x1:_this.pencilStart.left/_this.scale,y1:_this.pencilStart.top/_this.scale,x2:pos.left/_this.scale,y2:pos.top/_this.scale,tracing:_this.paperShow}),_this.pencilStart=!1,opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.compassDraw=function(_this){return function(pos){return ctx=_this.canvas.getContext("2d"),_this.canvas.getBoundingClientRect(),ctx.strokeStyle="#FF0000",ctx.beginPath(),ctx.arc(pos.x,pos.y,pos.r,pos.rad1,pos.rad2,pos.anticlockwise),ctx.stroke()}}(this),this.compassEnd=function(_this){return function(arc){return arc.x=arc.x/_this.scale,arc.r=arc.r/_this.scale,arc.y=arc.y/_this.scale,arc.tracing=_this.paperShow,shapedata.push(arc),opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.crossStop=function(_this){return function(pos){return shapedata.push({type:"point",x1:pos.left/_this.scale,y1:pos.top/_this.scale,tracing:_this.paperShow}),opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.clear=function(){return shapedata=[],opts.stores.trigger("answer_trigger_drawing_updated",shapedata)},this.undoDrawingStep=function(a){return shapedata.pop(),opts.stores.trigger("answer_trigger_drawing_updated",shapedata)},this.redraw=function(_this){return function(){if(null!=shapedata?shapedata.forEach:void 0)return ctx.strokeStyle="#FF0000",ctx.clearRect(0,0,_this.canvas.width,_this.canvas.height),shapedata.forEach(function(shape){if(ctx.lineWidth=3,ctx.setLineDash(shape.tracing?[3,2]:[]),null!=shapes[shape.type])return shapes[shape.type](shape)})}}(this),shapes={rect:function(_this){return function(options){return ctx.beginPath(),ctx.rect(options.x*_this.scale,options.y*_this.scale,options.w*_this.scale,options.h*_this.scale),ctx.stroke()}}(this),circle:function(options){return ctx.beginPath(),ctx.arc(options.x,options.y,options.r,0,2*Math.PI),ctx.stroke()},arc:function(_this){return function(opts){return ctx.beginPath(),ctx.arc(opts.x*_this.scale,opts.y*_this.scale,opts.r*_this.scale,opts.rad1,opts.rad2),ctx.stroke()}}(this),line:function(_this){return function(options){return ctx.beginPath(),ctx.moveTo(options.x1*_this.scale,options.y1*_this.scale),ctx.lineTo(options.x2*_this.scale,options.y2*_this.scale),ctx.stroke()}}(this),point:function(_this){return function(options){return ctx.beginPath(),ctx.moveTo((options.x1-1)*_this.scale,(options.y1-1)*_this.scale),ctx.lineTo((options.x1+1)*_this.scale,(options.y1+1)*_this.scale),ctx.moveTo((options.x1+1)*_this.scale,(options.y1-1)*_this.scale),ctx.lineTo((options.x1-1)*_this.scale,(options.y1+1)*_this.scale),ctx.stroke()}}(this)},this.rescale=function(_this){return function(){return _this.positionAnswer()}}(this),this.pointUpdate=function(_this){return function(arg){var idx,point,x,y;if(point=arg.point,x=arg.x,y=arg.y,-1<(idx=shapedata.indexOf(point)))return shapedata[idx].x1=x/_this.scale,shapedata[idx].y1=y/_this.scale,opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.lineUpdate1=function(_this){return function(arg){var idx,point,x,y;if(point=arg.point,x=arg.x,y=arg.y,-1<(idx=shapedata.indexOf(point)))return shapedata[idx].x1=x/_this.scale,shapedata[idx].y1=y/_this.scale,opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.lineUpdate2=function(_this){return function(arg){var idx,point,x,y;if(point=arg.point,x=arg.x,y=arg.y,-1<(idx=shapedata.indexOf(point)))return shapedata[idx].x2=x/_this.scale,shapedata[idx].y2=y/_this.scale,opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.tracingRotate=function(_this){return function(radians,center){if(null!=shapedata?shapedata.forEach:void 0)return shapedata=shapedata.map(function(shape){var left,ref,ref1,ref2,top;return shape.tracing&&(null!=shape.x&&(left=(ref=rotateMatix(shape.x,shape.y,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref.top,shape.x=left,shape.y=top,shape.rad1-=radians,shape.rad2-=radians),null!=shape.x1&&(left=(ref1=rotateMatix(shape.x1,shape.y1,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref1.top,shape.x1=left,shape.y1=top),null!=shape.x2&&(left=(ref2=rotateMatix(shape.x2,shape.y2,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref2.top,shape.x2=left,shape.y2=top)),shape}),opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.tracingMove=function(_this){return function(delta){if(null!=shapedata?shapedata.forEach:void 0)return shapedata=shapedata.map(function(shape){return shape.tracing&&(null!=shape.x&&(shape.x+=delta.left/_this.scale,shape.y+=delta.top/_this.scale),null!=shape.x1&&(shape.x1+=delta.left/_this.scale,shape.y1+=delta.top/_this.scale),null!=shape.x2&&(shape.x2+=delta.left/_this.scale,shape.y2+=delta.top/_this.scale)),shape}),opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.tracingFlipH=function(_this){return function(radians,center){if(null!=shapedata?shapedata.forEach:void 0)return shapedata=shapedata.map(function(shape){var left,rad1,rad2,ref,ref1,ref2,top;return shape.tracing&&(null!=shape.x&&(left=(ref=mirrorPoint(shape.x,shape.y,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref.top,shape.x=left,shape.y=top,rad1=shape.rad1,rad2=shape.rad2,shape.rad1=Math.PI-rad2+2*radians,shape.rad2=Math.PI-rad1+2*radians),null!=shape.x1&&(left=(ref1=mirrorPoint(shape.x1,shape.y1,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref1.top,shape.x1=left,shape.y1=top),null!=shape.x2&&(left=(ref2=mirrorPoint(shape.x2,shape.y2,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref2.top,shape.x2=left,shape.y2=top)),shape}),opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),this.tracingFlipV=function(_this){return function(radians,center){if(null!=shapedata?shapedata.forEach:void 0)return shapedata=shapedata.map(function(shape){var left,rad1,rad2,ref,ref1,ref2,top;return shape.tracing&&(null!=shape.x&&(left=(ref=mirrorPointV(shape.x,shape.y,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref.top,shape.x=left,shape.y=top,rad1=shape.rad1,rad2=shape.rad2,shape.rad1=0-rad2+2*radians,shape.rad2=0-rad1+2*radians),null!=shape.x1&&(left=(ref1=mirrorPointV(shape.x1,shape.y1,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref1.top,shape.x1=left,shape.y1=top),null!=shape.x2&&(left=(ref2=mirrorPointV(shape.x2,shape.y2,(center.left+_this.paper.offsetLeft)/_this.scale,(center.top+_this.paper.offsetTop)/_this.scale,radians)).left,top=ref2.top,shape.x2=left,shape.y2=top)),shape}),opts.stores.trigger("answer_trigger_drawing_updated",shapedata)}}(this),mirrorPoint=function(left,top,centerX,centerY,radians){var ref,ref1;return left=(ref=rotateMatix(left,top,centerX,centerY,radians)).left,top=ref.top,{left:left=(ref1=rotateMatix(left=centerX-left+centerX,top,centerX,centerY,0-radians)).left,top:top=ref1.top}},mirrorPointV=function(left,top,centerX,centerY,radians){var ref,ref1;return left=(ref=rotateMatix(left,top,centerX,centerY,radians)).left,top=ref.top,{left:left=(ref1=rotateMatix(left,top=centerY-top+centerY,centerX,centerY,0-radians)).left,top:top=ref1.top}},rotateMatix=function(x,y,centerX,centerY,radians){var cos,sin;return{left:(cos=Math.cos(radians))*(x-centerX)+(sin=Math.sin(radians))*(y-centerY)+centerX,top:cos*(y-centerY)-sin*(x-centerX)+centerY}}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("ruler",'<div class="svgwrap"> <svg viewbox="0 0 6044 1078" xmlns="http://www.w3.org/2000/svg" riot-style="{\'width:\'+(opts.scale*132)+\'px;left:-\'+(opts.scale*2)+\'px\'}" fill-rule="evenodd" clip-rule="evenodd"> <path d="M89.945 9.1v525.33M148.623 9.1v180.45M207.301 9.1v180.45M265.978 9.1v180.45M324.656 9.1v180.45M383.334 9.1v319.58M442.012 9.1v180.45M500.689 9.1v180.45M559.367 9.1v180.45M618.041 9.1v180.45M676.721 9.1v525.33M735.401 9.1v180.45M794.081 9.1v180.45M852.761 9.1v180.45M911.431 9.1v180.45M970.111 9.1v319.58M1028.791 9.1v180.45M1087.471 9.1v180.45M1146.141 9.1v180.45M1204.821 9.1v180.45M1263.501 9.1v525.33M1322.181 9.1v180.45M1380.861 9.1v180.45M1439.531 9.1v180.45M1498.211 9.1v180.45M1556.891 9.1v319.58M1615.571 9.1v180.45M1674.241 9.1v180.45M1732.921 9.1v180.45M1791.601 9.1v180.45M1850.281 9.1v525.33M1908.951 9.1v180.45M1967.631 9.1v180.45M2026.311 9.1v180.45M2084.991 9.1v180.45M2143.671 9.1v319.58M2202.341 9.1v180.45M2261.021 9.1v180.45M2319.701 9.1v180.45M2378.381 9.1v180.45M2437.051 9.1v525.33M2495.731 9.1v180.45M2554.411 9.1v180.45M2613.091 9.1v180.45M2671.771 9.1v180.45M2730.441 9.1v319.58M2789.121 9.1v180.45M2847.801 9.1v180.45M2906.481 9.1v180.45M2965.151 9.1v180.45M3023.831 9.1v525.33M3082.511 9.1v180.45M3141.191 9.1v180.45M3199.871 9.1v180.45M3258.541 9.1v180.45M3317.221 9.1v319.58M3375.901 9.1v180.45M3434.581 9.1v180.45M3493.251 9.1v180.45M3551.931 9.1v180.45M3610.611 9.1v525.33M3669.291 9.1v180.45M3727.961 9.1v180.45M3786.641 9.1v180.45M3845.321 9.1v180.45M3904.001 9.1v319.58M3962.671 9.1v180.45M4021.351 9.1v180.45M4080.031 9.1v180.45M4138.711 9.1v180.45M4197.391 9.1v525.33M4256.061 9.1v180.45M4314.741 9.1v180.45M4373.421 9.1v180.45M4432.101 9.1v180.45M4490.781 9.1v319.58M4549.451 9.1v180.45M4608.131 9.1v180.45M4666.811 9.1v180.45M4725.491 9.1v180.45M4784.161 9.1v525.33M4842.841 9.1v180.45M4901.521 9.1v180.45M4960.201 9.1v180.45M5018.881 9.1v180.45M5077.551 9.1v319.58M5136.231 9.1v180.45M5194.911 9.1v180.45M5253.591 9.1v180.45M5312.261 9.1v180.45M5370.941 9.1v525.33M5429.621 9.1v180.45M5488.301 9.1v180.45M5546.981 9.1v180.45M5605.651 9.1v180.45M5664.331 9.1v319.58M5723.011 9.1v180.45M5781.691 9.1v180.45M5840.361 9.1v180.45M5899.041 9.1v180.45M5957.721 9.1v525.33" fill="none" stroke="#000" stroke-width="12"></path> <path d="M123.188 479.049c0-12.24 1.152-22.032 3.744-29.376 2.448-7.488 6.192-13.248 11.088-17.28 5.04-4.032 11.232-6.048 18.72-6.048 5.472 0 10.368 1.152 14.544 3.312 4.176 2.304 7.632 5.472 10.368 9.648 2.736 4.176 4.752 9.36 6.336 15.408 1.584 6.048 2.304 14.112 2.304 24.336 0 12.096-1.152 21.888-3.744 29.232-2.448 7.488-6.192 13.248-11.088 17.28-4.896 4.032-11.232 6.048-18.72 6.048-9.936 0-17.712-3.6-23.472-10.656-6.768-8.64-10.08-22.608-10.08-41.904zm12.96 0c0 16.848 2.016 28.224 5.904 33.84 4.032 5.472 8.928 8.352 14.688 8.352s10.656-2.88 14.688-8.496c3.888-5.616 5.904-16.848 5.904-33.696 0-16.992-2.016-28.224-5.904-33.84-4.032-5.616-8.928-8.352-14.832-8.352-5.76 0-10.512 2.448-13.968 7.344-4.32 6.336-6.48 17.856-6.48 34.848zM616.533 515.351h-12.672v-80.64c-3.024 2.88-7.056 5.76-12.096 8.64-4.896 3.024-9.36 5.184-13.248 6.624v-12.24c7.056-3.312 13.248-7.344 18.576-12.096 5.328-4.752 9.072-9.36 11.232-13.824h8.208v103.536zM1220.826 503.255v12.096h-68.112c0-3.024.432-6.048 1.584-8.784 1.728-4.608 4.464-9.216 8.208-13.68 3.888-4.608 9.36-9.792 16.56-15.696 11.232-9.072 18.864-16.416 22.752-21.744 3.888-5.472 5.904-10.512 5.904-15.264 0-5.04-1.728-9.216-5.328-12.672-3.6-3.456-8.352-5.184-14.112-5.184-6.048 0-10.944 1.872-14.544 5.472-3.744 3.6-5.472 8.784-5.616 15.264l-12.96-1.44c.864-9.648 4.176-16.992 10.08-22.176 5.76-5.04 13.536-7.632 23.328-7.632 9.936 0 17.712 2.736 23.472 8.208 5.76 5.472 8.64 12.384 8.64 20.448 0 4.176-.72 8.208-2.448 12.096-1.728 4.032-4.464 8.208-8.352 12.672-4.032 4.32-10.512 10.368-19.584 18.144-7.632 6.336-12.528 10.656-14.688 12.96a44.564 44.564 0 00-5.328 6.912h50.544zM1738.602 488.135l12.672-1.728c1.44 7.2 3.888 12.384 7.344 15.552 3.6 3.168 7.776 4.752 12.816 4.752 5.904 0 10.944-2.016 15.12-6.192 4.032-4.176 6.048-9.216 6.048-15.264 0-5.904-1.872-10.656-5.616-14.4-3.744-3.888-8.64-5.76-14.544-5.76-2.304 0-5.328.576-8.928 1.44l1.44-11.088c.864.144 1.584.144 2.016.144 5.472 0 10.224-1.44 14.544-4.176 4.32-2.88 6.48-7.2 6.48-13.104 0-4.608-1.584-8.496-4.608-11.52-3.168-3.024-7.2-4.464-12.24-4.464-4.896 0-9.072 1.44-12.24 4.608-3.312 3.024-5.472 7.632-6.336 13.824l-12.672-2.16c1.584-8.496 5.04-15.12 10.512-19.728 5.472-4.752 12.24-7.056 20.448-7.056 5.616 0 10.8 1.296 15.552 3.6 4.752 2.448 8.352 5.76 10.8 9.936 2.592 4.176 3.888 8.64 3.888 13.248 0 4.464-1.296 8.496-3.6 12.24-2.448 3.6-5.904 6.48-10.656 8.64 6.048 1.44 10.8 4.32 14.256 8.784 3.312 4.464 5.04 9.936 5.04 16.704 0 8.928-3.312 16.56-9.936 22.896-6.48 6.192-14.832 9.36-24.768 9.36-9.072 0-16.56-2.736-22.608-8.064-5.904-5.472-9.36-12.384-10.224-21.024zM2387.486 514.931v-24.624h-44.64v-11.664l46.944-66.816h10.368v66.816h13.968v11.664h-13.968v24.624h-12.672zm0-36.288v-46.512l-32.256 46.512h32.256zM2920.072 486.449l13.248-1.008c1.008 6.48 3.168 11.232 6.768 14.544 3.6 3.312 7.92 4.896 12.96 4.896 6.192 0 11.376-2.304 15.552-6.912 4.176-4.608 6.336-10.656 6.336-18.288 0-7.2-2.016-12.96-6.048-17.136-4.176-4.032-9.36-6.192-15.984-6.192-4.032 0-7.776.864-11.088 2.736-3.168 1.872-5.76 4.32-7.632 7.2l-11.952-1.44 9.936-52.992h51.264v12.096h-41.04l-5.616 27.648c6.192-4.32 12.672-6.48 19.44-6.48 9.072 0 16.704 3.168 22.896 9.36 6.192 6.336 9.216 14.256 9.216 24.048 0 9.36-2.736 17.424-8.208 24.192-6.48 8.352-15.552 12.528-27.072 12.528-9.36 0-16.992-2.592-22.896-7.776-5.904-5.328-9.36-12.24-10.08-21.024zM3570.666 437.447l-12.672 1.008c-1.152-4.896-2.736-8.496-4.752-10.8-3.456-3.6-7.632-5.328-12.672-5.328-4.032 0-7.632 1.008-10.656 3.312-3.888 2.88-7.056 7.2-9.36 12.672-2.304 5.616-3.456 13.536-3.6 23.904 3.024-4.608 6.768-8.064 11.232-10.368 4.32-2.304 8.928-3.312 13.824-3.312 8.352 0 15.552 3.024 21.456 9.216 6.048 6.192 8.928 14.256 8.928 24.192 0 6.336-1.296 12.384-4.176 18-2.736 5.472-6.624 9.792-11.52 12.672-4.752 3.024-10.368 4.464-16.56 4.464-10.512 0-19.152-3.888-25.776-11.664-6.624-7.632-9.936-20.448-9.936-38.304 0-19.872 3.6-34.416 10.944-43.488 6.48-7.776 15.12-11.808 25.92-11.808 8.208 0 14.832 2.304 20.016 6.912 5.184 4.464 8.208 10.8 9.36 18.72zm-51.696 44.496c0 4.32.864 8.496 2.736 12.528 1.872 4.032 4.464 7.056 7.776 9.072 3.312 2.16 6.768 3.168 10.512 3.168 5.328 0 9.936-2.16 13.68-6.48 3.888-4.32 5.76-10.224 5.76-17.568 0-7.2-1.872-12.816-5.616-16.848-3.888-4.032-8.64-6.192-14.4-6.192-5.616 0-10.512 2.16-14.544 6.192-3.888 4.032-5.904 9.504-5.904 16.128zM4083.612 424.023v-12.24h66.816v9.936c-6.624 6.912-13.104 16.272-19.584 27.792-6.48 11.664-11.376 23.472-14.976 35.712-2.448 8.64-4.032 18.144-4.752 28.368h-13.104c.144-8.064 1.872-17.856 4.896-29.376s7.344-22.608 13.104-33.264c5.616-10.656 11.664-19.584 18.144-26.928h-50.544zM4695.742 459.479c-5.328-2.016-9.216-4.752-11.664-8.208-2.592-3.6-3.888-7.92-3.888-12.816 0-7.488 2.736-13.824 8.064-19.008 5.472-5.04 12.672-7.632 21.6-7.632s16.272 2.592 21.744 7.92c5.472 5.184 8.208 11.52 8.208 19.008 0 4.752-1.296 8.928-3.744 12.528-2.592 3.6-6.336 6.192-11.52 8.208 6.336 2.016 11.232 5.328 14.544 9.936 3.312 4.608 4.896 10.08 4.896 16.416 0 8.928-3.024 16.272-9.36 22.32-6.192 5.904-14.4 8.928-24.624 8.928-10.08 0-18.288-3.024-24.624-9.072-6.192-5.904-9.216-13.536-9.216-22.464 0-6.768 1.584-12.384 5.04-16.848 3.456-4.464 8.208-7.632 14.544-9.216zm-2.592-21.456c0 4.896 1.584 8.784 4.752 11.952 3.168 3.024 7.2 4.608 12.24 4.608 4.896 0 8.784-1.584 11.952-4.608 3.168-3.024 4.752-6.768 4.752-11.232 0-4.608-1.728-8.64-4.896-11.808-3.168-3.024-7.2-4.608-11.952-4.608-4.896 0-8.784 1.44-12.096 4.608-3.168 3.024-4.752 6.768-4.752 11.088zm-4.032 47.52c0 3.744.864 7.2 2.592 10.512 1.728 3.456 4.176 6.048 7.632 7.92 3.312 1.872 6.912 2.736 10.8 2.736 6.048 0 11.088-2.016 14.976-5.904 4.032-3.888 5.904-8.784 5.904-14.832s-2.016-11.088-6.048-15.12c-4.032-3.888-9.072-5.904-15.264-5.904-5.904 0-10.8 2.016-14.688 5.904-4.032 3.888-5.904 8.784-5.904 14.688zM5258.644 491.447l12.096-1.008c1.008 5.616 3.024 9.792 5.904 12.384 2.88 2.592 6.624 3.888 11.232 3.888 3.888 0 7.344-.864 10.224-2.736 2.88-1.728 5.328-4.176 7.2-7.056 1.872-3.024 3.456-7.056 4.752-12.096 1.152-5.04 1.872-10.224 1.872-15.408 0-.576 0-1.44-.144-2.592-2.448 4.032-5.904 7.344-10.368 9.792-4.32 2.592-9.072 3.744-14.256 3.744-8.496 0-15.696-3.024-21.6-9.216-5.904-6.192-8.784-14.4-8.784-24.48 0-10.512 3.024-18.864 9.216-25.2 6.192-6.48 13.824-9.648 23.184-9.648 6.624 0 12.816 1.872 18.288 5.472 5.616 3.6 9.792 8.784 12.672 15.408 2.88 6.624 4.32 16.416 4.32 28.944 0 13.248-1.44 23.76-4.32 31.536-2.736 7.776-7.056 13.68-12.672 17.856-5.616 4.032-12.24 6.048-19.872 6.048-8.064 0-14.688-2.16-19.728-6.624-5.184-4.608-8.208-10.8-9.216-19.008zm51.84-45.36c0-7.344-2.016-13.104-5.904-17.424-3.888-4.176-8.496-6.336-13.968-6.336-5.616 0-10.512 2.304-14.688 6.912-4.176 4.608-6.192 10.512-6.192 17.856 0 6.48 2.016 11.808 5.904 15.984 4.032 4.032 8.928 6.192 14.688 6.192 5.904 0 10.656-2.16 14.4-6.192 3.744-4.176 5.76-9.792 5.76-16.992zM5820.616 515.351h-12.672v-80.64c-3.024 2.88-7.056 5.76-12.096 8.64-4.896 3.024-9.36 5.184-13.248 6.624v-12.24c7.056-3.312 13.248-7.344 18.576-12.096 5.328-4.752 9.072-9.36 11.232-13.824h8.208v103.536zM5853.038 464.519c0-12.24 1.152-22.032 3.744-29.376 2.448-7.488 6.192-13.248 11.088-17.28 5.04-4.032 11.232-6.048 18.72-6.048 5.472 0 10.368 1.152 14.544 3.312 4.176 2.304 7.632 5.472 10.368 9.648 2.736 4.176 4.752 9.36 6.336 15.408 1.584 6.048 2.304 14.112 2.304 24.336 0 12.096-1.152 21.888-3.744 29.232-2.448 7.488-6.192 13.248-11.088 17.28-4.896 4.032-11.232 6.048-18.72 6.048-9.936 0-17.712-3.6-23.472-10.656-6.768-8.64-10.08-22.608-10.08-41.904zm12.96 0c0 16.848 2.016 28.224 5.904 33.84 4.032 5.472 8.928 8.352 14.688 8.352s10.656-2.88 14.688-8.496c3.888-5.616 5.904-16.848 5.904-33.696 0-16.992-2.016-28.224-5.904-33.84-4.032-5.616-8.928-8.352-14.832-8.352-5.76 0-10.512 2.448-13.968 7.344-4.32 6.336-6.48 17.856-6.48 34.848z" fill-rule="nonzero"></path> </svg> </div> <div name="handle" class="handle"> <div class="fa fa-arrows-v"></div> </div> <div name="size" class="handle resize"> <div class="fa fa-arrows-h"></div> </div> <div name="pencil" class="pencil"></div>','ruler .svgwrap{ position:relative; width:100%; overflow:hidden; height:120px; } ruler svg{ position:absolute; top:0; } ruler { width:500px; height:120px; position:absolute; top:20px; left:20px; transform-origin:top left; cursor:move; background:rgba(0,0,0,0.1); box-shadow:0 0 5px rgba(0,0,0,0.7); z-index:2; } ruler .handle{ background:#FDC641; position: absolute; right:0; top:0; bottom:0; width:20px; padding:50px 7px; cursor:pointer; color:white; } ruler .handle.resize{ right:22px; top:0px; bottom:0; width:25px; padding:50px 5px; cursor:pointer; } ruler .pencil{ background:#135CA6; height:21px; width:10px; position: absolute; left:0px; margin-left:-5px; top:-30px; cursor:pointer; } ruler .pencil:after{ content:" "; border:10px solid #135CA6; border-width:10px 5px 5px; border-color:#135CA6 transparent transparent; position: absolute; left:0; top:20px; } ruler .measure:before{ content:" "; border-left:1px dashed #888; height:110px; position: absolute; left:10px; top:-110px; } ruler .measure{ font-size:12px; background:#FDC641; width:20px; height:20px; border-radius:50%; position: absolute; left:0px; margin-left:-10px; top:112px; cursor:pointer; color:white; padding:2px 4px; } ruler .size{ font-size:20px; color:#444; padding:15px 10px; }',"",function(opts){var move,rotate,_this;move=__webpack_require__(3),rotate=__webpack_require__(5),this.cmsize=0,this.length=500,this.on("mount",(_this=this,function(){return _this.length=500,_this.root.style="top:20px;left:20px;",new move(_this.root,_this.root),new move(_this.pencil,_this.pencil,{vertical:!1,dragging:_this.dragging,dragEnd:_this.dragEnd,minh:0}),new move(_this.size,_this.size,{vertical:!1,dragging:_this.handleResize,minh:70}),new rotate(_this.handle,_this.root,{center:{top:0,left:0}})})),this.on("update",function(_this){return function(){if(_this.cmsize=Math.round(10*_this.size/(12.83*opts.scale))/10,10<_this.length)return _this.root.style.width=_this.length+"px"}}(this)),this.dragging=function(_this){return function(pos){if(pos.left+=_this.root.offsetLeft,pos.top+=_this.root.offsetTop,_this.lastpos=pos,opts.pencilpos)return opts.pencilpos(pos)}}(this),this.dragEnd=function(_this){return function(){if(_this.pencil.style.left="0px",opts.pencilstop)return opts.pencilstop(_this.lastpos)}}(this),this.measuring=function(_this){return function(pos){return _this.size=_this.measure.offsetLeft+10,_this.update()}}(this),this.handleResize=function(_this){return function(globalpos,localpos){return _this.length=localpos.left+47,_this.update()}}(this),this.reset=function(_this){return function(){return _this.length=500,_this.cmsize=0,_this.size.style="",_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("protractor",'<div class="angle {active:lock}"></div> <div name="measure" class="measure"> <div onclick="{handleLock}" class="fa fa-lock {active:lock}"></div> <div class="circle"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 354.829 196.486"><path d="M.748 195.986v-18.571C.748 79.845 79.844.749 177.413.749c97.57 0 176.666 79.096 176.666 176.666v17.716z" fill="none" stroke="#000"></path><path d="M177.413 172.1v3.543m0 3.543v3.544m-5.315-5.315h3.544m3.543 0h3.543" fill="#fff" stroke="#000" stroke-width=".5"></path><path d="M178.934 177.415a1.52 1.52 0 11-3.042 0 1.52 1.52 0 013.042 0z" fill="none" stroke="#000" stroke-width=".5"></path><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="1036.123" y="32.218" transform="rotate(80 610.068 -331.757)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="1036.123" y="32.218">170</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="989.149" y="209.372" transform="rotate(70 713.484 -310.787)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="989.149" y="209.372">160</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="1052.059" y="-150.713" transform="rotate(90 526.18 -348.767)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="1052.059" y="-150.713">180</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="1052.396" y="-136.539" transform="rotate(90 526.18 -348.767)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="1052.396" y="-136.539">0</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="1036.002" y="46.344" transform="rotate(80 610.068 -331.757)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="1036.002" y="46.344">10</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="989.445" y="223.564" transform="rotate(70 713.484 -310.787)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="989.445" y="223.564">20</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="911.817" y="375.64" transform="rotate(60 846.433 -283.83)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="911.817" y="375.64">150</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="911.532" y="389.658" transform="rotate(60 846.433 -283.83)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="911.532" y="389.658">30</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="806.248" y="525.929" transform="rotate(50 1026.872 -247.242)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="806.248" y="525.929">140</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="806.833" y="539.989" transform="rotate(50 1026.872 -247.242)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="806.833" y="539.989">40</tspan></text><g fill="none" stroke="#000" stroke-width=".5"><path d="M354.579 177.415h-17.717m15.024-30.763l-17.446 3.075m19.466 12.246l-17.65 1.545M343.896 116.82l-16.65 6.06m21.295 8.68l-16.862 4.336"></path><path d="M176.83 1052.482h-17.714m15.025-30.763l-17.448 3.076m19.463 12.247l-17.648 1.544" transform="matrix(.90632 -.42262 .42262 .9063 -267.087 -776.6)"></path><path d="M173.834 1021.862l-17.445 3.076m19.462 12.248l-17.648 1.545" transform="matrix(.81916 -.57358 .57358 .81915 -425.831 -685.213)"></path><g><path d="M291.292 41.7l-11.388 13.57m-13.908-31.284l-8.858 15.343m21.894-7.041L268.87 46.801m-30.862-35.868l-6.06 16.65m20.339-10.733L244.8 32.905M223.267 6.287l-4.585 17.11" stroke-width=".499"></path><path d="M174.202 1021.48l-17.486 3.082m19.504 12.273l-17.686 1.548" transform="matrix(.25826 -.96383 .96382 .25825 -836.659 -94.976)"></path><path d="M177.413.25v17.716" stroke-width=".499"></path></g></g><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="676.274" y="655.657" transform="rotate(40 1290.656 -193.754)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="676.274" y="655.657">130</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="676.847" y="669.748" transform="rotate(40 1290.656 -193.754)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="676.847" y="669.748">50</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="526.133" y="760.827" transform="rotate(30 1721.38 -106.416)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="526.133" y="760.827">120</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="526.457" y="774.942" transform="rotate(30 1721.38 -106.416)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="526.457" y="774.942">60</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="359.958" y="838.341" transform="rotate(20 2569.743 65.607)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="359.958" y="838.341">110</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="360.492" y="852.49" transform="rotate(20 2569.743 65.607)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="360.492" y="852.49">70</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="182.86" y="885.854" transform="rotate(10 5089.054 576.449)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="182.86" y="885.854">100</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="183.436" y="899.885" transform="rotate(10 5089.054 576.449)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="183.436" y="899.885">80</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-182.814" y="885.613" transform="rotate(-10 -4911.64 -1451.396)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="-182.814" y="885.613">80</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-359.675" y="838.339" transform="rotate(-20 -2392.33 -940.554)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="-359.675" y="838.339">70</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x=".034" y="901.65" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial" transform="translate(177.413 -874.947)"><tspan x=".034" y="901.65">90</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x=".034" y="915.823" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial" transform="translate(177.413 -874.947)"><tspan x=".034" y="915.823">90</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-183.63" y="900.008" transform="rotate(-10 -4911.64 -1451.396)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="-183.63" y="900.008">100</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-359.79" y="852.535" transform="rotate(-20 -2392.33 -940.554)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="-359.79" y="852.535">110</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-526.553" y="760.663" transform="rotate(-30 -1543.967 -768.532)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="-526.553" y="760.663">60</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-527.963" y="775.185" transform="rotate(-30 -1543.967 -768.532)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="-527.963" y="775.185">120</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-676.554" y="655.47" transform="rotate(-40 -1113.242 -681.193)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="-676.554" y="655.47">50</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-676.259" y="669.743" transform="rotate(-40 -1113.242 -681.193)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="-676.259" y="669.743">130</tspan></text><g fill="none" stroke="#000" stroke-width=".5"><path d="M146.652 2.941l3.075 17.445M161.973.921l1.545 17.65M116.82 10.931l6.06 16.65m8.68-21.295l4.336 16.862"></path><path d="M176.83 1052.482h-17.714m15.025-30.763l-17.448 3.076m19.463 12.247l-17.648 1.544" transform="matrix(-.42262 -.90632 .9063 -.42262 -776.6 621.914)"></path><path d="M173.834 1021.862l-17.445 3.076m19.462 12.248l-17.648 1.545" transform="matrix(-.57358 -.81916 .81915 -.57358 -685.213 780.658)"></path><g><path d="M41.7 63.535l13.57 11.388M23.986 88.83l15.343 8.859m-7.041-21.894l14.513 10.162M10.933 116.82l16.65 6.058M16.85 102.54l16.055 7.487M6.287 131.56l17.11 4.585" stroke-width=".499"></path><path d="M174.202 1021.48l-17.486 3.082m19.504 12.273l-17.686 1.548" transform="matrix(-.96383 -.25826 .25825 -.96382 -94.976 1191.485)"></path><path d="M.25 177.413h17.716" stroke-width=".499"></path></g></g><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-806.038" y="525.878" transform="rotate(-50 -849.459 -627.706)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="-806.038" y="525.878">40</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-806.624" y="540.14" transform="rotate(-50 -849.459 -627.706)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="-806.624" y="540.14">140</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-911.779" y="375.54" transform="rotate(-60 -669.02 -591.118)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="-911.779" y="375.54">30</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-912.447" y="389.936" transform="rotate(-60 -669.02 -591.118)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="-912.447" y="389.936">150</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-988.99" y="209.419" transform="rotate(-70 -536.07 -564.16)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="-988.99" y="209.419">20</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-989.25" y="223.601" transform="rotate(-70 -536.07 -564.16)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="-989.25" y="223.601">160</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-1036.927" y="32.206" transform="rotate(-80 -432.654 -543.19)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan x="-1036.927" y="32.206">10</tspan></text><text style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" x="-1037.309" y="46.417" transform="rotate(-80 -432.654 -543.19)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan x="-1037.309" y="46.417">170</tspan></text><text y="-150.713" x="-1052.328" style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" transform="rotate(-90 -348.767 -526.18)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" font-family="Arial"><tspan y="-150.713" x="-1052.328">0</tspan></text><text y="-136.539" x="-1052.665" style="text-align:center;line-height:125%;-inkscape-font-specification:Arial" transform="rotate(-90 -348.767 -526.18)" font-size="10" font-weight="400" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00f" font-family="Arial"><tspan y="-136.539" x="-1052.665">180</tspan></text><path d="M168.706 177.415a8.707 8.707 0 1117.415 0" fill="none" stroke="#000" stroke-width=".5"></path><g fill="none" stroke="#000" stroke-width=".5"><path d="M354.554 174.322l-8.858.155m8.778-3.246l-8.856.31m8.716-3.399l-8.842.464m8.654-3.55l-8.837.62M353.609 158.897l-8.811.927m8.459-3.999l-8.793 1.078M352.851 152.757l-8.768 1.233m8.312-4.29l-8.749 1.385"></path><path d="M177.135 1049.268l-8.853.157m8.773-3.251l-8.85.31" transform="matrix(.98492 -.17367 .17367 .9849 -5.367 -859.056)"></path><path d="M177.136 1049.268l-8.854.159m8.774-3.247l-8.853.309" transform="matrix(.97826 -.20793 .20794 .97824 -41.428 -852.049)"></path><path d="M177.138 1049.266l-8.855.154m8.776-3.246l-8.854.31" transform="matrix(.96604 -.25884 .25885 .96602 -95.009 -839.181)"></path><path d="M177.138 1049.269l-8.855.155m8.773-3.246l-8.853.309" transform="matrix(.95642 -.2924 .2924 .9564 -130.322 -829.058)"></path><g><path d="M342.812 113.926l-8.27 3.175m7.136-6.052l-8.214 3.318M340.494 108.19l-8.153 3.461m6.919-6.296l-8.092 3.603M336.648 99.749l-7.96 3.884m6.579-6.651l-7.894 4.023M333.84 94.24l-7.821 4.158m6.347-6.873l-7.75 4.295"></path><g><path d="M177.136 1049.266l-8.856.156m8.775-3.248l-8.85.31" transform="matrix(.86613 -.50006 .50005 .86611 -348.839 -734.035)"></path><path d="M177.138 1049.27l-8.856.157m8.775-3.249l-8.853.31" transform="matrix(.84815 -.52998 .52998 .84813 -380.328 -715.116)"></path><path d="M177.14 1049.268l-8.857.152m8.777-3.244l-8.854.31" transform="matrix(.81925 -.57364 .57364 .81923 -426.277 -684.7)"></path><path d="M177.14 1049.27l-8.856.155m8.772-3.247l-8.852.307" transform="matrix(.79873 -.60188 .60188 .79871 -455.998 -663.108)"></path></g></g><g><path d="M311.123 61.183l-6.686 5.813m4.638-8.129l-6.585 5.93M306.982 56.59l-6.475 6.04m4.348-8.283l-6.371 6.155M300.484 49.974l-6.154 6.374m3.91-8.501l-6.043 6.478M295.957 45.758l-5.924 6.58m3.609-8.629l-5.812 6.685"></path><path d="M177.135 1049.268l-8.853.157m8.773-3.251l-8.85.31" transform="matrix(.64286 -.76613 .76612 .64285 -628.835 -499.078)"></path><path d="M177.136 1049.268l-8.854.159m8.774-3.247l-8.853.309" transform="matrix(.61574 -.7881 .7881 .61572 -651.955 -470.53)"></path><path d="M177.138 1049.266l-8.855.154m8.776-3.246l-8.854.31" transform="matrix(.57365 -.81924 .81924 .57363 -684.73 -426.232)"></path><path d="M177.138 1049.269l-8.855.155m8.773-3.246l-8.853.309" transform="matrix(.5447 -.83876 .83876 .54469 -705.273 -395.778)"></path><g><path d="M263.306 22.465l-4.295 7.748m1.577-9.223l-4.16 7.821M257.843 19.56l-4.02 7.893m1.253-9.271l-3.883 7.962M249.472 15.567l-3.602 8.091m.765-9.323l-3.461 8.156M243.779 13.151l-3.318 8.213m.444-9.344l-3.176 8.27"></path><g><path d="M177.136 1049.266l-8.856.156m8.775-3.248l-8.85.31" transform="matrix(.34206 -.9398 .93979 .34205 -811.588 -182.526)"></path><path d="M177.138 1049.27l-8.856.157m8.775-3.249l-8.853.31" transform="matrix(.30906 -.95117 .95115 .30904 -823.55 -147.793)"></path><path d="M177.14 1049.268l-8.857.152m8.777-3.244l-8.854.31" transform="matrix(.25885 -.96604 .96602 .25884 -839.197 -94.957)"></path><path d="M177.14 1049.27l-8.856.155m8.772-3.247l-8.852.307" transform="matrix(.22498 -.97448 .97447 .22497 -848.086 -59.313)"></path></g></g></g><g><path d="M178.08 1049.098l-8.856.154m8.774-3.245l-8.85.308" transform="matrix(.17367 -.98492 .9849 .17366 -859.061 -4.363)"></path><path d="M178.084 1049.13l-8.855.157m8.774-3.247l-8.85.31" transform="matrix(.1392 -.99038 .99037 .13918 -864.81 31.92)"></path><path d="M178.093 1049.18l-8.856.152m8.774-3.243l-8.85.308" transform="matrix(.08717 -.9963 .9963 .08716 -871.044 86.67)"></path><path d="M178.097 1049.215l-8.858.156m8.774-3.245l-8.85.307" transform="matrix(.05235 -.99874 .99873 .05234 -873.609 123.317)"></path></g></g><g fill="none" stroke="#000" stroke-width=".5"><path d="M174.319.274l.156 8.859M171.228.354l.31 8.856M168.14.494l.463 8.842m-3.55-8.654l.62 8.837M158.894 1.22l.927 8.81m-3.999-8.459l1.078 8.793M152.754 1.977l1.233 8.768m-4.291-8.312l1.386 8.75"></path><path d="M177.135 1049.268l-8.853.157m8.773-3.251l-8.85.31" transform="matrix(-.17367 -.98492 .9849 -.17367 -859.059 360.195)"></path><path d="M177.136 1049.268l-8.854.159m8.774-3.247l-8.853.309" transform="matrix(-.20793 -.97826 .97824 -.20794 -852.052 396.256)"></path><path d="M177.138 1049.266l-8.855.154m8.776-3.246l-8.854.31" transform="matrix(-.25884 -.96604 .96602 -.25885 -839.184 449.837)"></path><path d="M177.138 1049.269l-8.855.155m8.773-3.246l-8.853.309" transform="matrix(-.2924 -.95642 .9564 -.2924 -829.06 485.15)"></path><g><path d="M113.923 12.016l3.175 8.271m-6.052-7.137l3.318 8.214M108.186 14.334l3.462 8.153m-6.296-6.919l3.603 8.092M99.746 18.18l3.884 7.96m-6.651-6.579l4.023 7.894M94.236 20.988l4.16 7.822m-6.874-6.348l4.295 7.75"></path><g><path d="M177.136 1049.266l-8.856.156m8.775-3.248l-8.85.31" transform="matrix(-.50006 -.86613 .86611 -.50005 -734.038 703.667)"></path><path d="M177.138 1049.27l-8.856.157m8.775-3.249l-8.853.31" transform="matrix(-.52998 -.84815 .84813 -.52998 -715.12 735.157)"></path><path d="M177.14 1049.268l-8.857.152m8.777-3.244l-8.854.31" transform="matrix(-.57364 -.81925 .81923 -.57364 -684.702 781.105)"></path><path d="M177.14 1049.27l-8.856.155m8.772-3.247l-8.852.307" transform="matrix(-.60188 -.79873 .79871 -.60188 -663.111 810.826)"></path></g></g><g><path d="M61.18 43.706l5.813 6.685m-8.129-4.638l5.93 6.585M56.587 47.846l6.04 6.475m-8.283-4.347l6.155 6.37M49.971 54.345l6.374 6.153m-8.501-3.91l6.478 6.043M45.755 58.871l6.58 5.925m-8.629-3.61l6.685 5.812"></path><path d="M177.135 1049.268l-8.853.157m8.773-3.251l-8.85.31" transform="matrix(-.76613 -.64286 .64285 -.76612 -499.08 983.663)"></path><path d="M177.136 1049.268l-8.854.159m8.774-3.247l-8.853.309" transform="matrix(-.7881 -.61574 .61572 -.7881 -470.533 1006.783)"></path><path d="M177.138 1049.266l-8.855.154m8.776-3.246l-8.854.31" transform="matrix(-.81924 -.57365 .57363 -.81924 -426.235 1039.558)"></path><path d="M177.138 1049.269l-8.855.155m8.773-3.246l-8.853.309" transform="matrix(-.83876 -.5447 .54469 -.83876 -395.78 1060.102)"></path><g><path d="M22.462 91.522l7.748 4.295m-9.223-1.577l7.821 4.16M19.557 96.985l7.893 4.02m-9.27-1.253l7.961 3.883M15.564 105.357l8.092 3.601m-9.324-.765l8.156 3.461M13.148 111.05l8.214 3.317m-9.345-.444l8.27 3.176"></path><g><path d="M177.136 1049.266l-8.856.156m8.775-3.248l-8.85.31" transform="matrix(-.9398 -.34206 .34205 -.93979 -182.53 1166.416)"></path><path d="M177.138 1049.27l-8.856.157m8.775-3.249l-8.853.31" transform="matrix(-.95117 -.30906 .30904 -.95115 -147.796 1178.378)"></path><path d="M177.14 1049.268l-8.857.152m8.777-3.244l-8.854.31" transform="matrix(-.96604 -.25885 .25884 -.96602 -94.96 1194.025)"></path><path d="M177.14 1049.27l-8.856.155m8.772-3.247l-8.852.307" transform="matrix(-.97448 -.22498 .22497 -.97447 -59.316 1202.914)"></path></g></g></g><g><path d="M178.08 1049.098l-8.856.154m8.774-3.245l-8.85.308" transform="matrix(-.98492 -.17367 .17366 -.9849 -4.366 1213.89)"></path><path d="M178.084 1049.13l-8.855.157m8.774-3.247l-8.85.31" transform="matrix(-.99038 -.1392 .13918 -.99037 31.917 1219.638)"></path><path d="M178.093 1049.18l-8.856.152m8.774-3.243l-8.85.308" transform="matrix(-.9963 -.08717 .08716 -.9963 86.668 1225.872)"></path><path d="M178.097 1049.215l-8.858.156m8.774-3.245l-8.85.307" transform="matrix(-.99874 -.05235 .05234 -.99873 123.314 1228.437)"></path></g></g><path d="M44.326 177.415h124.23m17.716 0h124.015M186.137 175.877l122.13-21.536m-122.53 20.044l116.535-42.417m-117.187 41.018l107.4-62.008M184.199 171.72l95.003-79.717m-96.094 78.627l79.717-95.004m-80.982 94.118L243.85 62.342m-63.407 106.75L222.86 52.556m-43.909 116.135l21.536-122.13m-23.074 121.996V44.54M168.688 175.877l-122.13-21.536m122.531 20.044L52.553 131.968m117.187 41.018l-107.4-62.008m108.286 60.742L75.623 92.004m96.095 78.626L92 75.625m80.983 94.119L110.975 62.342m63.407 106.75L131.965 52.556m43.909 116.135l-21.536-122.13M243.599 171.625l66.182-5.79m-68.195-5.615l64.173-17.197m-68.134 6.315l60.215-28.078m-66.005 18.047l54.422-38.105m-61.867 29.236l46.981-46.981m-55.849 39.536l38.104-54.421m-48.136 48.631l28.078-60.215m-38.958 56.254l17.195-64.173m-28.602 62.161l5.79-66.183M111.226 171.625l-66.181-5.79m68.194-5.615l-64.173-17.197m68.134 6.315L56.985 121.26m66.005 18.047l-54.42-38.105m61.865 29.236L83.454 83.457m55.85 39.536l-38.105-54.421m48.136 48.631l-28.077-60.215m38.958 56.254l-17.195-64.173m28.601 62.161l-5.79-66.183" fill="none" stroke="#000" stroke-width=".5"></path></svg></div> <div name="handle" class="handle"><span class="fa fa-refresh"></span></div> <div name="handle3" class="handle3"><span class="fa fa-arrows-h"></span></div> </div> <div name="measure2" class="measure blue"> <div name="handle2" class="handle blue"></div> </div>',"protractor{ position:absolute; display:block; top:20px; left:20px; height:150px; width:300px; box-sizing: border-box; z-index:2; } protractor .circle{ width:200%; position:absolute; margin-top:-12%; top:-2px; left:-100%; border-radius: 150px 50% 0 0; transform:rotate(180deg); transform-origin:center center; cursor:move; background:rgba(255,255,255,0.2); } protractor .handle,protractor .handle3{ background:#FDC641; position: absolute; right:0px; margin-top:-20%; width:20px; height:15px; cursor:pointer; color:white; font-size:12px; padding:0px 5px; } protractor .handle3{ right:auto; left:-150px; } protractor .handle.blue{ top:-15px; right:0px; width:105%; height:30px; border-radius:15px 0 0 15px; background:rgba(0,0,0,0.05); margin-top:0; } protractor .measure{ position:absolute; border:1px dashed #FDC641; height:1px; width:50%; top:150px; left:150px; transform-origin:left; } protractor .measure.blue{ border:1px solid rgba(0,0,0,0.4); } protractor .angle{ position:absolute; top:109px; color:#444; left:120px; font-size:12px; line-height:100px; width:30px; text-align:center; transform-origin:center center; text-indent:20px; z-index:5; } protractor .fa-lock{ position:absolute; margin-top:-25%; left:-16px; width:30px; line-height:30px; text-align:center; border-radius:50%; color:#777; cursor:pointer; z-index:5; transform: rotate(180deg); } protractor .fa-lock.active,protractor .angle.active{ color:black; }","",function(opts){var move,rotate,_this;move=__webpack_require__(3),rotate=__webpack_require__(5),this.size=150,this.on("mount",(_this=this,function(){return _this.reset()})),this.reset=function(_this){return function(){return _this.rad1=0-1*Math.PI,_this.rad2=0-1*Math.PI,_this.angle=0,_this.lastHandle=null,_this.prevRad=0,_this.lock=!1,new move(_this.root,_this.root),_this.rotate1=new rotate(_this.handle,_this.measure,{center:{top:0,left:0},onRotate:_this.handleRotate1}),_this.rotate2=new rotate(_this.handle2,_this.measure2,{center:{top:0,left:0},onRotate:_this.handleRotate2}),new move(_this.handle3,_this.handle3,{vertical:!1,horizontal:!0,dragging:_this.scaling,minh:-300,maxh:-150}),_this.rotate1.update(_this.rad1),_this.rotate2.update(_this.rad2),_this.update()}}(this),this.on("update",function(_this){return function(){return _this.rad=_this.rad2-_this.rad1,_this.prevRad!==_this.rad&&_this.lock&&_this.lastHandle&&(1===_this.lastHandle&&(_this.rad2=_this.rad1+_this.prevRad,_this.rotate2.update(_this.rad2)),2===_this.lastHandle&&(_this.rad1=_this.rad2-_this.prevRad,_this.rotate1.update(_this.rad1)),_this.rad=_this.rad2-_this.rad1),_this.angle=Math.round(57.2958*_this.rad),_this.angle<0&&(_this.angle+=360),360<_this.angle&&(_this.angle-=360),_this.prevRad=_this.rad,_this.root.style.height=_this.size+"px",_this.root.style.width=2*_this.size+"px"}}(this)),this.handleLock=function(_this){return function(){return _this.lock=!_this.lock,_this.update()}}(this),this.handleRotate1=function(_this){return function(rad1){return _this.rad1=rad1,_this.lastHandle=1,_this.update()}}(this),this.handleRotate2=function(_this){return function(rad2){return _this.rad2=rad2,_this.lastHandle=2,_this.update()}}(this),this.scaling=function(_this){return function(globalpos,localpos){return _this.size=0-localpos.left,_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("compass",'<div class="center fa fa-crosshairs"></div> <div riot-style="top:{cmtop}px" class="radius">{cmradius}cm</div> <div name="size" class="handle"> <div class="fa fa-arrows-h"></div> </div> <div name="rotate" class="handle rotate"> <div class="fa fa-arrows-v"></div> </div> <div name="pencil" class="pencil"></div>','compass{ border-radius:15px 0 0 15px; width:200px; height:30px; position:absolute; top:100px; left:100px; transform-origin:15px center; cursor:move; background:rgba(210,210,210,0.8); box-shadow:0 0 5px rgba(0,0,0,0.7); z-index:2; } compass .radius{ position:absolute; top:5px; left:25px; color:#444; } compass .center { position:absolute; top:7.5px; left:9px; color:#444; } compass .pencil{ background:#135CA6; height:20px; width:21px; position: absolute; right:0; top:5px; cursor:pointer; } compass .pencil:after{ content:" "; border:10px solid #135CA6; border-width:10px 10px 10px 20px; border-color: transparent transparent transparent #135CA6; position: absolute; left:20px; top:0px; } compass .handle{ position:absolute; right:62px; top:0; bottom:0; background:#FDC641; width:30px; cursor:pointer; color:white; font-size:20px; line-height:30px; text-align:center; } compass .rotate{ right:30px; }',"",function(opts){var default_radius,move,radius,rotate,_this;move=__webpack_require__(3),rotate=__webpack_require__(5),this.prevRadians=null,this.cmradius,default_radius=null,this.cmtop=5,this.points=[],this.offset=0,radius=default_radius*(12.83*opts.scale),this.on("mount",(_this=this,function(){return new move(_this.root,_this.root),new rotate(_this.rotate,_this.root,{center:{top:14,left:14},onRotate:_this.handleRotate}),new rotate(_this.pencil,_this.root,{center:{top:14,left:14},onRotate:_this.handleDraw,dragEnd:_this.drawEnd}),new move(_this.size,_this.size,{vertical:!1,dragging:_this.handleResize,minh:-90}),default_radius=6<opts.scale?2:4,radius=default_radius*(12.83*opts.scale),_this.root.style.width=radius+"px",_this.update()})),this.on("update",function(_this){return function(){return radius<0&&(radius=1),_this.root.style.width=radius+"px",_this.cmradius=Math.round(10*radius/(12.83*opts.scale))/10,_this.cmtop=1.5<_this.cmradius?5:-20}}(this)),this.handleResize=function(_this){return function(globalpos,localpos){return radius=localpos.left+92,_this.update()}}(this),this.handleRotate=function(_this){return function(startArc){_this.startArc=startArc}}(this),this.reset=function(_this){return function(){return radius=default_radius*(12.83*opts.scale),_this.size.style="",_this.update()}}(this),this.handleDraw=function(_this){return function(radians){var pos;return null!=_this.prevRadians&&radians!==_this.prevRadians&&(4<radians-_this.prevRadians&&(_this.offset-=2*Math.PI,_this.prevRadians+=2*Math.PI),radians-_this.prevRadians<-4&&(_this.offset+=2*Math.PI,_this.prevRadians-=2*Math.PI),pos={x:_this.root.offsetLeft+14,y:_this.root.offsetTop+14,r:radius+2,rad1:_this.prevRadians,rad2:radians,anticlockwise:radians<_this.prevRadians},opts.ondraw&&opts.ondraw(pos)),_this.prevRadians=radians,_this.points.push(_this.prevRadians+_this.offset)}}(this),this.drawEnd=function(_this){return function(){var pos;return pos={type:"arc",x:_this.root.offsetLeft+14,y:_this.root.offsetTop+14,r:radius+2,rad1:Math.min.apply(Math,_this.points),rad2:Math.max.apply(Math,_this.points)},opts.ondrawend&&opts.ondrawend(pos),_this.prevRadians=null,_this.points=[]}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("draginput",'<div name="answers" class="dianswers {correct:opts.correct}"> <input each="{v,k in opts_answers}" type="text" name="dianswer{k}" autocomplete="off" onblur="{parent.onupdate}" value="{parent.opts.showanswer ? parent.teacher_answers[k] : parent.opts.value[k]}" style="position:absolute;text-align:center;display:none;"> </div>',"","",function(opts){var _this;this.on("mount",function(){return this.answer=opts.value||[],this.imgloaded=!1,setTimeout((_this=this,function(){return window.addEventListener("resize",_this.positionAnswers,!0),_this.img=document.querySelector(".img-question"),_this.img&&_this.img.addEventListener("load",_this.imageLoaded),_this.positionAnswers(),_this.moveToImgPanel()}));var _this}),this.on("unmount",function(){var ref;if(window.removeEventListener("resize",this.positionAnswers),this.answers.remove(),null!=(ref=document.querySelector(".dianswers"))?ref.remove:void 0)return document.querySelector(".dianswers").remove()}),this.on("update",function(){var opts_answers,ref;return opts_answers=JSON.parse(opts.answers),this.opts_answers||null==(null!=opts&&null!=(ref=opts.answers)?ref.split:void 0)||(this.opts_answers=opts_answers.map(function(a){return a.text="",a})),opts.showanswer&&(this.teacher_answers=opts_answers.map(function(a){var ref1,ref2;return null!=(ref1=a.text)&&null!=(ref2=ref1.split(";"))?ref2[0]:void 0})),this.setAnswerColor()}),this.setAnswerColor=(_this=this,function(){return _this.opts_answers.forEach(function(answer,k){var ref;if(_this["dianswer"+k])return(null!=(ref=opts.subcorrect)?ref[k]:void 0)?_this["dianswer"+k].style.backgroundColor="rgba(92,184,92,0.2)":_this["dianswer"+k].style.removeProperty("background-color"),_this["dianswer"+k].style.color=opts.showanswer?"red":"black"})}),this.imageLoaded=function(_this){return function(){return _this.img.removeEventListener("load",_this.imageLoaded),_this.positionAnswers(),_this.moveToImgPanel()}}(this),this.onupdate=function(_this){return function(e){return _this.answer[e.item.k]=e.target.value.replace(/ +/,""),opts.onupdate({name:opts.id,value:_this.answer})}}(this),this.positionAnswers=function(_this){return function(){var offset,ref,ref1;if((null!=(ref=_this.opts_answers)?ref.forEach:void 0)&&(null!=(ref1=_this.img)?ref1.offsetWidth:void 0))return _this.scale=_this.img.offsetWidth/570,offset={top:_this.img.offsetTop,left:_this.img.offsetLeft},_this.opts_answers.forEach(function(answer,k){if(_this["dianswer"+k])return _this["dianswer"+k].style.top=answer.y*_this.scale+offset.top+"px",_this["dianswer"+k].style.left=answer.x*_this.scale+offset.left+"px",_this["dianswer"+k].style.width=answer.width*_this.scale+"px",_this["dianswer"+k].style.height=answer.height*_this.scale+"px",_this["dianswer"+k].style.display="block"}),_this.imgloaded=!0}}(this),this.moveToImgPanel=function(_this){return function(){if(_this.opts_answers.length&&null!=_this.img)return _this.img.parentNode.appendChild(_this.answers)}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("freeforminput",'<div name="answers" hide="{opts.useimg &amp;&amp; opts.showanswer}" class="dianswers"> <div each="{v,k in opts_answers}" style="position:absolute;display:none;" name="dianswer{k}" class="{correct:parent.opts.correct}"> <textarea type="text" if="{v.height&gt;40}" autocomplete="off" spellcheck="false" name="input" onblur="{parent.onchange}" value="{parent.opts.showanswer ? parent.teacher_answers[k] : parent.opts.value[k]}" style="width:100%;height:100%;resize:none;padding:2px 8px;"></textarea> <input type="text" if="{v.height&lt;=40}" autocomplete="off" spellcheck="false" name="lineinput" onblur="{parent.onchange}" value="{parent.opts.showanswer ? parent.teacher_answers[k] : parent.opts.value[k]}" style="width:100%;height:100%;resize:none;padding:2px 8px;"> <charpicker input="{v.height&gt;40 ? input : lineinput}" if="{v.height&gt;30 &amp;&amp; v.width&gt;30}"></charpicker> </div> </div>',"","",function(opts){var getAnswer,_this;this.on("mount",function(){return this.answer=opts.value||[],this.imgloaded=!1,setTimeout((_this=this,function(){return window.addEventListener("resize",_this.positionAnswers,!0),_this.img=document.querySelector(".img-question"),_this.img&&_this.img.addEventListener("load",_this.imageLoaded),_this.positionAnswers(),_this.moveToImgPanel()}));var _this}),this.on("update",function(){var opts_answers,ref;return opts_answers=JSON.parse(opts.answers),this.opts_answers||null==(null!=opts&&null!=(ref=opts.answers)?ref.split:void 0)||(this.opts_answers=opts_answers.map(function(a){return a.text="",a})),opts.showanswer&&(this.teacher_answers=opts_answers.map(function(a){return getAnswer(a.text)})),this.setAnswerColor()}),this.setAnswerColor=(_this=this,function(){return _this.opts_answers.forEach(function(answer,k){if(_this["dianswer"+k])return _this["dianswer"+k].style.color=opts.showanswer?"red":"black"})}),getAnswer=function(txt){var lines;return null!=(lines=(lines=txt.split(/[\r\n]/g)).map(function(line){var ref;return null!=line&&null!=(ref=line.match(/^[^"]?"([^"]+)"/))?ref[1]:void 0}).filter(function(line){return null!=line}))?lines[(null!=lines?lines.length:void 0)-1]:void 0},this.on("unmount",function(){var ref;if(window.removeEventListener("resize",this.positionAnswers),this.answers.remove(),null!=(ref=document.querySelector(".dianswers"))?ref.remove:void 0)return document.querySelector(".dianswers").remove()}),this.imageLoaded=function(_this){return function(){return _this.img.removeEventListener("load",_this.imageLoaded),_this.positionAnswers(),_this.moveToImgPanel()}}(this),this.onchange=function(_this){return function(e){return _this.answer[e.item.k]=e.target.value,opts.onupdate({name:opts.id,value:_this.answer})}}(this),this.positionAnswers=function(_this){return function(){var offset,ref,ref1;if((null!=(ref=_this.opts_answers)?ref.forEach:void 0)&&(null!=(ref1=_this.img)?ref1.offsetWidth:void 0))return _this.scale=_this.img.offsetWidth/570,offset={top:_this.img.offsetTop,left:_this.img.offsetLeft},_this.opts_answers.forEach(function(answer,k){if(_this["dianswer"+k])return _this["dianswer"+k].style.top=answer.y*_this.scale+offset.top+"px",_this["dianswer"+k].style.left=answer.x*_this.scale+offset.left+"px",_this["dianswer"+k].style.width=answer.width*_this.scale+"px",_this["dianswer"+k].style.height=answer.height*_this.scale+"px",_this["dianswer"+k].style.display="block",_this["dianswer"+k].style.color=opts.showanswer?"red":"black"}),_this.imgloaded=!0}}(this),this.moveToImgPanel=function(_this){return function(){if(_this.opts_answers.length&&null!=_this.img)return _this.img.parentNode.appendChild(_this.answers)}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("paper",'<yield></yield> <div name="vcross" class="vcross"> <div onclick="{fliph}" ontouchstart="{fliph}" class="fliph"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8.467 8.467"> <path style="fill:currentColor" d="M3.969.53v1.058h.529V.529zm3.968.683l-3.02 3.02.188.187 2.832 2.833zm-7.408.11v5.93l3.02-3.02C2.55 3.255 1.537 2.292.53 1.323zm3.44.794v1.058h.529V2.117zm3.44.374v3.485L5.665 4.233zm-3.44 1.213v1.059h.529V3.704zm0 1.588V6.35h.529V5.292zm0 1.587v1.059h.529V6.879z"></path> </svg> </div> </div> <div name="hcross" class="hcross"> <div onclick="{flipv}" ontouchstart="{flipv}" class="flipv"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 8.467 8.467"> <path style="fill:currentColor" d="M3.969.53v1.058h.529V.529zm3.968.683l-3.02 3.02.188.187 2.832 2.833zm-7.408.11v5.93l3.02-3.02C2.55 3.255 1.537 2.292.53 1.323zm3.44.794v1.058h.529V2.117zm3.44.374v3.485L5.665 4.233zm-3.44 1.213v1.059h.529V3.704zm0 1.588V6.35h.529V5.292zm0 1.587v1.059h.529V6.879z"></path> </svg> </div> </div> <div name="center" title="drag to change point of rotation" class="center"><span class="fa fa-crosshairs"></span></div> <div name="rotate" title="drag to rotate paper" class="rotatehandle"><span class="fa fa-refresh"></span></div>',"paper { width: 300px; height: 300px; background: rgba(0,0,0,0.1); -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.3); box-shadow: 0 0 5px rgba(0,0,0,0.3); position: absolute; top: 20px; left: 20px; cursor: move; -webkit-transform-origin: center center; -moz-transform-origin: center center; -o-transform-origin: center center; -ms-transform-origin: center center; transform-origin: center center; } paper .center { position: absolute; top: calc(50% - 10px); left: calc(50% - 10px); width: 20px; line-heigt: 20px; text-align: center; } paper .rotatehandle, paper .fliph, paper .flipv { position: absolute; bottom: 0; right: 0; width: 20px; line-height: 20px; background: #fdc641; color: #fff; text-align: center; cursor: pointer; } paper .fliph { pointer-events: all; z-index: 100; top: 0; right: auto; left: -10px; bottom: auto; padding: 2px; height: 20px; cursor: pointer; } paper .flipv { pointer-events: all; left: 0; right: auto; top: -10px; bottom: auto; padding: 2px; height: 20px; cursor: pointer; -webkit-transform: rotate(90deg); -moz-transform: rotate(90deg); -o-transform: rotate(90deg); -ms-transform: rotate(90deg); transform: rotate(90deg); } paper .vcross { pointer-events: none; position: absolute; width: 0; top: 0; bottom: 0; left: 150px; height: 300px; border-left: 1px solid rgba(0,0,0,0.1); } paper .hcross { pointer-events: none; position: absolute; height: 0; left: 0; right: 0; top: 150px; width: 300px; border-top: 1px solid rgba(0,0,0,0.1); }","",function(opts){var move,prevPos,prevRadians,rotate,rotater,_this;move=__webpack_require__(3),rotate=__webpack_require__(5),rotater=null,prevPos={left:prevRadians=0,top:0},this.angle=0,this.on("mount",(_this=this,function(){return _this.reset(),new move(_this.root,_this.root,{dragging:_this.moving}),new move(_this.center,_this.center,{dragEnd:_this.updateCenter,dragging:function(_,pos){return _this.vcross.style.left=pos.left+10+"px",_this.hcross.style.top=pos.top+10+"px"}}),rotater=new rotate(_this.rotate,_this.root,{center:{top:150,left:150},onRotate:_this.rotating}),prevPos={left:_this.root.offsetLeft,top:_this.root.offsetTop}})),this.updateCenter=function(_this){return function(globalPos,localPos){var after,before,left,top;return before=_this.root.getBoundingClientRect(),top=_this.center.offsetTop+10,left=_this.center.offsetLeft+10,rotater.options.center={top:top,left:left},_this.root.style.transformOrigin=left+"px "+top+"px",after=_this.root.getBoundingClientRect(),_this.root.style.top=parseFloat(_this.root.style.top)+(before.y-after.y)+"px",_this.root.style.left=parseFloat(_this.root.style.left)+(before.x-after.x)+"px",prevPos={left:_this.root.offsetLeft,top:_this.root.offsetTop}}}(this),this.rotating=function(_this){return function(radians){var radiansDelta;return _this.angle=radians,radiansDelta=prevRadians-radians,opts.onrotate&&opts.onrotate(radiansDelta,rotater.options.center),prevRadians=radians}}(this),this.fliph=function(_this){return function(){if(opts.onfliph)return opts.onfliph(_this.angle,rotater.options.center)}}(this),this.flipv=function(_this){return function(){if(opts.onflipv)return opts.onflipv(_this.angle,rotater.options.center)}}(this),this.moving=function(pos){var delta;return delta={left:pos.left-prevPos.left,top:pos.top-prevPos.top},prevPos=pos,opts.onmove(delta)},this.reset=function(_this){return function(){return console.log("reset"),_this.root.style="top:20px;left:20px;",_this.center.setAttribute("style",""),_this.vcross.setAttribute("style",""),_this.hcross.setAttribute("style",""),prevRadians=0,rotater=new rotate(_this.rotate,_this.root,{center:{top:150,left:150},onRotate:_this.rotating}),prevPos={left:_this.root.offsetLeft,top:_this.root.offsetTop},_this.angle=0,_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("handle",'<div onclick="{draw}" class="dragger"></div>',"handle { position:absolute; cursor:pointer; z-index:2; } handle .dragger{ position:absolute; top:-20px; left:-20px; border-radius:50%; width:40px; height:40px; background:rgba(0,0,0,0.1) } @media (hover: none) and (pointer: coarse) { handle .dragger{ top:15px; border-radius:0 20px 20px 20px; transform:rotate(45deg); background:rgba(0,0,0,0.2) } }","",function(opts){var move,_this;move=__webpack_require__(3),this.on("mount",(_this=this,function(){return new move(_this.root,_this.root,{dragging:function(pos){if(opts.update)return opts.update({point:opts.point,x:pos.left,y:pos.top})}})}))})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("textinput",'<forminput label="{opts.label}" width1="{opts.width1}" width2="{opts.width2}" id="{opts.id}" value="{opts.showanswer ? opts_answer : opts.value}" addonbefore="{opts.addonbefore}" addonafter="{opts.addonafter}" onupdate="{onupdate}" autocomplete="off"></forminput>',"","",function(opts){this.elem=null,this.value=null,this.onupdate=function(e){return opts.onupdate({name:opts.id,value:e.value})},this.on("update",function(){var opts_answer,ref;if(opts_answer=JSON.parse(opts.answers),opts.showanswer)return this.opts_answer=(null!=(ref=opts_answer.split(";"))?ref[0]:void 0)||opts_answer}),this.on("updated",function(){return this.root.querySelector("input").style.color=opts.showanswer?"red":"black"})})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("keyboard-key",'<div onmousedown="{showpopover}" class="button"><yield></yield> <div class="keypop"><yield></yield></div> </div>',".keypop { display: none; background: #fff; } .button svg { pointer-events: none; } .button:active .keypop { display: block; position: absolute; bottom: 0; left: 0; right: 0; padding-bottom: 50px; pointer-events: none; -webkit-box-shadow: 0 2px 5px rgba(0,0,0,0.5); box-shadow: 0 2px 5px rgba(0,0,0,0.5); border-radius: 5px; }","",function(opts){}),riot.tag2("keyboard-enter",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve" style="height:40px;"> <path d="M67.888,20.842c-0.828,0-1.5,0.671-1.5,1.5v34.746H34.673l6.908-6.908c0.586-0.586,0.586-1.535,0-2.121 s-1.535-0.586-2.121,0l-9.375,9.375c-0.317,0.317-0.448,0.739-0.421,1.154c-0.026,0.415,0.104,0.837,0.421,1.154l9.375,9.375 c0.293,0.293,0.677,0.439,1.061,0.439s0.768-0.146,1.061-0.439c0.586-0.586,0.586-1.535,0-2.121l-6.908-6.908h33.215 c0.828,0,1.5-0.672,1.5-1.5V22.342C69.388,21.514,68.716,20.842,67.888,20.842z"></path> </svg>',"","",function(opts){}),riot.tag2("keyboard-delete",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 100" style="enable-background:new 0 0 100 100;height:40px" xml:space="preserve"> <path d="M84.3,70.5V29.5c0-1.1-0.9-2-2-2H33.2c-0.6,0-1.2,0.3-1.6,0.8L16.1,48.8c-0.5,0.7-0.5,1.7,0,2.4l15.4,20.5 c0.4,0.5,1,0.8,1.6,0.8h49.1C83.4,72.5,84.3,71.6,84.3,70.5C84.3,70.5,84.3,70.5,84.3,70.5z M80.3,68.5H34.2L20.2,50l13.9-18.5h46.1 V68.5z"></path> <polygon points="51.3,59.6 58.2,52.8 65,59.6 67.8,56.8 61,50 67.8,43.2 65,40.4 58.2,47.2 51.3,40.4 48.5,43.2 55.3,50 48.5,56.8 "></polygon> </svg>',"","",function(opts){}),riot.tag2("keyboard",'<div ontouchstart="" if="{show}" class="maxwidth"> <div if="{mode==\'numbers\'}"> <div class="symbolpad"> <div class="keyrow"> <keyboard-key each="{key in [&quot;(&quot;,&quot;)&quot;]}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\',\')}">,</keyboard-key> </div> <div class="keyrow"> <keyboard-key onclick="{addchar.bind(this,\'/\')}">&#8543;</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\'^\')}">&#8852;</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\'sqrt\')}">&#8731;</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\'nthroot\')}">&#8732;</keyboard-key> </div> <div class="keyrow"> <keyboard-key onclick="{addchar.bind(this,\'ge\')}">&ge;</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\'le\')}">&le;</keyboard-key> <keyboard-key each="{key in [&quot;&lt;&quot;,&quot;&gt;&quot;]}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> </div> <div class="keyrow"> <keyboard-key onclick="{addchar.bind(this,\':\')}">:</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\'%\')}">%</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\'\')}">&pound;</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\'pi\')}">&pi;</keyboard-key> </div> </div> <div class="numpad"> <div class="keyrow"> <keyboard-key each="{key in [&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;&quot;]}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> </div> <div class="keyrow"> <keyboard-key each="{key in [&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;&quot;]}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> </div> <div class="keyrow"> <keyboard-key each="{key in [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;-&quot;]}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> </div> <div class="keyrow"> <keyboard-key each="{key in [&quot;0&quot;,&quot;.&quot;,&quot;=&quot;,&quot;+&quot;]}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> </div> </div> <div class="funcpad"> <div class="keyrow"> <keyboard-key onclick="{cursor_left}" class="col2"> <div class="fa fa-long-arrow-left"></div> </keyboard-key> <keyboard-key onclick="{cursor_right}" class="col2"> <div class="fa fa-long-arrow-right"></div> </keyboard-key> </div> <div class="keyrow"> <keyboard-key onclick="{deletechar}" class="col4 function"> <keyboard-delete></keyboard-delete> </keyboard-key> </div> <div class="keyrow"> <keyboard-key onclick="{closekeyboard}" class="col4 success"> <keyboard-enter></keyboard-enter> </keyboard-key> </div> <div class="keyrow"> <keyboard-key onclick="{letters}" class="col4 function">ABC</keyboard-key> </div> </div> </div> <div if="{mode==\'letters\'}"> <div class="letterpad"> <div class="keyrow"> <keyboard-key each="{key in docase([&quot;Q&quot;,&quot;W&quot;,&quot;E&quot;,&quot;R&quot;,&quot;T&quot;,&quot;Y&quot;,&quot;U&quot;,&quot;I&quot;,&quot;O&quot;,&quot;P&quot;])}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> </div> <div class="keyrow"> <div class="inset"></div> <keyboard-key each="{key in docase([&quot;A&quot;,&quot;S&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;])}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> </div> <div class="keyrow"> <keyboard-key onclick="{toggleshift}" class="col2"> <div class="fa fa-arrow-up"></div> </keyboard-key> <keyboard-key each="{key in docase([&quot;Z&quot;,&quot;X&quot;,&quot;C&quot;,&quot;V&quot;,&quot;B&quot;,&quot;N&quot;,&quot;M&quot;])}" onclick="{addchar.bind(this,key)}">{key}</keyboard-key> <keyboard-key onclick="{deletechar}" class="col2 function"> <keyboard-delete></keyboard-delete> </keyboard-key> </div> <div class="keyrow"> <keyboard-key onclick="{numbers}" class="col2 function"> 123</keyboard-key> <keyboard-key onclick="{addchar.bind(this,\' \')}" class="space"></keyboard-key> <keyboard-key onclick="{closekeyboard}" class="col2 success"> <keyboard-enter></keyboard-enter> </keyboard-key> </div> </div> </div> </div>',"keyboard { position: fixed; overflow: visible; display: block; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.8); z-index: 1000; font-family: symbola; } keyboard .keyrow { clear: both; } keyboard .inset { float: left; width: 5%; min-height: 40px; } keyboard .maxwidth { max-width: 830px; margin: 0 auto; } keyboard .symbolpad, keyboard .numpad, keyboard .funcpad { margin: 0 3% 0 0; float: left; } keyboard .symbolpad keyboard-key, keyboard .numpad keyboard-key, keyboard .funcpad keyboard-key { width: 25%; } keyboard .symbolpad keyboard-key.col2, keyboard .numpad keyboard-key.col2, keyboard .funcpad keyboard-key.col2 { width: 50%; } keyboard .symbolpad keyboard-key.col3, keyboard .numpad keyboard-key.col3, keyboard .funcpad keyboard-key.col3 { width: 75%; } keyboard .symbolpad keyboard-key.col4, keyboard .numpad keyboard-key.col4, keyboard .funcpad keyboard-key.col4 { width: 100%; } keyboard .numpad { width: 37%; } keyboard .symbolpad { width: 37%; } keyboard .funcpad { width: 20%; margin: 0; } keyboard .letterpad keyboard-key { width: 10%; } keyboard .letterpad keyboard-key.col2 { width: 15%; } keyboard .letterpad keyboard-key.space { width: 70%; } keyboard keyboard-key { display: block; float: left; line-height: 40px; font-size: 18px; position: relative; } keyboard keyboard-key .button { background: #fff; border-radius: 3px; -webkit-box-shadow: 0 2px 5px rgba(0,0,0,0.5); box-shadow: 0 2px 5px rgba(0,0,0,0.5); height: 40px; text-align: center; margin: 2px; } keyboard keyboard-key.success .button, keyboard keyboard-key.success .keypop { background: #292; color: #fff; fill: #fff; } keyboard keyboard-key.function .button, keyboard keyboard-key.function .keypop { background: #ccc; }","",function(opts){var MQ,_this;this.mode="numbers",this.show=!1,this.input=null,this.mq=null,this.lowercase=!0,MQ=MathQuill.getInterface(2),this.on("mount",function(){var ref;if(null!=(ref=window.navigator.userAgent)?ref.match(/android/i):void 0)return document.addEventListener("click",this.docclicked),document.addEventListener("mousedown",this.inputfocus)}),this.on("unmount",function(){return document.removeEventListener("click",this.docclicked),document.addEventListener("mousedown",this.inputfocus)}),this.inputfocus=function(e){var ref,ref1,ref2,ref3;if((null!=(ref=e.target)&&null!=(ref1=ref.tagName)?ref1.match(/textarea/i):void 0)&&(null!=(ref2=e.target.parentNode)&&null!=(ref3=ref2.parentNode.className)?ref3.match(/mathquil/):void 0))return e.preventDefault()},this.docase=(_this=this,function(letters){return _this.lowercase?letters.map(function(letter){return letter.toLowerCase()}):letters}),this.toggleshift=function(_this){return function(e){return e.stopPropagation(),_this.update({lowercase:!_this.lowercase})}}(this),this.letters=function(_this){return function(e){return e.stopPropagation(),_this.update({mode:"letters",show:!0})}}(this),this.numbers=function(_this){return function(e){return e.stopPropagation(),_this.update({mode:"numbers",show:!0})}}(this),this.addchar=function(_this){return function(char,e){return e.stopPropagation(),_this.input?(_this.input.value+=char,_this.eventtrigger(_this.input,"input")):_this.mq?(e.preventDefault(),_this.mq.cmd(char),_this.mq.focus()):void 0}}(this),this.deletechar=function(_this){return function(e){return e.stopPropagation(),_this.input?_this.input.value=_this.input.value.slice(0,-1):_this.mq?(_this.mq.keystroke("Backspace"),_this.mq.focus()):void 0}}(this),this.cursor_left=function(_this){return function(e){if(_this.mq)return e.stopPropagation(),_this.mq.keystroke("Left"),_this.mq.focus()}}(this),this.cursor_right=function(_this){return function(e){if(_this.mq)return e.stopPropagation(),_this.mq.keystroke("Right"),_this.mq.focus()}}(this),this.eventtrigger=function(elem,type){var event;return event=new Event(type,{bubbles:!0,cancelable:!0}),elem.dispatchEvent(event)},this.closekeyboard=function(_this){return function(){return _this.input&&_this.eventtrigger(_this.input,"blur"),_this.update({show:!1,input:null,mq:null})}}(this),this.docclicked=function(_this){return function(e){var ref,x;for(e.stopPropagation(),x=e.target;;){if("maxwidth"===x.className)return;if(null!=(ref=x.className)&&"function"==typeof ref.match?ref.match(/mathquil/):void 0)return _this.update({show:!0}),void(_this.mq=MQ(x));if(!(x=x.parentNode).parentNode)break;_this.closekeyboard()}}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("classpanel",'<div class="row"> <panel heading="Classes"> <div if="{parent.classrooms.length}" style="position:absolute;top:10px;right:10px;font-size:12px;color:white"> Updated at <dateformat date="{parent.classrooms[0].last_update}" format="HH:mm dd/MM/yyyy"></dateformat> </div> <div class="col-sm-12"> <div if="{parent.opts.params.assigned_id}" class="pull-right"> <div class="marks">{parent.marks} marks out of {parent.assignment.marks} - {parent.percent}%<span show="{parent.user_exam.grade}"> - Grade {parent.user_exam.grade}</span><span show="{parent.user_exam.series_grade}"> - (Series {parent.user_exam.series_grade})</span></div> </div> <ol class="breadcrumb"> <li if="{parent.opts.sessionuser.first_name &amp;&amp; parent.section==\'classes\'}"><a onclick="{parent.gotoMyClasses}">{parent.opts.sessionuser.first_name+\' \'+parent.opts.sessionuser.surname+\'\\\'s Classes\'}</a></li> <li if="{parent.opts.sessionuser.first_name &amp;&amp; parent.admin &amp;&amp; parent.section==\'allclasses\'}"><a onclick="{parent.gotoAllClasses}">All Classes</a></li> <li if="{parent.opts.params.class_id &amp;&amp; parent.classroom.name}"><a onclick="{parent.gotoClass}">{parent.classroom.name}</a></li> <li if="{parent.opts.params.user_id}"><a href="/vle/{parent.section}/{parent.opts.params.class_id}/{parent.opts.params.user_id}">{parent.user.first_name} {parent.user.surname}, Year {parent.user.year}</a></li> <li if="{parent.opts.params.assigned_id}"><a href="/vle/{parent.section}/{parent.opts.params.class_id}/{parent.opts.params.user_id}/{parent.opts.params.assigned_id}">{parent.assignment.title} ( {parent.assignment.type} )</a></li> </ol> <routehandler></routehandler> </div> </panel> </div> <div class="row"> <feedback show="{opts.params.assigned_id}" assigned_id="{opts.params.assigned_id}" user_id="{opts.params.user_id}" stores="{opts.stores}"></feedback> </div>',"[riot-tag=classpanel] { position: relative; } .marks { background: #3fa9f5; color: #fff; padding: 6px 12px; margin: 3px; font-size: 12px; }","",function(opts){var _this;this.selected=!1,this.handleClassSelect=(_this=this,function(selectedClass){return _this.selected=selectedClass,_this.update()}),this.on("mount",function(){if(opts.stores.on("classes_changed",this.handleClassUpdate),opts.stores.on("class_changed",this.handleClassStoreChange),opts.stores.on("user_changed",this.handleUserChange),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.on("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.on("answer_assignment",this.handleAnswers),opts.params.class_id&&"new"!==opts.params.class_id&&opts.stores.trigger("class_get",opts.params.class_id),opts.params.user_id&&"new"!==opts.params.user_id)return opts.stores.trigger("user_sync_one",opts.params.user_id)}),this.on("update",function(){var ref,ref1,ref2,ref3,ref4;if(this.section=window.location.pathname.match("allclasses")?"allclasses":"classes",(null!=(ref=this.classroom)?ref.users:void 0)&&(this.user=this.classroom.users.filter(function(student){return+student.id==+opts.params.user_id})[0],this.user_exam=null!=(ref1=null!=(ref2=this.user)&&null!=(ref3=ref2.exams)?ref3.filter(function(e){return e.id===+opts.params.assigned_id}):void 0)?ref1[0]:void 0),+opts.params.class_id!=+(null!=(ref4=this.classroom)?ref4.id:void 0)&&(this.classroom={}),opts.params.user_id&&"new"!==opts.params.user_id)return opts.stores.trigger("user_sync_one",opts.params.user_id)}),this.on("unmount",function(){return opts.stores.off("class_changed",this.handleClassStoreChange),opts.stores.off("user_changed",this.handleUserChange),opts.stores.off("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.off("answer_assignment",this.handleAnswers),opts.stores.off("session_changed",this.sessionUpdated)}),this.sessionUpdated=function(_this){return function(data){var ref;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],-1<_this.groups.indexOf("School Admins")&&(_this.admin=!0),_this.update()}}(this),this.handleClassStoreChange=function(_this){return function(classroom){return _this.classroom=classroom,_this.update()}}(this),this.handleClassUpdate=function(_this){return function(classrooms){return _this.classrooms=classrooms,_this.update()}}(this),this.handleAssignedWorkChange=function(_this){return function(assignment){var ref,ref1;return _this.assignment=assignment,(null!=(ref=_this.assignment.allpapers)?ref.marks:void 0)&&(null!=(ref1=_this.assignment.allpapers)?ref1.total_marks:void 0)!==_this.assignment.marks&&(_this.user_exam||(_this.user_exam={}),_this.user_exam.series_grade=_this.getGrade(_this.assignment.allpapers.marks,_this.assignment.allgrades)),_this.calcPercent(),_this.update()}}(this),this.handleAnswers=function(_this){return function(answers){return _this.marks=answers.filter(function(answer){return+answer.user_id==+opts.params.user_id}).map(function(answer){return(null!=answer?answer.marks:void 0)||0}).reduce(function(a,b){return a+b},0),_this.calcPercent(),_this.update()}}(this),this.calcPercent=function(_this){return function(){if(_this.percent=0,_this.assignment&&_this.marks)return _this.percent=Math.round(1e3/_this.assignment.marks*_this.marks)/10}}(this),this.handleUserChange=function(_this){return function(user){return _this.user=user,_this.update()}}(this),this.gotoMyClasses=function(_this){return function(){return opts.page("/vle/"),_this.update()}}(this),this.gotoAllClasses=function(_this){return function(){return _this.classroom={},opts.page("/allclasses/"),_this.update()}}(this),this.gotoClass=function(_this){return function(){return opts.page("/vle/"+_this.section+"/"+opts.params.class_id),_this.update()}}(this),this.getGrades=function(_this){return function(){var is_wjec,ref,ref1,tier;return is_wjec=null!=(null!=(ref=_this.assignment.exam)&&null!=(ref1=ref.exam_board)?ref1.match(/wjec/i):void 0),tier=_this.assignment.exam.tier,is_wjec?"Higher"===tier?["U","C","B","A","A*"]:"Intermediate"===tier?["U","E","D","C","B"]:["U","G","F","E","D"]:"Higher"===tier?["U","3","4","5","6","7","8","9"]:["U","1","2","3","4","5"]}}(this),this.getGrade=function(_this){return function(mark,grades){var gradeLabels,i,idx,len;for(gradeLabels=_this.getGrades(),idx=i=0,len=grades.length;i<len;idx=++i)if(+mark<+grades[idx])return gradeLabels[idx-1];return gradeLabels[gradeLabels.length-1]}}(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("classlist",'<div class="pull-right colpad"> <div class="btn-toolbar"> <div class="btn-group"> <dropdown class="dropdown pull-right"><a onclick="{toggle}" class="btn btn-sm btn-block btn-primary"> Year <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a onclick="{parent.filterByYear}">All</a></li> <li each="{year in parent.years}"><a onclick="{parent.parent.filterByYear}"> {year} <span if="{year==parent.parent.yearfilter}"></span></a></li> </ul> </dropdown> </div> <div if="{admin &amp;&amp; section == \'allclasslist\'}" class="btn-group"> <dropdown class="dropdown pull-right"><a onclick="{toggle}" class="btn btn-sm btn-block btn-primary"> Teacher <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a onclick="{parent.filterByTeacher}">All</a></li> <li each="{name in parent.teachers}"><a onclick="{parent.parent.filterByTeacher}"> {name} <span if="{name==parent.parent.teacherfilter}"></span></a></li> </ul> </dropdown> </div> </div> </div> <div if="{admin}" class="btn-toolbar"> <div class="btn-group"><a onclick="{showMine}" class="btn btn-sm btn-default {btn-primary:section!=\'allclasslist\'}">View My Classes</a><a onclick="{showAll}" class="btn btn-sm btn-default {btn-primary:section==\'allclasslist\'}">View All Classes</a></div><a onclick="{addClass}" if="{section==\'allclasslist\'}" class="btn btn-sm btn-primary">Add New Class</a><a if="{selectedClasses.length}" onclick="{deleteSelected}" class="btn btn-sm btn-danger">Delete Selected Classes ( {selectedClasses.length} )</a> </div> <table class="table table-stiped table-hover"> <thead> <tr class="info"> <td class="col-xs-2">Class Name</td> <td class="col-xs-1 text-center">Year</td> <td class="col-xs-1 text-center">No Stu</td> <td class="col-xs-1 text-center">HW Set</td> <td class="col-xs-3">Average Mark</td> <td class="col-xs-1 text-center">Tests Set</td> <td class="col-xs-3">Average Mark</td> <td if="{superAdmin}"> </td> </tr> </thead> <tbody> <tr each="{filtered}" no-reorder onclick="{handleSelect}"> <td>{name}</td> <td class="text-center">{year}</td> <td class="text-center">{student_count}</td> <td class="text-center">{homeworkset}</td> <td> <progressbar value="{homework_perc}">{homework_perc}%</progressbar> </td> <td class="text-center">{testset}</td> <td> <progressbar value="{test_perc}">{test_perc}% </progressbar> </td> <td if="{superAdmin}" class="noclick"> <button onclick="{selectClass}" class="noclick btn btn-default btn-xs {\'btn-danger\':selectedClasses.indexOf(+id)&gt;-1}">x</button> </td> </tr> </tbody> </table> <p if="{!filtered}"><i class="fa fa-spinner fa-pulse"> </i> Loading Data</p> <p if="{!filtered.length}">You have no classes</p>',"[riot-tag=classlist]{ display:block; min-height:400px; }","",function(opts){var _this;this.classrooms=null,this.selected=null,this.showingAll=!0,this.teacherfilter=null,this.selectedClasses=[],this.on("mount",(_this=this,function(){return opts.stores.on("classes_changed",_this.handleClassUpdate),opts.stores.on("session_changed",_this.sessionUpdated),opts.stores.trigger("class_sync"),opts.stores.trigger("session_sync"),_this.selectedClasses=[]})),this.on("unmount",function(){return opts.stores.off("classes_changed",this.handleClassUpdate),opts.stores.off("session_changed",this.sessionUpdated)}),this.on("update",function(){if(this.classrooms&&this.user&&(this.filtered=this.classrooms.slice(),this.section=window.location.pathname.match("allclasslist")?"allclasslist":"classes","allclasslist"!==this.section&&(this.filtered=this.filtered.filter((_this=this,function(c){return c.teachers&&-1<c.teachers.split(",").indexOf(_this.user.first_name+" "+_this.user.surname)}))),this.yearfilter&&(this.filtered=this.filtered.filter(function(_this){return function(c){return""+c.year==""+_this.yearfilter}}(this))),this.teacherfilter))return this.filtered=this.filtered.filter(function(_this){return function(c){return null!=c.teachers&&-1<c.teachers.split(",").indexOf(_this.teacherfilter)}}(this));var _this}),this.selectClass=function(_this){return function(e){return-1<_this.selectedClasses.indexOf(e.item.id)?(_this.selectedClasses=_this.selectedClasses.filter(function(c){return c!==e.item.id}),e.target.checked=!1):(_this.selectedClasses=_this.selectedClasses.concat(e.item.id),e.target.checked=!0),console.dir(e.target.checked),_this.update({selectedClasses:_this.selectedClasses})}}(this),this.deleteSelected=function(_this){return function(e){return _this.selectedClasses.forEach(function(id){return opts.stores.trigger("class_remove",{id:id})}),_this.selectedClasses=[],_this.update()}}(this),this.handleSelect=function(_this){return function(e){if("input"!==e.target.localName&&!e.target.className.match(/noclick/))return opts.page("/vle/"+_this.section+"/"+e.item.id),_this.update()}}(this),this.showAll=function(){return opts.page("/vle/allclasslist/"),riot.update()},this.showMine=function(){return opts.page("/vle/classlist/")},this.preventDefault=function(e){return e.preventDefault()},this.sessionUpdated=function(_this){return function(data){var ref;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],_this.user=data.user,-1<_this.groups.indexOf("Teachers")&&(_this.teacher=!0),-1<_this.groups.indexOf("Students")&&(_this.student=!0),-1<_this.groups.indexOf("School Admins")&&(_this.admin=!0),-1<_this.groups.indexOf("Administrators")&&(_this.superAdmin=!0),_this.user.wonde_id&&(_this.is_wonde=!0),_this.update()}}(this),this.addClass=function(e){return opts.page("/vle/allclasslist/new/edit")},this.filterByYear=function(_this){return function(e){var ref;return _this.yearfilter=null!=e&&null!=(ref=e.item)?ref.year:void 0,_this.update()}}(this),this.filterByTeacher=function(_this){return function(e){var ref;return _this.teacherfilter=null!=e&&null!=(ref=e.item)?ref.name:void 0,_this.update()}}(this),this.handleClassUpdate=function(_this){return function(classrooms){return _this.classrooms=classrooms,_this.years=[],_this.teachers=[],_this.classrooms.forEach(function(cr){if(null!=(null!=cr?cr.year:void 0)&&-1===_this.years.indexOf(+cr.year)&&_this.years.push(cr.year),cr.teachers)return cr.teachers.split(",").forEach(function(teacher){if(-1===_this.teachers.indexOf(teacher))return _this.teachers.push(teacher)})}),_this.years=_this.years.sort(function(a,b){return a-b<1?-1:1}),_this.classrooms=_this.classrooms.sort(function(a,b){var ref,ref1;return b.year-a.year!=0?b.year-a.year:(null!=(ref=b.name)?ref.toLowerCase():void 0)<(null!=(ref1=a.name)?ref1.toLowerCase():void 0)?1:-1}),_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("classmodal",'<modal id="classmodal" onclose="{handleClose}" onsave="{handleSave}" title="Class Details"> <form class="form-horizontal"> <forminput id="name" onupdate="{parent.handleChange}" value="{parent.classroom.name}" label="Class Name"></forminput> <forminput id="year" onupdate="{parent.handleChange}" value="{parent.classroom.year}" label="Year"></forminput> <formselect id="qualification" label="Qualification" if="{parent.labels}" options="{parent.qualifications}" value="{parent.classroom.qualification}" onupdate="{parent.handleChange}"></formselect> <formselect id="level" show="{parent.levels.length}" label="Default Level" if="{parent.labels}" options="{parent.levels}" value="{parent.classroom.level}" onupdate="{parent.handleChange}"></formselect> <formtextarea id="description" rows="7" onupdate="{parent.handleChange}" value="{parent.classroom.description}" label="Description"></formtextarea> <forminput id="wonde_id" onupdate="{parent.handleChange}" value="{parent.classroom.wonde_id}" label="Wonde Id" if="{parent.isAdmin}"></forminput> </form> </modal>',"","",function(opts){var _this;this.years=[1,2,3,4,5,6,7,8,9].map(function(y){return{value:y,label:y}}),this.users=[],this.tavalue="",this.newuser=null,this.typeahead=null,this.selecteduser=null,this.idsinclass=[],this.labels=__webpack_require__(8),this.on("mount",function(){return this.tags.modal.show(),this.classroom={users:[]},opts.stores.on("class_changed",this.handleClassStoreChange),opts.stores.on("class_saved",this.handleSaved),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync"),"new"!==opts.params.class_id?(this.id=opts.params.class_id,opts.stores.trigger("class_get",this.id)):this.classroom={name:"New Class"}}),this.on("unmount",function(){return opts.stores.off("class_changed",this.handleClassStoreChange),opts.stores.off("class_saved",this.handleSaved),opts.stores.off("session_changed",this.sessionUpdated),opts.stores.off("user_saved",this.userUpdated)}),this.on("update",function(){var ref,ref1,ref2,ref3,ref4;if(this.classroom&&this.qualifications&&!this.classroom.qualification&&this.updateDefaultQualification(),null!=(null!=(ref=this.classroom)?ref.qualification:void 0)?this.updateLevels():this.levels=[],!(null!=(ref1=this.classroom)?ref1.level:void 0)&&4<=+(null!=(ref2=this.classroom)?ref2.year:void 0)&&(null!=(ref3=this.classroom)&&null!=(ref4=ref3.qualification)?ref4.match(/primary/i):void 0))return this.classroom.level=this.classroom.year}),this.updateDefaultQualification=(_this=this,function(){var qual,yr;if(yr=+_this.classroom.year,(qual=_this.qualifications.filter(function(q){return yr<7&&"Primary"===q.value||yr<10&&"Key Stage 3"===q.value||(6<yr||yr<12)&&q.value.match(/GCSE/)||11<yr&&q.value.match(/AS Level/)})).length)return _this.classroom.qualification=qual[0].value}),this.updateLevels=function(_this){return function(){if(_this.levels=[],_this.classroom.qualification.match(/GCSE/i)&&(_this.levels=[{value:"",label:"All"},{value:"Foundation",label:"Foundation"},{value:"Higher",label:"Higher"}]),_this.classroom.qualification.match(/WJEC/i)&&(_this.levels=[{value:"",label:"All"},{value:"Foundation",label:"Foundation"},{value:"Intermediate",label:"Intermediate"},{value:"Higher",label:"Higher"}]),_this.classroom.qualification.match(/key stage/i)&&(_this.levels=[{value:"",label:"All"},{value:"Emerging",label:"Emerging"},{value:"Expected",label:"Expected"},{value:"Exceeding",label:"Exceeding"},{value:"Excelling",label:"Excelling"}]),_this.classroom.qualification.match(/primary/i))return _this.levels=[{value:"",label:"All"},{value:"4",label:"Year 4"},{value:"5",label:"Year 5"},{value:"6",label:"Year 6"}]}}(this),this.handleSelect=function(_this){return function(user){return _this.selecteduser=user,_this.update()}}(this),this.sessionUpdated=function(_this){return function(session){var groups,ref,ref1;return _this.session=session,groups=(null!=(ref=_this.session.user)?ref.groups:void 0)?_this.session.user.groups.map(function(group){return group.name}):[],_this.setupQualifications(_this.session.org),(null!=(ref1=_this.session.user)?ref1.wonde_id:void 0)&&(_this.is_wonde=!0),-1<groups.indexOf("Administrators")&&(_this.isAdmin=!0),_this.update()}}(this),this.setupQualifications=function(_this){return function(org){if(_this.qualifications=[],org.aslevel&&_this.qualifications.push({value:"AS Level",label:"AS Level"}),org.gcse&&_this.qualifications.push({value:"GCSE",label:"GCSE"}),org.wjec&&_this.qualifications.push({value:"GCSE (WJEC)",label:"GCSE (WJEC)"}),org.legacy&&_this.qualifications.push({value:"GCSE (Legacy)",label:"GCSE (Legacy)"}),org.primary&&_this.qualifications.push({value:"Primary",label:"Primary"}),org.ks3)return _this.qualifications.push({value:"Key Stage 3",label:"Key Stage 3"})}}(this),this.setupLevels=function(){},this.handleClassStoreChange=function(_this){return function(classroom){return _this.classroom=classroom,_this.update()}}(this),this.handleClose=function(_this){return function(){return _this.section=window.location.pathname.match("allclasses")?"allclasses":"classes",_this.classroom.id?opts.page("/vle/"+_this.section+"/"+_this.classroom.id):opts.page("/vle/"+_this.section+"/")}}(this),this.handleSave=function(_this){return function(){return opts.stores.trigger("class_save",_this.classroom)}}(this),this.handleSaved=function(_this){return function(){return _this.handleClose()}}(this),this.handleChange=function(_this){return function(e){return _this.classroom[e.name]=e.value,_this.update()}}(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("classdashboard",'<div if="{loading}" class="loadingclasses"><i class="fa fa-spinner fa-pulse"> </i> Loading Data</div> <div class="row"> <div class="col-xs-12"> <div class="pull-right colpad"> <div class="btn-toolbar"> <div class="btn-group"> <dropdown class="dropdown pull-right"><a onclick="{toggle}" class="btn btn-sm btn-block btn-primary"> Year <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a onclick="{parent.filterByYear}">All</a></li> <li each="{year in parent.years}"><a onclick="{parent.parent.filterByYear}"> {year} <span if="{year==parent.parent.yearfilter}"></span></a></li> </ul> </dropdown> </div> <div if="{admin &amp;&amp; section == \'allclasses\'}" class="btn-group"> <dropdown class="dropdown pull-right"><a onclick="{toggle}" class="btn btn-sm btn-block btn-primary"> Teacher <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a onclick="{parent.filterByTeacher}">All</a></li> <li each="{name in parent.teachers}"><a onclick="{parent.parent.filterByTeacher}"> {name} <span if="{name==parent.parent.teacherfilter}"></span></a></li> </ul> </dropdown> </div> </div> </div> <div if="{admin}" class="btn-toolbar"> <div class="btn-group"><a onclick="{showMine}" class="btn btn-sm btn-default {btn-primary:section!=\'allclasses\'}">View My Classes</a><a onclick="{showAll}" class="btn btn-sm btn-default {btn-primary:section==\'allclasses\'}">View All Classes</a></div><a onclick="{addClass}" if="{section==\'allclasses\'}" class="btn btn-sm btn-primary">Add New Class</a><a if="{selectedClasses.length}" onclick="{deleteSelected}" class="btn btn-sm btn-danger">Delete Selected Classes ( {selectedClasses.length} )</a> </div> </div> </div> <div class="greypanel row"> <div each="{filtered}" no-reorder class="col-xs-12 col-sm-6 col-md-4"> <div onclick="{handleSelect}" class="classcard"> <h5>Class </h5> <h3>{name}</h3> <div class="badges"> <div class="mastered"> <tip tip="Total number of mastered skills by this class" style="display:block"><span> {mastered || 0}</span> <div class="fa fa-star circle"></div> </tip> </div> <div class="acquired"> <tip tip="Total number of acquired skills by this class" style="display:block"><span> {aquired || 0}</span> <div class="fa fa-check circle"></div> </tip> </div> </div> <div class="row classbar"> <div class="col-xs-1 whiteright base">{homeworkset}</div> <div class="col-xs-3 whiteright base">Homework </div> <div class="col-xs-8 graphouter"> <div riot-style="width:{homework_perc || 1}%" class="graphbar base">{homework_perc}%</div> </div> </div> <div show="{testset}" class="row classbar"> <div class="col-xs-1 whiteright dark"> {testset}</div> <div class="col-xs-3 whiteright dark"> Tests </div> <div class="col-xs-8 graphouter"> <div riot-style="width:{test_perc || 1}%" class="graphbar dark">{test_perc}%</div> </div> </div> <div show="{examset}" class="row classbar"> <div class="col-xs-1 whiteright darker"> {examset}</div> <div class="col-xs-3 whiteright darker"> Exams </div> <div class="col-xs-8 graphouter"> <div riot-style="width:{exam_perc || 1}%" class="graphbar darker">{exam_perc}%</div> </div> </div> <div class="classfooter"> <p class="pull-right">Year {year}, {student_count} Students</p> <p>This Month\'s Stats</p> <div class="row"> <div class="col-xs-2 statbox"> <tip tip="Number of logins this month" style="display:block"> <div class="icon"><span class="fa fa-user-circle-o"></span></div> <div class="val">{logins || 0}</div> </tip> </div> <div class="col-xs-2 statbox"> <tip tip="Number of minutes spent on questions this month" style="display:block"> <div class="icon"><span class="fa fa-clock-o"></span></div> <div class="val">{time ||  0}</div> </tip> </div> <div class="col-xs-2 statbox"> <tip tip="Number of interactive questions attempted independently this month" style="display:block"> <div class="icon"><span class="fa fa-rocket"></span></div> <div class="val">{practice || 0}</div> </tip> </div> <div class="col-xs-2 statbox"> <tip tip="Number of interactive questions attempted as part of all assignments this month" style="display:block"> <div class="icon"><span class="fa fa-clipboard"> </span></div> <div class="val">{answers || 0}</div> </tip> </div> <div class="col-xs-2 statbox"> <tip tip="Total number of videos watched this month" style="display:block"> <div class="icon"><span class="fa fa-video-camera"> </span></div> <div class="val">{videos_watched || 0}</div> </tip> </div> <div class="col-xs-2 statbox"> <tip tip="Total number of assignments due this month" style="display:block"> <div class="icon"><span class="fa fa-hourglass-start"> </span></div> <div class="val">{assignments_due || 0}</div> </tip> </div> </div> </div> </div> </div> <p if="{!filtered.length}">You have no classes</p> </div>',".greypanel.row { background: #f5f5f5; padding: 10px 5px; margin: 0; } .classcard { -webkit-box-shadow: 0 2px 5px rgba(0,0,0,0.3); box-shadow: 0 2px 5px rgba(0,0,0,0.3); border-radius: 4px; padding: 15px; margin: 10px 5px; position: relative; height: 270px; background: #fff; cursor: pointer; -webkit-transition: 0.3s all; -moz-transition: 0.3s all; -o-transition: 0.3s all; -ms-transition: 0.3s all; transition: 0.3s all; } .classcard:hover { -webkit-box-shadow: 0 2px 10px rgba(0,0,0,0.3); box-shadow: 0 2px 10px rgba(0,0,0,0.3); -webkit-transform: scale(1.03, 1.03); -moz-transform: scale(1.03, 1.03); -o-transform: scale(1.03, 1.03); -ms-transform: scale(1.03, 1.03); transform: scale(1.03, 1.03); } .classcard h5, .classcard h3 { margin: 0; padding: 0; color: #444; } .classcard h3 { padding-bottom: 20px; font-weight: bold; } .classcard .col-xs-1 { text-align: center; border-radius: 5px 0 0 5px; } .classcard .badges { position: absolute; top: 10px; right: 0px; } .classcard .acquired { color: #ffa500; text-align: right; } .classcard .mastered { color: #008000; margin: 5px 0; text-align: right; } .classbar { color: #fff; margin-bottom: 5px; } .classbar .whiteright { border-right: 1px solid #fff; padding: 3px 5px; height: 26px; } .classbar .base { background: #3eb2ff; } .classbar .dark { background: #096aaa; } .classbar .darker { background: #053c61; } .classbar .graphouter { background: #eee; border-radius: 0 5px 5px 0; padding: 0; } .classbar .graphbar { border-radius: 0 5px 5px 0; text-align: right; padding: 3px 5px; } .classfooter { position: absolute; bottom: 10px; left: 10px; right: 10px; } .classfooter p { margin: 0; font-size: 12px; color: #444; } .classfooter .statbox { text-align: center; font-size: 18px; padding: 0; } .classfooter .statbox .icon { border-radius: 6px 6px 0 0; height: 30px; border: 1px solid #444; margin: 0 2px; } .classfooter .statbox .val { background: #ccc; color: #fff; border-radius: 0 0 6px 6px; margin: 0 2px; } .classfooter .statbox:nth-child(1) .icon { border: 1px solid #fec600; color: #fec600; } .classfooter .statbox:nth-child(1) .val { background: #fec600; } .classfooter .statbox:nth-child(2) .icon { border: 1px solid #8ea604; color: #8ea604; } .classfooter .statbox:nth-child(2) .val { background: #8ea604; } .classfooter .statbox:nth-child(3) .icon { border: 1px solid #d76a03; color: #d76a03; } .classfooter .statbox:nth-child(3) .val { background: #d76a03; } .classfooter .statbox:nth-child(4) .icon { border: 1px solid #bf3100; color: #bf3100; } .classfooter .statbox:nth-child(4) .val { background: #bf3100; } .classfooter .statbox:nth-child(5) .icon { border: 1px solid #1be7ff; color: #1be7ff; } .classfooter .statbox:nth-child(5) .val { background: #1be7ff; } .classfooter .statbox:nth-child(6) .icon { border: 1px solid #6eeb83; color: #6eeb83; } .classfooter .statbox:nth-child(6) .val { background: #6eeb83; } .loadingclasses { position: absolute; top: 7px; right: 15px; }","",function(opts){var _this;this.classrooms=null,this.selected=null,this.showingAll=!0,this.teacherfilter=null,this.selectedClasses=[],this.on("mount",(_this=this,function(){return _this.section=window.location.pathname.match("allclasses")?"allclasses":"classes",opts.stores.on("classes_changed",_this.handleClassUpdate),opts.stores.on("classes_changed_stats",_this.handleClassStats),opts.stores.on("session_changed",_this.sessionUpdated),opts.stores.trigger("class_sync",{section:_this.section}),_this.loading=!0,opts.stores.trigger("session_sync"),_this.selectedClasses=[]})),this.on("unmount",function(){return opts.stores.off("classes_changed",this.handleClassUpdate),opts.stores.off("classes_changed_stats",this.handleClassStats),opts.stores.off("session_changed",this.sessionUpdated)}),this.on("update",function(){if(this.classrooms&&this.user&&(this.filtered=this.classrooms.slice(),this.section=window.location.pathname.match("allclasses")?"allclasses":"classes","allclasses"!==this.section&&(this.filtered=this.filtered.filter((_this=this,function(c){return c.teachers&&-1<c.teachers.split(",").indexOf(_this.user.first_name+" "+_this.user.surname)}))),this.yearfilter&&(this.filtered=this.filtered.filter(function(_this){return function(c){return""+c.year==""+_this.yearfilter}}(this))),this.teacherfilter))return this.filtered=this.filtered.filter(function(_this){return function(c){return null!=c.teachers&&-1<c.teachers.split(",").indexOf(_this.teacherfilter)}}(this));var _this}),this.selectClass=function(_this){return function(e){return-1<_this.selectedClasses.indexOf(e.item.id)?(_this.selectedClasses=_this.selectedClasses.filter(function(c){return c!==e.item.id}),e.target.checked=!1):(_this.selectedClasses=_this.selectedClasses.concat(e.item.id),e.target.checked=!0),console.dir(e.target.checked),_this.update({selectedClasses:_this.selectedClasses})}}(this),this.deleteSelected=function(_this){return function(e){return _this.selectedClasses.forEach(function(id){return opts.stores.trigger("class_remove",{id:id})}),_this.selectedClasses=[],_this.update()}}(this),this.handleSelect=function(_this){return function(e){if("input"!==e.target.localName&&!e.target.className.match(/noclick/))return opts.page("/vle/"+_this.section+"/"+e.item.id),_this.update()}}(this),this.showAll=function(_this){return function(){return opts.page("/vle/allclasses/"),opts.stores.trigger("class_sync",{section:"allclasses"}),_this.loading=!0,riot.update()}}(this),this.showMine=function(){return opts.page("/vle/")},this.preventDefault=function(e){return e.preventDefault()},this.sessionUpdated=function(_this){return function(data){var ref;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],_this.user=data.user,-1<_this.groups.indexOf("Teachers")&&(_this.teacher=!0),-1<_this.groups.indexOf("Students")&&(_this.student=!0),-1<_this.groups.indexOf("School Admins")&&(_this.admin=!0),-1<_this.groups.indexOf("Administrators")&&(_this.superAdmin=!0),_this.user.wonde_id&&(_this.is_wonde=!0),_this.update()}}(this),this.addClass=function(e){return opts.page("/vle/allclasses/new/edit")},this.filterByYear=function(_this){return function(e){var ref;return _this.yearfilter=null!=e&&null!=(ref=e.item)?ref.year:void 0,_this.update()}}(this),this.filterByTeacher=function(_this){return function(e){var ref;return _this.teacherfilter=null!=e&&null!=(ref=e.item)?ref.name:void 0,_this.update()}}(this),this.handleClassUpdate=function(_this){return function(classrooms){return _this.classrooms=classrooms,_this.loading=!1,opts.stores.trigger("class_sync_stats"),_this.years=[],_this.teachers=[],_this.classrooms.forEach(function(cr){if(null!=(null!=cr?cr.year:void 0)&&-1===_this.years.indexOf(+cr.year)&&_this.years.push(cr.year),cr.teachers)return cr.teachers.split(",").forEach(function(teacher){if(-1===_this.teachers.indexOf(teacher))return _this.teachers.push(teacher)})}),_this.years=_this.years.sort(function(a,b){return a-b<1?-1:1}),_this.classrooms=_this.classrooms.sort(function(a,b){var ref,ref1;return b.year-a.year!=0?b.year-a.year:(null!=(ref=b.name)?ref.toLowerCase():void 0)<(null!=(ref1=a.name)?ref1.toLowerCase():void 0)?1:-1}),_this.update()}}(this),this.handleClassStats=function(_this){return function(stats){return _this.classrooms=_this.classrooms.map(function(c){return Object.assign({},c,stats[c.id])}),_this.update({classrooms:_this.classrooms})}}(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("classmarks",'<div show="{loading}" class="loading"> <span class="fa fa-spinner fa-pulse"></span> Loading Class Marks</div> <div if="{!loading}"> <div class="row"> <div class="col-xs-12 col-md-8"> <div class="btn-toolbar"> <a onclick="{editClassDetails}" if="{admin}" class="btn btn-sm btn-primary"><span class="fa fa-edit"></span><span class="hidden-xs"> Edit Class Details</span></a><a onclick="{logoutusers}" class="btn btn-sm btn-primary"><span class="fa fa-unlock"></span><span class="hidden-xs"> Unlock All Logins</span></a><a href="/duocms/api/classrooms/{opts.params.class_id}/excel" class="btn btn-sm btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Marks</span></a><a href="/duocms/api/classrooms/{opts.params.class_id}/pdf" onclick="{disable}" target="_blank" class="btn btn-sm btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Report</span></a> <dropdown show="{exam_cols}" target="_blank" class="btn btn-sm btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Exam Report {exam_cols}</span><span class="caret"></span> <ul style="min-width:150px" class="dropdown-menu"> <li each="{v,k in parent.examIds}"><a onclick="{parent.parent.openExamReport}">(E{k+1}) {parent.parent.examTitles[k]}</a></li> </ul> </dropdown> <confirm if="{admin}" onconfirm="{removeClass}" placement="top" class="btn btn-sm btn-danger"><span class="fa fa-trash"></span><span class="hidden-xs"> Delete This Class</span></confirm> </div><br> </div> <div class="col-xs-12 col-md-4"> <div class="key"> <div class="blue">Average</div> <div class="green">Above Average</div> <div class="red">Below Average</div> </div><br> </div> </div> <table class="table table-stiped table-hover"> <thead> <tr class="info"> <td class="col-xs-2">First Name</td> <td class="col-xs-2">Surname</td> <td> <div onmousedown="{repeater.bind(this,hwoffsetDec)}" ontouchstart="{repeater.bind(this,hwoffsetDec)}" class="btn btn-default btn-sm"><span class="fa fa-caret-left"></span></div> </td> <td each="{v,k in new Array(homeworks_cols)}" title="{hwTitles[k+hwoffset]}"><a if="{hwTitles[k+hwoffset] &amp;&amp; hwIds[k+hwoffset]}" href="/duocms/api/classrooms/{id}/homework/{hwIds[k+hwoffset]}">H{k+hwoffset+1}</a><span if="{!hwTitles[k+hwoffset] || !hwIds[k+hwoffset]}">H{k+hwoffset+1}</span></td> <td> <div onmousedown="{repeater.bind(this,hwoffsetInc)}" ontouchstart="{repeater.bind(this,hwoffsetInc)}" class="btn btn-default btn-sm"><span class="fa fa-caret-right"></span></div> </td> <td if="{test_cols}"> <div onmousedown="{repeater.bind(this,testoffsetDec)}" ontouchstart="{repeater.bind(this,testoffsetDec)}" class="btn btn-default btn-sm"><span class="fa fa-caret-left"></span></div> </td> <td if="{test_cols}" each="{v,k in new Array(test_cols)}" title="{testTitles[k+testoffset]}"><a if="{testIds[k+testoffset] &amp;&amp; testIds[k+testoffset]}" href="/duocms/api/classrooms/{id}/homework/{testIds[k+testoffset]}">T{k+testoffset+1}</a><span if="{!testIds[k+testoffset] || !testIds[k+testoffset]}">T{k+testoffset+1}</span></td> <td if="{test_cols}"> <div onmousedown="{repeater.bind(this,testoffsetInc)}" ontouchstart="{repeater.bind(this,testoffsetInc)}" class="btn btn-default btn-sm"><span class="fa fa-caret-right"></span></div> </td> <td if="{exam_cols}"> <div onmousedown="{repeater.bind(this,examoffsetDec)}" ontouchstart="{repeater.bind(this,examoffsetDec)}" class="btn btn-default btn-sm"><span class="fa fa-caret-left"></span></div> </td> <td if="{exam_cols}" each="{v,k in new Array(exam_cols)}" title="{examTitles[k+examoffset]}"><a if="{examIds[k+examoffset] &amp;&amp; examIds[k+examoffset]}" href="/duocms/api/classrooms/{id}/homework/{examIds[k+examoffset]}">E{k+examoffset+1}</a><span if="{!examIds[k+examoffset] || !examIds[k+examoffset]}">E{k+examoffset+1}</span></td> <td if="{exam_cols}"> <div onmousedown="{repeater.bind(this,examoffsetInc)}" ontouchstart="{repeater.bind(this,examoffsetInc)}" class="btn btn-default btn-sm"><span class="fa fa-caret-right"></span></div> </td> </tr> </thead> <tbody> <tr each="{classroom.students}" title="{username}"> <td onclick="{handleSelect}">{first_name}</td> <td onclick="{handleSelect}">{surname}</td> <td> </td> <td each="{v,k in new Array(homeworks_cols)}" title="{avgHomework[k+hwoffset]+\'% class average\'}" class="col-xs-1"> <feedback-icon added="{homework[k+hwoffset].feedback_added}" unread="{homework[k+hwoffset].feedback_unread}" style="float:right"></feedback-icon> <div if="{homework[k+hwoffset].student_marks!=null}" onclick="{gotoAssignment.bind(null,homework[k+hwoffset],id)}"><small class="text-center">{perc(homework[k+hwoffset])}%</small> <progressbar value="{perc(homework[k+hwoffset])}" bsstyle="{avgHomework[k+hwoffset]&gt;perc(homework[k+hwoffset])?\'danger\':\'success\'}" class="avg"></progressbar> <progressbar value="{avgHomework[k+hwoffset]}" class="avg"></progressbar> </div> </td> <td></td> <td if="{test_cols}"></td> <td each="{v,k in new Array(test_cols)}" title="{avgTest[k+testoffset]+\'% class average\'}" class="col-xs-1"> <feedback-icon added="{tests[k+testoffset].feedback_added}" unread="{tests[k+testoffset].feedback_unread}" style="float:right"></feedback-icon> <div if="{tests[k+testoffset].student_marks!=null}" onclick="{gotoAssignment.bind(null,tests[k+testoffset],id)}"><small class="text-center">{perc(tests[k+testoffset])}%</small> <progressbar value="{perc(tests[k+testoffset])}" bsstyle="{avgTest[k-1]&gt;perc(tests[k+testoffset])?\'danger\':\'success\'}" class="avg"></progressbar> <progressbar value="{avgTest[k+testoffset]}" class="avg"></progressbar> </div> </td> <td if="{test_cols}"></td> <td if="{exam_cols}"></td> <td each="{v,k in new Array(exam_cols)}" title="{avgExam[k+examoffset]+\'% class average\'}" class="col-xs-1"> <feedback-icon added="{exams[k+examoffset].feedback_added}" unread="{exams[k+examoffset].feedback_unread}" style="float:right"></feedback-icon> <div if="{exams[k+examoffset].student_marks!=null}" onclick="{gotoAssignment.bind(null,exams[k+examoffset],id)}"><small class="text-center">{perc(exams[k+examoffset])}% {exams[k+examoffset].grade ?  - +exams[k+examoffset].grade : }</small> <progressbar value="{perc(exams[k+examoffset])}" bsstyle="{avgExam[k+examoffset]&gt;perc(exams[k+examoffset])?\'danger\':\'success\'}" class="avg"></progressbar> <progressbar value="{avgExam[k+examoffset]}" class="avg"></progressbar> </div> </td> <td if="{exam_cols}"></td> </tr> </tbody> </table> </div> <routehandler></routehandler>',".key { float: right; font-size: 11px; padding: 10px 0; } .key > * { border-left: 15px solid #ccc; padding-left: 5px; margin: 0 0 0 20px; float: left; } .key .blue { border-left-color: #3fa9f5; } .key .green { border-left-color: #5cb85c; } .key .red { border-left-color: #d9534f; }","",function(opts){var request,_this;request=__webpack_require__(2),this.classroom={users:[]},this.hwoffset=0,this.testoffset=0,this.examoffset=0,this.homeworks_cols=5,this.test_cols=3,this.exam_cols=0,this.loading=!1,this.one_yr_ago=new Date((new Date).setFullYear((new Date).getFullYear()-1)),this.on("mount",function(){if(this.section=window.location.pathname.match("allclasses")?"allclasses":"classes",this.id=opts.params.class_id,opts.stores.on("session_changed",this.sessionUpdated),opts.stores.on("class_changed"+this.id,this.handleClassStoreChange),opts.stores.trigger("session_sync"),this.loading=!0,riot.update(),this.id&&"new"!==this.id)return opts.stores.trigger("class_get",this.id)}),this.on("unmount",function(){return opts.stores.off("class_changed"+this.id,this.handleClassStoreChange),opts.stores.off("session_changed",this.sessionUpdated)}),this.disable=function(e){return e.target.className+=" disabled",setTimeout(function(){return e.target.className.replace(/ ?disabled ?/,"")},2e3),!0},this.perc=function(assignment){return Math.round(assignment.student_marks/assignment.marks*100)},this.repeater=(_this=this,function(cback){return document.addEventListener("mouseup",_this.stoprepeater),document.addEventListener("touchend",_this.stoprepeater),cback(),_this.update(),_this.interval=setInterval(function(){return cback(),_this.update()},200)}),this.stoprepeater=function(_this){return function(){return document.removeEventListener("mouseup",_this.stoprepeater),document.removeEventListener("touchend",_this.stoprepeater),clearInterval(_this.interval)}}(this),this.sessionUpdated=function(_this){return function(data){var ref,ref1;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],-1<_this.groups.indexOf("School Admins")&&(_this.admin=!0),(null!=(ref1=data.user)?ref1.wonde_id:void 0)&&(_this.is_wonde=!0),_this.update()}}(this),this.handleClassStoreChange=function(_this){return function(res){var classroom,examlast,hwlast,testlast;return _this.loading=!1,(classroom=JSON.parse(JSON.stringify(res))).students=classroom.users.filter(function(user){return"student"===user.type}),hwlast=0,_this.hwIds=[],_this.hwTitles=[],_this.avgHomework=[],testlast=0,_this.testIds=[],_this.testTitles=[],_this.avgTest=[],examlast=0,_this.examIds=[],_this.examTitles=[],_this.avgExam=[],classroom.students.forEach(function(student){return student.homework=student.homework.filter(function(hw){return!(null!=hw?hw.intervention:void 0)}),student.homework.forEach(function(hw,idx){if((null!=hw?hw.avgpercent:void 0)&&(_this.avgHomework[idx]=Math.round(10*hw.avgpercent)/10),hw&&(_this.hwTitles[idx]=hw.title,_this.hwIds[idx]=new Date(hw.due_at)>_this.one_yr_ago?hw.id:null,hwlast<idx))return hwlast=idx}),student.tests=student.tests.filter(function(tst){return!(null!=tst?tst.intervention:void 0)}),student.tests.forEach(function(tst,idx){if((null!=tst?tst.avgpercent:void 0)&&(_this.avgTest[idx]=Math.round(10*tst.avgpercent)/10),tst&&(_this.testTitles[idx]=tst.title,_this.testIds[idx]=new Date(tst.due_at)>_this.one_yr_ago?tst.id:null,testlast<idx))return testlast=idx}),student.exams=student.exams.filter(function(exm){return!(null!=exm?exm.intervention:void 0)}),student.exams.forEach(function(exm,idx){if((null!=exm?exm.avgpercent:void 0)&&(_this.avgExam[idx]=Math.round(10*exm.avgpercent)/10),exm&&(_this.examTitles[idx]=exm.title,_this.examIds[idx]=new Date(exm.due_at)>_this.one_yr_ago?exm.id:null,examlast<idx))return examlast=idx})}),_this.classroom=classroom,_this.test_cols=0,_this.exam_cols=0,_this.homeworks_cols=8,0<_this.testTitles.length&&(_this.homeworks_cols-=3,_this.test_cols=3),0<_this.examTitles.length&&(_this.homeworks_cols-=3,_this.exam_cols=3),_this.homeworks_cols<3&&(_this.homeworks_cols=3),_this.hwoffset=hwlast-(_this.homeworks_cols-1),_this.testoffset=testlast-(_this.test_cols-1),_this.examoffset=examlast-(_this.exam_cols-1),_this.hwoffset<0&&(_this.hwoffset=0),_this.testoffset<0&&(_this.testoffset=0),_this.examoffset<0&&(_this.examoffset=0),_this.update()}}(this),this.handleSelect=function(_this){return function(e){opts.page("/vle/"+_this.section+"/"+opts.params.class_id+"/"+e.item.id);try{window.scrollTo(0,0)}catch(error){}return _this.update()}}(this),this.gotoAssignment=function(_this){return function(assignment,student_id,e){return new Date(assignment.due_at)>_this.one_yr_ago?opts.page("/vle/"+_this.section+"/"+opts.params.class_id+"/"+student_id+"/"+assignment.id):opts.stores.trigger("toaster_add",{title:"Sorry",message:"Those answers are no longer available",type:"error"})}}(this),this.editClassDetails=function(_this){return function(){return opts.page("/vle/"+_this.section+"/"+opts.params.class_id+"/edit")}}(this),this.removeClass=function(_this){return function(){return opts.stores.trigger("class_remove",_this.classroom),opts.page("/vle/")}}(this),this.hwoffsetInc=function(_this){return function(){return _this.update({hwoffset:_this.hwoffset+1})}}(this),this.hwoffsetDec=function(_this){return function(){if(0<_this.hwoffset)return _this.update({hwoffset:_this.hwoffset-1})}}(this),this.testoffsetInc=function(_this){return function(){return _this.update({testoffset:_this.testoffset+1})}}(this),this.testoffsetDec=function(_this){return function(){if(0<_this.testoffset)return _this.update({testoffset:_this.testoffset-1})}}(this),this.examoffsetInc=function(_this){return function(){return _this.update({examoffset:_this.examoffset+1})}}(this),this.examoffsetDec=function(_this){return function(){if(0<_this.examoffset)return _this.update({examoffset:_this.examoffset-1})}}(this),this.logoutusers=function(_this){return function(){var users_ids;return users_ids=_this.classroom.students.map(function(user){return user.id}).join(","),request.get("/duocms/api/users/"+users_ids+"/logout",function(err,res){return err?opts.stores.trigger("toaster_add",{title:"Error",message:err.body.message,type:"error"}):opts.stores.trigger("toaster_add",{title:"Success",message:res.body.message,type:"success"})})}}(this),this.openExamReport=function(_this){return function(e){var key;return key=e.item.k,window.open("/duocms/api/assignment/"+_this.examIds[key]+"/examreport")}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("classmarks-tabbed",'<div show="{loading}" class="loading"> <span class="fa fa-spinner fa-pulse"></span> Loading Class Marks</div> <div if="{!loading}"> <div class="row"> <div class="col-xs-12 col-md-8"> <div class="btn-toolbar"> <a onclick="{editClassDetails}" if="{admin}" class="btn btn-sm btn-primary"><span class="fa fa-edit"></span><span class="hidden-xs"> Edit Class</span></a><a onclick="{logoutusers}" class="btn btn-sm btn-primary"><span class="fa fa-unlock"></span><span class="hidden-xs"> Unlock All Logins</span></a><a __disabled="{isPeak}" show="{isPeak}" onclick="{peakWarning}" class="btn btn-sm btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Marks</span></a><a __disabled="{isPeak}" show="{isPeak}" onclick="{peakWarning}" class="btn btn-sm btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Report</span></a><a href="/duocms/api/classrooms/{opts.params.class_id}/excel" hide="{isPeak}" class="btn btn-sm btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Marks</span></a><a href="/duocms/api/classrooms/{opts.params.class_id}/pdf" target="_blank" hide="{isPeak}" class="btn btn-sm btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Report</span></a> <dropdown show="{exam_cols}" target="_blank" class="btn btn-sm btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Exam Report {exam_cols}</span><span class="caret"></span> <ul style="min-width:150px" class="dropdown-menu"> <li each="{exam,k in parent.exams}"><a onclick="{parent.parent.openExamReport}">(E{k+1}) {exam.title}</a></li> </ul> </dropdown><a href="/vle/usage/logins/{academic_year}/year/{classroom.id}/_" target="_blank" class="btn btn-sm btn-primary"> <span class="fa fa-bar-chart"></span><span class="hidden-xs"> Analytics</span></a> <confirm if="{admin}" onconfirm="{removeClass}" placement="top" class="btn btn-sm btn-danger"><span class="fa fa-trash"></span><span class="hidden-xs"> Delete Class</span></confirm> </div><br> </div> <div class="col-xs-12 col-md-4"> <div class="key"> <div class="blue">Average</div> <div class="green">Above Average</div> <div class="red">Below Average</div> </div><br> </div> </div> <table class="table table-stiped table-hover"> <thead> <tr class="info"> <td class="col-xs-2">First Name</td> <td>Surname</td> <td class="btn-cell"> <div onmousedown="{hwoffsetDec}" ontouchstart="{hwoffsetDec}" class="btn btn-default btn-sm"><span class="fa fa-caret-left"></span></div> </td> <td each="{hw,k in hws}" no-reorder class="col-xs-1"><a if="{hw.id}" href="/duocms/api/classrooms/{id}/homework/{hw.id}"> <span> <tip tip="{hw.tooltip}"> <span class="fa fa-info-circle"></span></tip></span><span> {hw.label}</span></a><span if="{!hw.id}">{hw.label}</span></td> <td class="btn-cell"> <div onmousedown="{hwoffsetInc}" ontouchstart="{hwoffsetInc}" class="btn btn-default btn-sm"><span class="fa fa-caret-right"></span></div> </td> <td if="{test_cols}" class="btn-cell"> <div onmousedown="{testoffsetDec}" ontouchstart="{testoffsetDec}" class="btn btn-default btn-sm"><span class="fa fa-caret-left"></span></div> </td> <td each="{tst,k in tsts}" no-reorder class="col-xs-1"><a if="{tst.id}" href="/duocms/api/classrooms/{id}/homework/{tst.id}"> <span> <tip tip="{tst.tooltip}"> <span class="fa fa-info-circle"></span></tip></span><span> {tst.label}</span></a><span if="{!tst.id}">{tst.label}</span></td> <td if="{test_cols}" class="btn-cell"> <div onmousedown="{testoffsetInc}" ontouchstart="{testoffsetInc}" class="btn btn-default btn-sm"><span class="fa fa-caret-right"></span></div> </td> <td if="{exam_cols}" class="btn-cell"> <div onmousedown="{examoffsetDec}" ontouchstart="{examoffsetDec}" class="btn btn-default btn-sm"><span class="fa fa-caret-left"></span></div> </td> <td each="{exm,k in exms}" no-reorder class="col-xs-1"><a if="{exm.id}" href="/duocms/api/classrooms/{id}/homework/{exm.id}"><span> <tip tip="{exm.tooltip}"> <span class="fa fa-info-circle"></span></tip></span><span> {exm.label}</span></a><span if="{!exm.id}">{exm.label}</span></td> <td if="{exam_cols}" class="btn-cell"> <div onmousedown="{examoffsetInc}" ontouchstart="{examoffsetInc}" class="btn btn-default btn-sm"><span class="fa fa-caret-right"></span></div> </td> </tr> </thead> <tbody> <tr each="{user in classroom.students}"> <td onclick="{handleSelect}"> <span> <tip tip="{user.tooltip}" placement="right"> <span class="fa fa-info-circle"></span></tip></span><span> {user.first_name}</span></td> <td onclick="{handleSelect}"> {user.surname} </td> <td> </td> <td each="{hw,k in hws}" title="{hw.avg+\'% class average\'}" no-reorder class="col-xs-1"> <feedback-icon added="{marks[id+\'_\'+hw.id][user.id].feedback_added}" unread="{marks[id+\'_\'+hw.id][user.id].feedback_unread}" style="float:right"></feedback-icon> <div if="{hw.id &amp;&amp; marks[id+\'_\'+hw.id] &amp;&amp; marks[id+\'_\'+hw.id][user.id]}" onclick="{gotoAssignment.bind(null,hw,user.id)}"><small class="text-center">{marks[id+\'_\'+hw.id][user.id].percent}%</small> <progressbar value="{marks[id+\'_\'+hw.id][user.id].percent}" bsstyle="{(hw.avg &gt; marks[id+\'_\'+hw.id][user.id].percent )?\'danger\':\'success\'}" class="avg"></progressbar> <progressbar value="{hw.avg}" class="avg"></progressbar> </div> <div show="{hw.id &amp;&amp; !marks[id+\'_\'+hw.id]}"><span class="fa fa-spinner fa-spin"></span></div> </td> <td></td> <td if="{test_cols}"></td> <td each="{tst,k in tsts}" title="{tst.avg+\'% class average\'}" no-reorder class="col-xs-1"> <feedback-icon added="{marks[id+\'_\'+tst.id][user.id].feedback_added}" unread="{marks[id+\'_\'+tst.id][user.id].feedback_unread}" style="float:right"></feedback-icon> <div if="{tst.id &amp;&amp; marks[id+\'_\'+tst.id] &amp;&amp; marks[id+\'_\'+tst.id][user.id]}" onclick="{gotoAssignment.bind(null,tst,user.id)}"><small class="text-center">{marks[id+\'_\'+tst.id][user.id].percent}%</small> <progressbar value="{marks[id+\'_\'+tst.id][user.id].percent}" bsstyle="{(tst.avg &gt; marks[id+\'_\'+tst.id][user.id].percent )?\'danger\':\'success\'}" class="avg"></progressbar> <progressbar value="{tst.avg}" class="avg"></progressbar> </div> <div show="{tst.id &amp;&amp; !marks[id+\'_\'+tst.id]}"><span class="fa fa-spinner fa-spin"></span></div> </td> <td if="{test_cols}"></td> <td if="{exam_cols}"></td> <td each="{exm,k in exms}" title="{exm.avg+\'% class average\'}" no-reorder class="col-xs-1"> <feedback-icon added="{marks[id+\'_\'+exm.id][user.id].feedback_added}" unread="{marks[id+\'_\'+exm.id][user.id].feedback_unread}" style="float:right"></feedback-icon> <div if="{exm.id &amp;&amp; marks[id+\'_\'+exm.id] &amp;&amp; marks[id+\'_\'+exm.id][user.id]}" onclick="{gotoAssignment.bind(null,exm,user.id)}"><small class="text-center">{marks[id+\'_\'+exm.id][user.id].percent}% {gradeWithDash({exam_board:exm.exam_board,tier:exm.tier,values:exm.grades,total:marks[id+\'_\'+exm.id][user.id].mark})}</small> <progressbar value="{marks[id+\'_\'+exm.id][user.id].percent}" bsstyle="{(exm.avg &gt; marks[id+\'_\'+exm.id][user.id].percent )?\'danger\':\'success\'}" class="avg"></progressbar> <progressbar value="{exm.avg}" class="avg"></progressbar> </div> <div show="{exm.id &amp;&amp; !marks[id+\'_\'+exm.id]}"><span class="fa fa-spinner fa-spin"></span></div> </td> <td if="{exam_cols}"></td> </tr> </tbody> </table> </div> <modal title="Sorry" onclose="[object Object]"> <div class="alert alert-info"> <p> Due to very high traffic, we have had to disable some features during peak times, between <strong>9:30am and {new Date().getDay() == 1 ? 4:00pm : 4:00pm}, Monday - Friday.</strong> </p> <p>Please try again outside those times.</p> <p>Sorry for any inconvenience caused.</p> </div> </modal> <routehandler></routehandler>',".key { float: right; font-size: 11px; padding: 10px 0; } .key > * { border-left: 15px solid #ccc; padding-left: 5px; margin: 0 0 0 20px; float: left; } .key .blue { border-left-color: #3fa9f5; } .key .green { border-left-color: #5cb85c; } .key .red { border-left-color: #d9534f; } .table > thead > tr > td.btn-cell { padding: 4px 3px; text-align: center; } .table > tbody > tr > td small { font-size: 11px; }","",function(opts){var request,_this;request=__webpack_require__(2),this.classroom={users:[]},this.marks={},this.hwoffset=0,this.testoffset=0,this.examoffset=0,this.homeworks_cols=5,this.test_cols=3,this.exam_cols=0,this.hws=[],this.tests=[],this.exams=[],this.loading=!1,this.isPeak=!0,this.one_yr_ago=new Date((new Date).setFullYear((new Date).getFullYear()-1)),this.academic_year=8<=(new Date).getMonth()?(new Date).getFullYear()+1:(new Date).getFullYear(),this.peakWarning=(_this=this,function(){return _this.tags.modal.show()}),this.on("mount",function(){var now,peakfrom,peakto;if(now=new Date,peakto=((new Date).getDay(),peakfrom=new Date((new Date).setHours(9,30,0,0)),new Date((new Date).setHours(13,0,0,0))),this.isPeak=peakfrom<now&&now<peakto&&0!==now.getDay()&&6!==now.getDay(),this.isPeak=!1,this.section=window.location.pathname.match("allclasses")?"allclasses":"classes",this.id=opts.params.class_id,this.loading=!0,opts.stores.on("session_changed",this.sessionUpdated),opts.stores.on("class_users_changed"+this.id,this.usersUpdated),opts.stores.on("class_assignments_changed"+this.id,this.assignmentsUpdated),opts.stores.on("class_marks_changed",this.marksUpdated),opts.stores.on("class_changed"+this.id,this.handleClassStoreChange),opts.stores.trigger("class_load_users",this.id),opts.stores.trigger("session_sync"),this.id&&"new"!==this.id)return opts.stores.trigger("class_get",this.id)}),this.on("unmount",function(){return opts.stores.off("classes_users_changed"+this.id,this.usersUpdated),opts.stores.off("class_assignments_changed"+this.id,this.assignmentsUpdated),opts.stores.off("session_changed",this.sessionUpdated),opts.stores.off("class_marks_changed",this.marksUpdated),opts.stores.off("class_changed"+this.id,this.handleClassStoreChange)}),this.disable=function(e){return e.target.className+=" disabled",setTimeout(function(){return e.target.className.replace(/ ?disabled ?/,"")},2e3),!0},this.perc=function(assignment){return Math.round(assignment.student_marks/assignment.marks*100)},this.repeater=function(_this){return function(cback,e){return console.log("repeater started"),"mousedown"===e.type?document.addEventListener("mouseup",_this.stoprepeater):document.addEventListener("touchend",_this.stoprepeater),setTimeout(function(){return cback()},50),_this.update(),_this.interval=setInterval(function(){return cback(),_this.update()},200)}}(this),this.stoprepeater=function(_this){return function(e){return console.log("repeater stopped",e.type),"mouseup"===e.type?document.removeEventListener("mouseup",_this.stoprepeater):document.removeEventListener("touchend",_this.stoprepeater),clearInterval(_this.interval)}}(this),this.sessionUpdated=function(_this){return function(data){var ref,ref1;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],-1<_this.groups.indexOf("School Admins")&&(_this.admin=!0),(null!=(ref1=data.user)?ref1.wonde_id:void 0)&&(_this.is_wonde=!0),_this.update()}}(this),this.usersUpdated=function(_this){return function(res){return res=res||[],Array.isArray(res)||(res=[res]),_this.classroom.students=res.filter(function(s){return s.year}).map(function(s){return s.tooltip=s.username,s.logins&&(s.tooltip+="<br>Logins: "+s.logins),s.last_login&&(s.tooltip+="<br>Last Login: "+_this.dateFormat(s.last_login)),s.minutes&&(s.tooltip+="<br>Minutes: "+s.minutes),s.practice&&(s.tooltip+="<br>Practice Q's: "+s.practice),s.assignment&&(s.tooltip+="<br>Assignment Q's: "+s.assignment),s.videos&&(s.tooltip+="<br>Videos: "+s.videos),s.omm&&(s.tooltip+="<br>OMM: "+s.omm),s.acquired&&(s.tooltip+="<br>Acquired Skills: "+s.acquired),s.mastered&&(s.tooltip+="<br>Mastered Skills: "+s.mastered),s}),opts.stores.trigger("class_load_assignments",_this.id),_this.loading=!1,_this.update()}}(this),this.handleClassStoreChange=function(_this){return function(res){var key,val;for(key in _this.loading=!1,res)val=res[key],_this.classroom[key]=val;return _this.update()}}(this),this.assignmentsUpdated=function(_this){return function(res){return res=res.map(function(a){return a.tooltip=a.title,a.tooltip+="<br>Set: "+_this.dateFormat(a.assigned_at),a.tooltip+="<br>Due: "+_this.dateFormat(a.due_at),a.tooltip+="<br>Lock: "+_this.dateFormat(a.lock_at),a}),_this.homeworks=res.filter(function(a){return"homework"===a.type}),_this.tests=res.filter(function(a){return"test"===a.type}),_this.exams=res.filter(function(a){return"exam"===a.type}),_this.test_cols=0,_this.exam_cols=0,_this.homeworks_cols=8,0<_this.tests.length&&(_this.homeworks_cols-=3,_this.test_cols=3),0<_this.exams.length&&(_this.homeworks_cols-=3,_this.exam_cols=3),_this.homeworks_cols<3&&(_this.homeworks_cols=3),_this.hwoffset=_this.homeworks.length-_this.homeworks_cols,_this.testoffset=_this.tests.length-_this.test_cols,_this.examoffset=_this.exams.length-_this.exam_cols,_this.hwoffset<0&&(_this.hwoffset=0),_this.testoffset<0&&(_this.testoffset=0),_this.examoffset<0&&(_this.examoffset=0),_this.createViews(),_this.loadMarks(),_this.update()}}(this),this.createViews=function(_this){return function(){return _this.hws=Array.apply(null,Array(_this.homeworks_cols)).map(function(_,key){var a;return(a=_this.homeworks[_this.hwoffset+key]?_this.homeworks[_this.hwoffset+key]:{}).label="H"+(+key+ +_this.hwoffset+1),a}),_this.tsts=Array.apply(null,Array(_this.test_cols)).map(function(_,key){var a;return(a=_this.tests[_this.testoffset+key]?_this.tests[_this.testoffset+key]:{}).label="T"+(+key+ +_this.testoffset+1),a}),_this.exms=Array.apply(null,Array(_this.exam_cols)).map(function(_,key){var a;return(a=_this.exams[_this.examoffset+key]?_this.exams[_this.examoffset+key]:{}).label="E"+(+key+ +_this.examoffset+1),a}),_this.update()}}(this),this.loadMarks=function(_this){return function(){var assignment_ids,ref,user_ids;return user_ids=null!=(ref=_this.classroom.students)?ref.map(function(u){return u.id}):void 0,assignment_ids=[].concat(_this.hws.map(function(a){return a.id}),_this.tsts.map(function(a){return a.id}),_this.exms.map(function(a){return a.id})),opts.stores.trigger("class_load_marks",_this.id,user_ids,assignment_ids)}}(this),this.markLoader=function(_this){return function(){return _this.willLoadMarks&&clearTimeout(_this.willLoadMarks),_this.willLoadMarks=setTimeout(_this.loadMarks,1e3)}}(this),this.marksUpdated=function(_this){return function(marks1){return _this.marks=marks1,_this.homeworks=_this.addAvgs(_this.marks,_this.homeworks),_this.tests=_this.addAvgs(_this.marks,_this.tests),_this.exams=_this.addAvgs(_this.marks,_this.exams),_this.update()}}(this),this.addAvgs=function(marks,assignments){return assignments.map(function(assignment){var count,key,ref,total;if(marks[opts.params.class_id+"_"+assignment.id]){for(key in count=total=0,ref=marks[opts.params.class_id+"_"+assignment.id])count+=1,total+=+ref[key].percent;assignment.avg=Math.round(total/count*10)/10}return assignment})},this.handleSelect=function(_this){return function(e){return opts.page("/vle/"+_this.section+"/"+opts.params.class_id+"/"+e.item.user.id),setTimeout(function(){try{return window.scrollTo(0,0)}catch(error){}},200),_this.update()}}(this),this.gotoAssignment=function(_this){return function(assignment,student_id,e){return new Date(assignment.due_at)>_this.one_yr_ago?opts.page("/vle/"+_this.section+"/"+opts.params.class_id+"/"+student_id+"/"+assignment.id):opts.stores.trigger("toaster_add",{title:"Sorry",message:"Those answers are no longer available",type:"error"})}}(this),this.editClassDetails=function(_this){return function(){return opts.page("/vle/"+_this.section+"/"+opts.params.class_id+"/edit")}}(this),this.removeClass=function(_this){return function(){return opts.stores.trigger("class_remove",_this.classroom),opts.page("/vle/")}}(this),this.hwoffsetInc=function(_this){return function(){return _this.markLoader(),_this.hwoffset+=_this.homeworks_cols,_this.createViews()}}(this),this.hwoffsetDec=function(_this){return function(){return _this.markLoader(),0<_this.hwoffset&&(_this.hwoffset-=_this.homeworks_cols),_this.hwoffset<0&&(_this.hwoffset=0),_this.createViews()}}(this),this.testoffsetInc=function(_this){return function(){return _this.markLoader(),_this.testoffset+=_this.test_cols,_this.createViews()}}(this),this.testoffsetDec=function(_this){return function(){return _this.markLoader(),_this.testoffset-=_this.test_cols,_this.testoffset<0&&(_this.testoffset=0),_this.createViews()}}(this),this.examoffsetInc=function(_this){return function(){return _this.markLoader(),_this.examoffset+=_this.exam_cols,_this.createViews()}}(this),this.examoffsetDec=function(_this){return function(){return _this.markLoader(),_this.examoffset-=_this.exam_cols,_this.examoffset<0&&(_this.examoffset=0),_this.createViews()}}(this),this.logoutusers=function(_this){return function(){var users_ids;return users_ids=_this.classroom.students.map(function(user){return user.id}).join(","),request.get("/duocms/api/users/"+users_ids+"/logout",function(err,res){return err?opts.stores.trigger("toaster_add",{title:"Error",message:err.body.message,type:"error"}):opts.stores.trigger("toaster_add",{title:"Success",message:res.body.message,type:"success"})})}}(this),this.openExamReport=function(e){return e.item,window.open("/duocms/api/assignment/"+e.item.exam.id+"/examreport/"+opts.params.class_id)},this.gradeWithDash=function(_this){return function(params){var grade;return(grade=_this.getGrade(params))?" - "+grade:""}}(this),this.getGrade=function(arg){var exam_board,idx,tier,total,values;return exam_board=arg.exam_board,tier=arg.tier,values=arg.values,null==(total=arg.total)?null:(idx=0,values.split(",").forEach(function(v,i){if(+v<=total)return idx=i}),null!=(null!=exam_board?exam_board.match(/wjec/i):void 0)?"Higher"===tier?["U","C","B","A","A*"][idx]:"Intermediate"===tier?["U","E","D","C","B"][idx]:["U","G","F","E","D"][idx]:"Higher"===tier?["U","3","4","5","6","7","8","9"][idx]:["U","1","2","3","4","5"][idx])},this.dateFormat=function(date){return new Date(date).getDate()+"/"+(new Date(date).getMonth()+1)+"/"+new Date(date).getFullYear()}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("usersmarks",'<div style="margin:-53px 2px 0 0" class="btn-toolbar pull-right"><a onclick="{showIndependent}" class="btn-sm btn btn-warning"><span class="fa fa-graduation-cap"></span><span class="hidden-xs"> Independent Activity</span></a><a onclick="{logoutuser}" class="btn-sm btn btn-primary"><span class="fa fa-unlock"></span><span class="hidden-xs"> Unlock Student Login</span></a><a href="/duocms/api/classrooms/{opts.params.class_id}/user/{user_id}/excel" class="btn-sm btn btn-primary"><span class="fa fa-download"></span><span class="hidden-xs"> Download Student Marks</span></a></div> <div class="col-xs-12 {\'col-md-6\':tests.length &gt; 0 || interventions.length &gt; 0 || history.length &gt; 0 || exams.length &gt; 0}"> <h4>Homework <small if="{homeworkAvg}"> ( average mark {rounder(homeworkAvg)})</small></h4> <table class="table table-stiped table-hover"> <thead> <tr class="info"> <td class="col-xs-1">#</td> <td class="col-xs-7">Assignment Name</td> <td class="col-xs-4">Student Marks</td> </tr> </thead> <tbody> <tr each="{v,k in homework}" onclick="{handleSelect}"> <td>{homework.length - k}</td> <td> <feedback-icon added="{v.feedback_added}" unread="{v.feedback_unread}" style="float:right"></feedback-icon>{v.title} <br><small>due {dateFormat(v.due_at)}</small> </td> <td> <div title="{v.avgpercent ? parent.rounder(v.avgpercent)+\' class average\' : \'\'}" if="{v.student_marks!=null}"> <progressbar value="{v.percent}" bsstyle="{v.avgpercent&gt;v.percent?\'danger\':\'success\'}">{parent.rounder(v.percent)}</progressbar> <progressbar value="{v.student_marks!=null &amp;&amp; v.avgpercent}" if="{v.avgpercent}" class="avg"></progressbar><small>Time Spent: {Math.round(v.timeused/60)}min, <br>Last Attempted: {dateFormat(v.last_attempted)}</small> </div> </td> </tr> </tbody> </table> </div> <div show="{tests.length &gt; 0 || interventions.length &gt; 0 || history.length &gt; 0 || exams.length &gt; 0}" class="col-xs-12 col-md-6"> <div show="{tests.length &gt; 0}"> <h4>Tests <small if="{testAvg}">( average mark {rounder(testAvg)} )</small></h4> <table class="table table-stiped table-hover"> <thead> <tr class="info"> <td>#</td> <td class="col-xs-7">Assignment Name</td> <td class="col-xs-4">Student Marks</td> </tr> </thead> <tbody> <tr each="{v,k in tests}" onclick="{handleSelect}"> <td>{tests.length - k}</td> <td> <feedback-icon added="{v.feedback_added}" unread="{v.feedback_unread}" style="float:right"></feedback-icon>{v.title} <br><small>due {dateFormat(v.due_at)}</small> </td> <td> <div title="{v.avgpercent ? parent.rounder(v.avgpercent)+\' class average\' : \'\'}" if="{v.student_marks!=null}"> <progressbar value="{v.percent}" bsstyle="{v.avgpercent&gt;v.percent?\'danger\':\'success\'}">{parent.rounder(v.percent)}</progressbar> <progressbar value="{v.student_marks!=null &amp;&amp; v.avgpercent}" if="{v.avgpercent}" class="avg"></progressbar><small>Time Spent: {Math.round(v.timeused/60)}min, <br>Last Attempted: {dateFormat(v.last_attempted)}</small> </div> </td> </tr> </tbody> </table> </div> <div show="{interventions.length &gt; 0}"> <h4>Interventions <small if="{interAvg}">( average mark {rounder(interAvg)} )</small></h4> <table class="table table-stiped table-hover"> <thead> <tr class="info"> <td>#</td> <td class="col-xs-7">Assignment Name</td> <td class="col-xs-4">Student Marks</td> </tr> </thead> <tbody> <tr each="{v,k in interventions}" onclick="{handleSelect}"> <td>{interventions.length - k}</td> <td> <feedback-icon added="{v.feedback_added}" unread="{v.feedback_unread}" style="float:right"></feedback-icon>{v.title} <br><small>due {dateFormat(v.due_at)} </small> </td> <td> <div> <progressbar value="{v.percent}">{parent.rounder(v.percent)} </progressbar><small>Time Spent: {Math.round(v.timeused/60)}min, <br>Last Attempted: {dateFormat(v.last_attempted)} </small> </div> </td> </tr> </tbody> </table> </div> <div show="{exams.length &gt; 0}"> <h4>Exams <small if="{examAvg}">( average mark {rounder(examAvg)} )</small></h4> <table class="table table-stiped table-hover"> <thead> <tr class="info"> <td>#</td> <td class="col-xs-7">Exam Name</td> <td class="col-xs-4">Student Marks</td> </tr> </thead> <tbody> <tr each="{v,k in exams}" onclick="{handleSelect}"> <td>{exams.length - k}</td> <td> <feedback-icon added="{v.feedback_added}" unread="{v.feedback_unread}" style="float:right"></feedback-icon>{v.title} <span if="{v.links.length}" title="linked to &#13; {v.links.join(\' &#13;\')}"><span style="color:rgba(254, 198, 0,1);text-shadow:none" class="fa fa-circle"></span><span style="color:rgba(254, 198, 0,0.5);text-shadow:none;margin-left:-5px" class="fa fa-circle"></span></span><br><small>due {dateFormat(v.due_at)}</small> </td> <td> <div title="{v.avgpercent ? parent.rounder(v.avgpercent)+\' class average\' : \'\'}"> <progressbar value="{v.percent}" bsstyle="{v.avgpercent&gt;v.percent?\'danger\':\'success\'}">{parent.rounder(v.percent)} <progressbar value="{v.avgpercent}" if="{v.avgpercent}" class="avg"></progressbar> </progressbar> <div show="{v.series_grade}" class="pull-right"><small>Series {v.series_grade}</small></div> <div show="{v.grade}"> <small>Grade {v.grade}</small></div> </div> </td> </tr> </tbody> </table> </div> <div show="{history.length &gt; 0}"> <h4>History</h4> <table class="table table-stiped table-hover"> <thead> <tr class="info"> <td class="col-xs-7">Assignment Name</td> <td class="col-xs-4">Student Marks</td> </tr> </thead> <tbody> <tr each="{history}" onclick="{handleHistorySelect}"> <td> <feedback-icon added="{feedback_added}" unread="{feedback_unread}" style="float:right"></feedback-icon>{title}<br><small>due {dateFormat(due_at)} - type: {type}</small> </td> <td> <div title="{parent.rounder(avgpercent)+\' class average\'}"> <progressbar value="{student_percent}">{parent.rounder(student_percent)}</progressbar><small>Time Spent: {timeused ? Math.round(timeused/60)+\'min\' : \'unknown\'}, <br>Last Attempted: {dateFormat(last_attempted)} </small> </div> </td> </tr> </tbody> </table> </div> </div>',"progressbar.avg .progress { height: 5px; }","",function(opts){var request,_this;request=__webpack_require__(2),this.on("mount",function(){return this.tab="homeworkTab",this.section=window.location.pathname.match("allclasses")?"allclasses":"classes",this.user_id=opts.params.user_id,this.history=[],this.interventions=[],this.homework=[],this.tests=[],this.exams=[],this.currpath="/vle/"+this.section+"/"+opts.params.class_id+"/"+this.user_id,this.one_yr_ago=new Date((new Date).setFullYear((new Date).getFullYear()-1)),this.yearStart=7<(new Date).getMonth()?new Date((new Date).getFullYear(),8,1):new Date((new Date).getFullYear()-1,8,1),this.id=opts.params.class_id,opts.stores.on("assignedwork_user_changed",this.handleUserChange),opts.stores.trigger("assignedwork_get_user",this.user_id)}),this.on("unmount",function(){return opts.stores.off("assignedwork_history_changed",this.handleHistoryChange)}),this.handleClassStoreChange=(_this=this,function(_class){var exams,homework,interTests,interventions,studentWork,tests;if(_this.class=_class,null!=_this.class.users)return homework=(studentWork=_this.class.users.filter(function(student){return+student.id==+_this.user_id})[0]).homework.filter(function(row){return null!=row&&!row.intervention}),tests=studentWork.tests.filter(function(row){return null!=row&&!row.intervention}),interTests=studentWork.tests.filter(function(row){return null!=row&&row.intervention}),interventions=studentWork.homework.filter(function(row){return null!=row&&row.intervention}).concat(interTests),exams=studentWork.exams,_this.homeworkAvg=homework.map(function(hw){return hw.percent}).reduce(function(a,b){return+a+ +b},0)/homework.length,_this.testAvg=tests.map(function(t){return t.percent}).reduce(function(a,b){return+a+ +b},0)/tests.length,_this.interAvg=interventions.map(function(t){return t.percent}).reduce(function(a,b){return+a+ +b},0)/interventions.length,_this.examAvg=exams.map(function(t){return t.percent}).reduce(function(a,b){return+a+ +b},0)/exams.length,_this.all_ids=_this.tests.map(function(a){return a.id}).concat(_this.homework.map(function(a){return a.id}),_this.interventions.map(function(a){return a.id})),_this.update()}),this.handleSelect=function(_this){return function(e){return e.item.v.due_at>_this.one_yr_ago?opts.page(_this.currpath+"/"+e.item.v.id):opts.stores.trigger("toaster_add",{title:"Sorry",message:"Those answers are no longer available",type:"error"})}}(this),this.handleHistorySelect=function(_this){return function(e){return opts.page(_this.currpath+"/"+e.item.assignedwork_id)}}(this),this.showIndependent=function(_this){return function(e){return opts.page(_this.currpath+"/independent")}}(this),this.handleUserChange=function(_this){return function(user_assignments){var a,exam_board,i,len,linked,ref,ref1,ref2,tier;for(_this.user_assignments=user_assignments,_this.homework=[],_this.tests=[],_this.history=[],_this.interventions=[],_this.exams=[],_this.avgs={},_this.series={},i=0,len=(ref=_this.user_assignments).length;i<len;i++)(a=ref[i]).avgpercent=_this.avgs[a.assignedwork_id],a.due_at>_this.yearStart?(a.id=a.assignedwork_id,a.percent=a.student_percent,a.intervention?_this.interventions.push(a):"homework"===a.type?_this.homework.push(a):"test"===a.type?_this.tests.push(a):"exam"===a.type&&((null!=(ref1=a.link_ids)?ref1.length:void 0)&&(linked=_this.user_assignments.filter(function(b){return-1<b.link_ids.indexOf(a.id)}),a.links=linked.map(function(a){return a.title+" - due "+a.due_at.getDate()+"/"+(a.due_at.getMonth()+1)+"/"+a.due_at.getFullYear()}),a.allgrades=(null!=(ref2=a.grades)?ref2.split(","):void 0)||[],a.totalmarks=+a.student_marks||0,tier=exam_board=null,linked.forEach(function(row,idx){if(row.grades&&(a.allgrades=row.grades.split(",").map(function(grade,idx){var ref3;return+((null!=(ref3=a.allgrades)?ref3[idx]:void 0)||0)+ +grade})),row.student_marks&&(a.totalmarks+=+row.student_marks),exam_board=exam_board||row.exam_board,!tier)return tier=row.tier}),exam_board&&tier&&a.totalmarks&&a.allgrades&&(a.series_grade=_this.getGrade({exam_board:exam_board,tier:tier,mark:a.totalmarks,grades:a.allgrades}))),_this.exams.push(a))):_this.history.push(a);return _this.update()}}(this),this.logoutuser=function(_this){return function(){return request.get("/duocms/api/users/"+_this.user_id+"/logout",function(err,res){return err?opts.stores.trigger("toaster_add",{title:"Error",message:err.body.message,type:"error"}):opts.stores.trigger("toaster_add",{title:"Success",message:res.body.message,type:"success"})})}}(this),this.rounder=function(num){return Math.round(100*num)/100+"%"},this.goto=function(_this){return function(e){if(0<_this[e.target.name.replace(/Tab/,"")].length)return _this.tab=e.target.name}}(this),this.getGrades=function(arg){var exam_board,tier;return exam_board=arg.exam_board,tier=arg.tier,null!=exam_board.match(/wjec/i)?"Higher"===tier?["U","C","B","A","A*"]:"Intermediate"===tier?["U","E","D","C","B"]:["U","G","F","E","D"]:"Higher"===tier?["U","3","4","5","6","7","8","9"]:["U","1","2","3","4","5"]},this.getGrade=function(_this){return function(arg){var exam_board,gradeLabels,grades,i,idx,len,mark,tier;for(exam_board=arg.exam_board,tier=arg.tier,mark=arg.mark,grades=arg.grades,gradeLabels=_this.getGrades({exam_board:exam_board,tier:tier}),idx=i=0,len=grades.length;i<len;idx=++i)if(+mark<+grades[idx])return gradeLabels[idx-1];return gradeLabels[gradeLabels.length-1]}}(this),this.dateFormat=function(date){return date.getDate()+"/"+(date.getMonth()+1)+"/"+date.getFullYear()}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("userassignment",'<div show="{loading}" class="loading"> <span class="fa fa-spinner fa-pulse"></span> Loading Answers</div> <div class="row dsptable"> <div class="col-xs-12 td {curquestion ? \'col-lg-8\' : \'col-lg-12\'}"> <ul riot-tag="nexttabs" collection="{questions}" iscorrect="{isCorrect}" active="{curquestion.id}" ontabchange="{handleTabClick}" class="nav nav-tabs"> <li class="{active:!parent.curquestion}"><a onclick="{parent.showDescription}" class="btn">Overview</a></li> </ul><br> <div if="{!curquestion}"> <h3>{assignment.title}</h3> <p>{assignment.questions.length} questions, {assignment.marks} marks</p> <p><br></p> <p class="pre">{assignment.description}</p><br><br> <alert show="{assignment.type==\'homework\' &amp;&amp; assignment.timelimit &amp;&amp; !parent.completed &amp;&amp; assignment.lock_at &gt; new Date()}"> <h4>This is a timed homework.</h4> <p>Your teacher has allocated {Math.round(parent.assignment.timelimit)} minutes for you to complete it.</p> </alert> <alert if="{assignment.type==\'test\' &amp;&amp; !parent.completed}">This is a timed test. The timer will count down from viewing the first question. <br>You have {Math.round(parent.parent.duration/60)} minutes to complete the test.</alert> <alert show="{assignment.type==\'test\' &amp;&amp; parent.completed}"> <h4>Test Completed</h4> <p>This test has now been submitted and can no longer be edited.</p> </alert> <alert show="{assignment.type!=\'test\' &amp;&amp; parent.completed}" bsstyle="danger"> <h4>Time Expired</h4> <p>This work has now been submitted and can no longer be edited.</p> </alert> <alert show="{assignment.lock_at &amp;&amp; assignment.lock_at &lt; new Date()}" bsstyle="danger"> <h4>Assignment Completed </h4> <p>This assignment has now been locked by your teacher and can no longer be edited.</p> </alert><br> <div if="{assignment.type==\'homework\'}"> <h4>Helpful Videos</h4> <ul class="list-group"> <li each="{clips}" class="list-group-item"> <div class="btn-toolbar"> <div class="btn"> <div style="display:inline-block;width:80px;text-align:left;" class="span">Clip {clip_id}</div> {name} </div><a onclick="{parent.showvideo}" class="btn btn-primary pull-right"> <span class="fa fa-play-circle"></span> View Video</a><a onclick="{parent.showomm}" if="{omm}" class="btn btn-warning pull-right"> <span class="fa fa-play-circle"></span> View One Minute Maths Video</a> </div> </li> </ul> </div> <div if="{assignment.type==\'exam\'}" class="row"> <div class="col-sm-6 col-xs-12"><span>Exam Paper Progress</span> <progressbar value="{percentAnswered}" bsstyle="success" striped="{false}" active="{true}"> <span>{parent.marks} / {assignment.totalMarks} Marks</span></progressbar> </div> <div show="{assignment.link_ids.length}" class="col-sm-6 col-xs-12"><span>Exam Series Progress</span> <progressbar value="{allpapers.percent}" bsstyle="success" striped="{false}" active="{true}"> <span>{parent.allpapers.marks} / {parent.allpapers.total_marks} Marks</span></progressbar> </div> <div class="col-sm-6 col-xs-12"><span>Grade For This Paper</span> <div class="gradetable"> <table> <tr> <td each="{grade,idx in getGrades()}"> <span class="{bold:parent.paperGrade == grade}">{grade}</span> <div class="grademarks">{idx ? parent.assignment.exam.grades[idx] : marks}</div> </td> </tr> </table> <progressbar value="{convertPercent(percentAnswered,assignment.totalMarks)}" bsstyle="{convertPercent(percentAnswered,assignment.totalMarks) &lt;  100/getGrades().length ? \'warning\' : \'success\'}" striped="{false}" active="{true}"></progressbar> </div> </div> <div show="{assignment.link_ids.length}" class="col-sm-6 col-xs-12"><span>Grade For This Exam Series</span> <div class="gradetable"> <table> <tr> <td each="{grade,idx in getGrades()}"> <span class="{bold:parent.examGrade == grade}">{grade}</span> <div class="grademarks">{idx ? parent.assignment.allgrades[idx] : marks}</div> </td> </tr> </table> <progressbar value="{convertPercent(allpapers.percent,allpapers.total_marks,true)}" bsstyle="{convertPercent(allpapers.percent,allpapers.total_marks,true) &lt;  100/getGrades().length ? \'warning\' : \'success\'}" striped="{false}" active="{true}"> </progressbar> </div> </div> </div> <div class="btn-answer"> <div class="btn-toolbar"> <button onclick="{firstQuestion}" class="btn btn-success">{overviewButton}</button> <button if="{assignment.type==\'homework\'}" onclick="{parent.downloadPDF}" class="btn btn-default">Print Questions</button><a if="{assignment.type==\'exam\' &amp;&amp; answers.length &gt; 0}" href="{\'/duocms/api/assignment/\'+assignment.id+\'/studentexamreport/\'+opts.params.user_id}" target="_blank" class="btn btn-default">Exam Report</a> </div> </div><br> </div> <div show="{curquestion}" class="canvaswrap"><img riot-src="{(showAnswerImage ? \'/downloads/answers/answer\' : \'/images/questions/question\')+curquestion.id+\'.png\'}" width="100%" class="img-responsive img-question"> <drawing if="{hasDrawing==true}" stores="{opts.stores}"></drawing> </div> <div class="calculator"> <div style="display:block;width:60px;margin:0 0px 20px 0"><span if="{curquestion.calculator}" title="They could use a calculator for this question" class="fa fa-calculator"><span style="left:5px;bottom:-10px;font-size:30px;opacity:1;color:#00dd00" class="fa fa-check fa-stack-2x"></span></span><span if="{!curquestion.calculator}" title="They could not use calculator for this question" class="fa fa-calculator"><span style="left:5px;bottom:-10px;font-size:30px;opacity:1;color:#ff0000" class="fa fa-times fa-stack-2x"></span></span></div> <div style="width:70px;"> <div if="{curquestion.total_answers}" class="success_rate"> <div title="MathsWatch users success rate" class="fa fa-trophy"><span style="color:#fec600;font-size:14px;top:5px" class="fa fa-star fa-stack-1x"></span></div>{Math.round(curquestion.total_correct / curquestion.total_answers * 100)}% </div> </div> </div> </div> <div show="{curquestion}" class="col-lg-4 col-xs-12 td"> <div class="answercolumn"><a onclick="{handleShowAnswers}" class="btn btn-danger pull-right"> <div class="fa fa-graduation-cap"></div>{showanswers ?  Hide Answers :  Show Answers}</a> <h5 class="blockheader">Marks {answer_marks[curquestion.id]} out of {questions[questionIndex].marks}<span style="background:rgba(0,0,0,0.2);padding:10px;margin-top:-10px" class="pull-right">Attempts: {currentAnswer.answer.attempt_no || 0} </span></h5> <h5 class="blockheader"> <div style="background:rgba(0,0,0,0.4);padding:10px;margin:-10px;border-top:1px solid white;"><span class="fa fa-clock-o"></span><span> {currentAnswer.answer.timeused} seconds </span> <div class="pull-right">last attempted <dateformat date="{currentAnswer.answer.updated_at}" format="HH:mm dd/MM/yyyy"></dateformat> </div> </div> </h5> <answer question="{curquestion}" count="{1}" page="{opts.page}" onsave="handleSave}" stores="{opts.stores}" feedback="{assignment.type==\'homework\'? true : false}" currentanswer="{currentAnswer}" showanswer="{showanswers}"></answer> <div class="report-btn"><a onclick="{handleShowFlag}" class="btn btn-default btn-sm"> <div class="fa fa-flag"> </div> Report Question / Marking</a></div> </div> </div> </div> <modal title="{selectedVideo.name}" name="videomodal" onclose="{handleVideoClose}"> <vimeoplayer vimeoid="{parent.selectedVideo.url}" videoid="{parent.selectedVideo.id}" videotitle="{parent.selectedVideo.name}" video="{parent.selectedVideo}" stores="{parent.opts.stores}"></vimeoplayer> </modal> <modal title="Flag Question" name="flagmodal" onclose="{handleFlagClose}" onsave="{handleFlagForm}" savetext="Send Report"> <form onsubmit="{parent.handleFlagSend}" id="flaggedform"> <div class="row"> <forminput width1="12" width2="12" name="email" onupdate="{parent.handleFlagChange}" value="{parent.flagging.email}" label="Your Email" isrequired="true" type="{\'email\'}"></forminput> </div> <div class="row"> <formtextarea width1="12" isrequired="true" width2="12" value="{parent.flagging.message}" label="Please briefly explain the issue you are reporting with this question/marking:" rows="10" onupdate="{parent.handleFlagChange}" name="message"></formtextarea> </div> </form> </modal>',"div.canvaswrap { position: relative; } .calculator { height: 100px; position: absolute; top: 35px; right: 0px; -webkit-transform: scale(0.7) translateX(25px); -moz-transform: scale(0.7) translateX(25px); -o-transform: scale(0.7) translateX(25px); -ms-transform: scale(0.7) translateX(25px); transform: scale(0.7) translateX(25px); } [riot-tag=userassignment] .loading { position: absolute; top: -42px; right: 10px; color: #fff; } [riot-tag=userassignment] .report-btn { position: absolute; bottom: 3px; left: 8px; } @media (max-width: 1200px) { [riot-tag=userassignment] .report-btn { position: static; padding: 10px; clear: both; } }","",function(opts){var request,_this;this.users=[],this.dinputs=[],this.hasDrawing=!0,this.answer_marks={},this.showanswers=!1,this.showAnswerImage=!1,this.clips=[],this.percentAnswered=0,this.questionPercentAnswered=0,this.allpapers={},this.flagging={question_id:"",message:"",email:""},request=__webpack_require__(2),this.on("mount",function(){return this.update({loading:!0}),opts.stores.trigger("answer_get_assignment",opts.params.assigned_id),opts.stores.on("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.on("answer_assignment",this.handleAnswers),opts.stores.on("feedback_changed",this.handleFeeback),opts.stores.on("video_changed",this.handleVideoChanged),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){return opts.stores.off("answer_assignment",this.handleAnswers),opts.stores.off("assignedwork_changed_one",this.handleAssignedWorkChange),opts.stores.off("feedback_changed",this.handleFeeback),opts.stores.off("video_changed",this.handleVideoChanged),opts.stores.off("session_changed",this.sessionUpdated)}),this.on("update",function(){var allpapers_pecent,examGrade,gradeLabels,paperGrade,ref,ref1,ref2,ref3,ref4,ref5;if(this.hasAnswerImage=0<(null!=(ref=null!=(ref1=this.curquestion)&&null!=(ref2=ref1.answer)?ref2.filter(function(a){return null!=a?a.useimg:void 0}):void 0)?ref.length:void 0),this.showAnswerImage=this.showanswers&&this.hasAnswerImage,this.overviewButton=this.assignment?"View Answers":"Loading...","exam"===(null!=(ref3=this.assignment)?ref3.type:void 0))return(null!=(ref4=this.allpapers)?ref4.marks:void 0)&&(null!=(ref5=this.allpapers)?ref5.total_marks:void 0)&&(allpapers_pecent=this.allpapers.marks/this.allpapers.total_marks*100),gradeLabels=this.getGrades(),this.marks&&(paperGrade=this.getGrade(this.marks,this.assignment.exam.grades),examGrade=this.getGrade(this.allpapers.marks,this.assignment.allgrades),this.isSeries&&this.examGrade&&examGrade&&gradeLabels.indexOf(examGrade)>gradeLabels.indexOf(this.examGrade)?this.showNewGrade("Exam Series: Grade "+examGrade):this.paperGrade&&paperGrade&&gradeLabels.indexOf(paperGrade)>gradeLabels.indexOf(this.paperGrade)&&this.showNewGrade("Exam Paper: Grade "+paperGrade),this.paperGrade=paperGrade,this.examGrade=examGrade),this.allpapers.percent=allpapers_pecent}),this.showDescription=(_this=this,function(){var ref,ref1,ref2;return"exam"===_this.assignment.type&&(_this.exam_calculator=null!=(ref=_this.assignment.exam)?ref.calculator:void 0,_this.allpapers={marks:+(null!=(ref1=_this.assignment.allpapers)?ref1.marks:void 0)||0,total_marks:(null!=(ref2=_this.assignment.allpapers)?ref2.total_marks:void 0)||0}),_this.updateMarks(),_this.update({curquestion:null}),opts.stores.trigger("feedback_get",opts.params.assigned_id,-1,opts.params.user_id)}),this.handleAnswers=function(_this){return function(answers){return _this.answers=answers.filter(function(answer){return+answer.user_id==+opts.params.user_id}),opts.stores.trigger("assignedwork_get",opts.params.assigned_id,opts.params.user_id)}}(this),this.handleAssignedWorkChange=function(_this){return function(assignment){var idx;return _this.assignment=assignment,_this.loading=!1,_this.questions=_this.assignment.questions,idx=-1,opts.params.question_id&&(idx=_this.questions.findIndex(function(q){return+q.id==+opts.params.question_id})),idx<0?(idx=0,_this.showDescription(),opts.stores.trigger("video_sync")):_this.setQuestionIndex(idx)}}(this),this.handleTabClick=function(_this){return function(id,index,e){return _this.setQuestionIndex(index-1)}}(this),this.isCorrect=function(_this){return function(question){var ref;return _this.answer_marks[question.id]=null!=(ref=_this.answers.filter(function(answer){return+answer.question_id==+question.id})[0])?ref.marks:void 0,question.marks===_this.answer_marks[question.id]}}(this),this.setQuestionIndex=function(_this){return function(idx){var drawings,questionAnswer;if(_this.questionIndex=idx,_this.questions.length)return _this.hasDrawing=!1,_this.setFeedback(idx),_this.question_id=_this.questions[idx].id,_this.imgsrc="/images/questions/question"+_this.question_id+".png",_this.curquestion=_this.questions[idx],_this.assignment.exam&&(_this.curquestion.calculator=_this.assignment.exam.calculator),questionAnswer=_this.answers.filter(function(a){return+a.question_id==+_this.question_id}),_this.curanswers=questionAnswer[0]?questionAnswer[0]:"",_this.currentAnswer={answer:_this.curanswers},0<(null!=(drawings=_this.curquestion.answer.filter(function(a){return"drawing"===(null!=a?a.type:void 0)}))?drawings.length:void 0)&&(_this.hasDrawing=!0),opts.stores.trigger("feedback_get",opts.params.assigned_id,_this.question_id,opts.params.user_id),_this.update()}}(this),this.setFeedback=function(_this){return function(idx){return _this.questions[idx].feedback_unread=!1}}(this),this.handleFeeback=function(_this){return function(feedback){var ref;return null!=(ref=_this.questions[_this.questionIndex])&&(ref.feedback_added=0<feedback.length),_this.update()}}(this),this.handleShowAnswers=function(_this){return function(){return _this.showanswers=!_this.showanswers,_this.hasAnswerImage?_this.showAnswerImage=_this.showanswers:_this.showAnswerImage=!1,_this.update()}}(this),this.handleVideoChanged=function(_this){return function(allVideos){var k;for(k in _this.allVideos=allVideos,_this.clips=[],_this.assignment.playlist)_this.clips.push(_this.getById(_this.allVideos,k));return _this.update()}}(this),this.getById=function(coll,id){return coll.filter(function(row){return+row.id==+id})[0]},this.firstQuestion=function(_this){return function(e){return _this.handleTabClick(_this.questions[0].id,1,e)}}(this),this.showvideo=function(_this){return function(e){return _this.selectedVideo=e.item,_this.tags.videomodal.show(),_this.update()}}(this),this.showomm=function(_this){return function(e){return _this.selectedVideo={name:e.item.name,url:e.item.omm},_this.tags.videomodal.show(),_this.update()}}(this),this.handleVideoClose=function(_this){return function(){return _this.tags.videomodal.hide()}}(this),this.updateMarks=function(){var ref,ref1;if((null!=(ref=this.answers)?ref.length:void 0)&&(null!=(ref1=this.assignment)?ref1.totalMarks:void 0))return this.marks=this.calcTotalMarks(),this.questionMarks=this.calcMarks(),this.percentAnswered=this.marks/this.assignment.totalMarks*100,this.questionPercentAnswered=this.questionMarks/this.questionTotalMarks*100,this.update(),this.update()},this.calcTotalMarks=function(_this){return function(){return _this.answers.map(function(answer){var ref;return(null!=answer&&null!=(ref=answer.answer)?ref.map:void 0)?answer.answer.map(function(subanswer){return(null!=subanswer?subanswer.marks:void 0)||0}).reduce(function(a,b){return+a+ +b},0):0}).reduce(function(a,b){return+a+ +b},0)}}(this),this.calcMarks=function(_this){return function(){var answer,ref,ref1;return(answer=null!=(ref=_this.currentAnswer)&&null!=(ref1=ref.answer)?ref1.answer:void 0)?answer.map(function(subanswer){return(null!=subanswer?subanswer.marks:void 0)||0}).reduce(function(a,b){return+a+ +b},0):0}}(this),this.getGrades=function(_this){return function(){var is_wjec,ref,ref1,ref2,tier;return is_wjec=null!=(null!=(ref=_this.assignment.exam)&&null!=(ref1=ref.exam_board)?ref1.match(/wjec/i):void 0),tier=null!=(ref2=_this.assignment.exam)?ref2.tier:void 0,is_wjec?"Higher"===tier?["U","C","B","A","A*"]:"Intermediate"===tier?["U","E","D","C","B"]:["U","G","F","E","D"]:"Higher"===tier?["U","3","4","5","6","7","8","9"]:["U","1","2","3","4","5"]}}(this),this.gradeType=function(_this){return function(percent){return"foundation"===_this.assignment.exam.tier.toLowerCase()?+percent<+_this.assignment.exam.grades[0]?"danger":+percent<+_this.assignment.exam.grades[3]?"warning":"success":+percent<_this.assignment.exam.grades[0]?"danger":+percent<_this.assignment.exam.grades[1]?"warning":"success"}}(this),this.getGrade=function(_this){return function(mark,grades){var gradeLabels,i,idx,len;for(gradeLabels=_this.getGrades(),idx=i=0,len=grades.length;i<len;idx=++i)if(+mark<+grades[idx])return gradeLabels[idx-1];return gradeLabels[gradeLabels.length-1]}}(this),this.convertPercent=function(_this){return function(percent,totalMarks,isSeries){var bar_perc,err,grade,gradeMarks,grade_perc,marks,next_grade_perc,perc_per_grade;if(!_this.assignment)return 0;gradeMarks=isSeries&&_this.assignment.allgrades?_this.assignment.allgrades:_this.assignment.exam.grades;try{0,perc_per_grade=100/gradeMarks.length,grade=0,marks=Math.round(totalMarks*(percent/100)),gradeMarks.forEach(function(grade_mark,idx){if(grade_mark<=+marks)return grade=idx}),grade_perc=100/(totalMarks/gradeMarks[grade]),next_grade_perc=null!=gradeMarks[grade+1]?100/(totalMarks/gradeMarks[grade+1]):100,bar_perc=grade*perc_per_grade+(percent-grade_perc||1)*(perc_per_grade/(next_grade_perc-grade_perc||1))}catch(error){err=error,console.log(err)}return bar_perc}}(this),this.sessionUpdated=function(_this){return function(session){return _this.session=session,_this.update()}}(this),this.handleShowFlag=function(_this){return function(){return request.Request.prototype.csrf=function(token){return token=token||window.csrf,this.set("X-CSRF-Token",token),this},_this.flagging={message:"",email:_this.session.user.email},_this.tags.flagmodal.show()}}(this),this.handleFlagClose=function(_this){return function(){return _this.tags.flagmodal.hide()}}(this),this.handleFlagChange=function(_this){return function(arg){var name,value;return name=arg.name,value=arg.value,arg.valid,_this.flagging[name]=value,_this.update()}}(this),this.handleFlagSend=function(_this){return function(e){var assigned_id,class_id,data,ref,user_id;e&&e.preventDefault(),(data=_this.flagging).subject="Question Flagged";try{assigned_id=(ref=opts.params).assigned_id,class_id=ref.class_id,user_id=ref.user_id,data.url=window.location.origin+"/vle/classes/"+class_id+"/"+user_id+"/"+assigned_id+"/"+_this.curquestion.id}catch(error){error,data.url=window.location.href}return data.question=_this.curquestion,request.post("/duocms/api/flagging").send(data).csrf().end(function(err,res){return 200==+res.status?(opts.stores.trigger("toaster_add",{title:"Success",type:"success",message:res.body.data.message}),_this.handleFlagClose()):(opts.stores.trigger("toaster_add",{title:"Error",type:"error",message:res.body.message}),401==+res.status&&document.querySelector("login")._tag.show()),_this.update()})}}(this),this.handleFlagForm=function(_this){return function(){return _this.tags.flagmodal.flaggedform.checkValidity()?_this.handleFlagSend():_this.tags.flagmodal.flaggedform.reportValidity()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("extras",'<iframe riot-src="{src}" onload="{frameloaded}" name="contentframe" riot-style="width:100%;height:{height}px;border:0px;display:{showing}" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',"","",function(opts){var frameready,_this;frameready=__webpack_require__(211),this.height=500,this.quals={aslevel:"as_level",gcse:"gcse",ks3:"ks_3",primary:"primary",wjec:"wjec",legacy:"legacy"},this.on("updated",function(){var src;if(this.framedoc=this.contentframe.contentDocument||this.contentframe.contentWindow.document,!(src=this.framedoc.location.pathname).match(/blank/)&&"/vle"+src.replace(/\/$/,"")!==document.location.pathname.replace(/\/$/,""))return this.src=document.location.pathname.replace(/^\/vle\//,"/"),this.framedoc.location=this.src}),this.on("mount",function(){return this.showing="none",opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync"),frameready(document.querySelector("iframe"),(_this=this,function(){return _this.frameloaded()}));var _this}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated),this.root.parentNode.parentNode.className="container"}),this.frameloaded=(_this=this,function(){var innerurl,outerurl,src;return _this.framedoc=_this.contentframe.contentDocument||_this.contentframe.contentWindow.document,(src=_this.framedoc.location.pathname)&&!src.match(/blank/)&&src.match(/^\/extras\//)?(outerurl=src.replace(/^\/extras\//,"/vle/extras/").replace(/\/blank\//,"/"),window.history.replaceState({page:!0},null,outerurl)):(innerurl=document.location.pathname.replace(/^\/vle\//,"/"),_this.src=innerurl,_this.update()),[].slice.call(_this.framedoc.querySelectorAll("a")).forEach(function(link){var ref;if(null!=(ref=link.getAttribute("href"))?ref.match(/\.pdf$/):void 0)return link.setAttribute("target","_blank")}),_this.hideButtons(),_this.showing="block",setTimeout(function(){return _this.height=Math.max(500,_this.docHeight(_this.framedoc),_this.docHeight(document)-140),_this.update()})}),this.sessionUpdated=function(_this){return function(session){return _this.session=session,_this.hideButtons(),_this.update()}}(this),this.docHeight=function(doc){return Math.max(doc.body.scrollHeight,doc.body.offsetHeight,doc.documentElement.clientHeight,doc.documentElement.scrollHeight,doc.documentElement.offsetHeight)},this.hideButtons=function(_this){return function(){var key,menu,ref,ref1,ref2,val;if(_this.framedoc&&_this.session){for(key in menu=[].slice.call(_this.framedoc.querySelectorAll(".nav-stacked a")),ref=_this.quals)val=ref[key],(null!=(ref1=_this.session)?ref1.org[key]:void 0)||menu.forEach(function(a){if(a.href.match(val))return a.style.display="none"});return null!=(ref2=_this.framedoc.querySelector(".menuwrap"))?ref2.style.display="block":void 0}}}(this)})},function(module,exports){module.exports=function(iFrame,fn){var timer,fired=!1;function ready(){fired||(fired=!0,clearTimeout(timer),fn.call(this))}function readyState(){"complete"===this.readyState&&ready.call(this)}function addEvent(elem,event,fn){return elem.addEventListener?elem.addEventListener(event,fn):elem.attachEvent("on"+event,function(){return fn.call(elem,window.event)})}addEvent(iFrame,"load",function(){ready.call(iFrame.contentDocument||iFrame.contentWindow.document)}),function checkLoaded(){var doc=iFrame.contentDocument||iFrame.contentWindow.document;0!==doc.URL.indexOf("about:")?"complete"===doc.readyState?ready.call(doc):(addEvent(doc,"DOMContentLoaded",ready),addEvent(doc,"readystatechange",readyState)):timer=setTimeout(checkLoaded,1)}()}},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("extravideo",'<modal id="exvidmodal" esckey="{true}" title="{title}" onclose="{handleClose}" bssize="lg" backdrop="{false}"> <div style="margin:-15px" class="embed-responsive embed-responsive-16by9"> <iframe if="{!mp4}" show="{parent.vimeoid}" name="player" riot-src="https://player.vimeo.com/video/{parent.vimeoid}?autoplay=1&amp;autopause=0&amp;badge=0&amp;byline=0&amp;portrait=false&amp;title=false&amp;color=#3FA9F5&amp;api=1" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" class="embed-responsive-item"></iframe> </div> </modal>',"","",function(opts){var _this;this.open=(_this=this,function(vimeoid,title){return _this.vimeoid=vimeoid,_this.title=null!=title?title:"Video",_this.tags.modal.show(),_this.update()})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("contactpanel",'<panel heading="Contact" class="row2"> <p if="{opts.mode==\'student\'}">The below form will be sent to your teacher</p> <formhorizontal width1="2" width2="10" submit="{parent.send}"> <forminput name="subject" onupdate="{parent.parent.handleChange}" value="{parent.parent.data.subject}" label="Subject"></forminput> <forminput name="email" onupdate="{parent.parent.handleChange}" value="{parent.parent.data.email}" label="Your Email"></forminput> <formtextarea name="message" rows="8" onupdate="{parent.parent.handleChange}" value="{parent.parent.data.message}" label="Message"></formtextarea> <div class="btn-toolbar"> <button type="submit" class="btn btn-primary pull-right">Send</button> </div> </formhorizontal> </panel>',"","",function(opts){var request,_this;request=__webpack_require__(2),this.counter=0,this.data={subject:"",message:"",email:""},this.on("mount",function(){return request.Request.prototype.csrf=function(token){return token=token||window.csrf,this.set("X-CSRF-Token",token),this},opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated)}),this.handleChange=(_this=this,function(input){return _this.data[input.name]=input.value}),this.sessionUpdated=function(_this){return function(session){return _this.session=session,_this.data.email=_this.session.user.email,_this.data.orgname=_this.session.org.name,_this.update()}}(this),this.send=function(_this){return function(e){var errors;if(errors=[],_this.data.subject||errors.push("Please add a subject"),_this.data.message||errors.push("Please add a message"),!(0<errors.length))return request.post("/duocms/api/contact").send(_this.data).csrf().end(function(err,res){return 200==+res.status?(opts.stores.trigger("toaster_add",{title:"Success",type:"success",message:res.body.data.message}),_this.data.subject="",_this.data.message=""):(opts.stores.trigger("toaster_add",{title:"Error",type:"error",message:res.body.message}),401==+res.status&&document.querySelector("login")._tag.show()),_this.update()});opts.stores.trigger("toaster_add",{title:"Error",type:"warning",message:errors.join("\n")})}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("dashboardpanel","<p>Dashboard</p>","","",function(opts){})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("teacherstatspanel",'<div class="row"> <div class="col-xs-12"> <panel heading="Usage" class="row-lg-5 row-xs-2"> <ul class="nav nav-tabs hidden-print hidden-print"> <li class="{active:parent.mode==\'logins\'}"><a onclick="{parent.tab}" name="loginsTab">Daily School Stats</a></li> <li class="{active:parent.mode==\'videos\'}"><a onclick="{parent.tab}" name="videosTab">Videos Watched</a></li> <li class="{active:parent.mode==\'questions\'}"><a onclick="{parent.tab}" name="questionsTab">Practice Questions</a></li> </ul> <routehandler filters="{parent.filters}" stores="{parent.opts.stores}"></routehandler> </panel> </div> </div>',"","",function(opts){var _this;this.curpath=window.location.pathname,this.on("mount",function(){return opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated)}),this.sessionUpdated=(_this=this,function(data){var ref;return _this.groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],_this.user=data.user,-1<_this.groups.indexOf("School Admins")&&(_this.admin=!0),_this.update()}),this.on("update",function(){if(this.pathparts=window.location.pathname.split("/"),this.pathparts)return this.mode=this.pathparts[3]}),this.handleFilters=function(_this){return function(filters){var newpath;if(newpath="/vle/usage/"+_this.mode+"/"+filters.year+"/"+filters.month,_this.curpath!==newpath&&_this.mode)return _this.curpath=newpath,setTimeout(function(){return opts.page(newpath)})}}(this),this.tab=function(_this){return function(e){var newpath;return _this.mode=e.target.name.replace(/Tab$/,""),newpath="/vle/usage/"+_this.mode+"/"+opts.params.year+"/"+opts.params.month,opts.page(newpath),_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("loginsperday2",'<br> <div class="form-horizontal hidden-print"> <div class="col-md-12"> <div class="row"> <div class="col-sm-3 col-xs-12"> <formselect label="Year Group" options="{yeargroups}" value="{opts.params.yeargroup.replace(/_/,\'\')}" default="All" onupdate="{updateYearGroup}" width1="7" width2="5"></formselect> </div> <div class="col-sm-2 col-xs-12"> <formselect label="Class" options="{graph_classes}" value="{opts.params.class_id.replace(/_/,\'\')}" default="All" onupdate="{updateClass}" width1="3" width2="9"></formselect> </div> <div class="col-sm-3 col-xs-12"> <formselect label="Period" options="{months}" value="{opts.params.month}" default="Please Select" onupdate="{updateMonth}" width1="3" width2="9"></formselect> </div> <div class="col-sm-2 col-xs-12"> <formselect label="Year" options="{years}" value="{opts.params.year}" onupdate="{updateYear}" width1="4" width2="8"></formselect> </div> <div class="col-sm-2 col-xs-12"><a href="javascript:window.print()" class="btn btn-default pull-right"><span class="fa fa-print"> </span> Print Graphs</a></div> </div><br> </div> </div> <div class="row"> <div class="col-xs-12"> <div class="panel panel-default"> <div class="panel-heading"> Daily Stats For {filterby} - {monthNames[opts.params.month-1]} {opts.params.year} <span if="{loading}" class="fa fa-refresh fa-spin"></span></div> <div class="panel-body"> <linechart data="{linedata}" options="{main_chartoptions}" height="150"></linechart> <hr> <div class="row stats"> <div class="col-xs-12 col-sm-6 col-md-2"> <counter subtitle="Total Logins" total="{total_logins}" riot-style="{\'border:2px solid \'+colours[0]+\';background:\'+(!loading &amp;&amp; hiddenMain.indexOf(0) == -1 ? colours[0] : \'#ccc\')}" onclick="{filterMainGraph.bind(this,0)}"></counter><br> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <counter subtitle="Hours Spent" total="{hours_spent}" precision="{1}" riot-style="{\'border:2px solid \'+colours[1]+\';background:\'+(!loading &amp;&amp; hiddenMain.indexOf(1) == -1 ? colours[1] : \'#ccc\')}" onclick="{filterMainGraph.bind(this,1)}"></counter><br> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <tip tip="Number of interactive questions attempted independently" style="display:block"> <counter subtitle="Practice Questions Attempted" total="{parent.total_practice}" riot-style="{\'border:2px solid \'+parent.colours[2]+\';background:\'+(!parent.loading &amp;&amp; parent.hiddenMain.indexOf(2) == -1 ? parent.colours[2] : \'#ccc\')}" onclick="{parent.filterMainGraph.bind(this,2)}"></counter><br> </tip> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <tip tip="Number of interactive questions attempted as part of all assignments" style="display:block"> <counter subtitle="Assignment Questions Attempted" total="{parent.total_answers}" riot-style="{\'border:2px solid \'+parent.colours[3]+\';background:\'+(!parent.loading &amp;&amp; parent.hiddenMain.indexOf(3) == -1 ? parent.colours[3] : \'#ccc\')}" onclick="{parent.filterMainGraph.bind(this,3)}"></counter><br> </tip> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <tip tip="Total number of videos watched" style="display:block"> <counter subtitle="Videos Watched" total="{parent.total_videos}" riot-style="{\'border:2px solid \'+parent.colours[4]+\';background:\'+(!parent.loading &amp;&amp; parent.hiddenMain.indexOf(4) == -1 ? parent.colours[4] : \'#ccc\')}" onclick="{parent.filterMainGraph.bind(this,4)}"></counter><br> </tip> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <counter subtitle="Assignments Due" total="{total_assignments}" riot-style="{\'border:2px solid \'+colours[5]+\';background:\'+(!loading &amp;&amp; hiddenMain.indexOf(5) == -1 ? colours[5] : \'#ccc\')}" onclick="{filterMainGraph.bind(this,5)}"></counter><br> </div> </div> </div> </div> </div> </div> <div if="{!yeargroup &amp;&amp; !class_id}" class="row"> <div class="col-xs-12"> <div class="panel panel-default"> <div style="padding:5px 5px 5px 15px" class="panel-heading"> <div class="row"> <div class="col-sm-10 col-xs-8"> <div style="padding:10px 0">Year Group Comparison - {monthNames[opts.params.month-1]} {opts.params.year} </div><span if="{loading}" class="fa fa-refresh fa-spin"></span> </div> <div class="col-sm-2 col-xs-4"> <formselect inputclass="input-sm" options="{linedata.datasets}" value="{yearAxis}" default="" onupdate="{updateYearAxis}" width1="1" width2="11" style="margin:0" class="pull-right"></formselect> </div> </div> </div> <div class="panel-body"> <linechart data="{yeargroup_linedata}" height="100" options="{year_chartoptions}"></linechart> </div> </div> </div> </div> <div if="{!class_id}" class="row"> <div class="col-xs-12"> <div class="panel panel-default forceprintbreak"> <div style="padding:5px 5px 5px 15px" class="panel-heading"> <div class="row"> <div class="col-sm-10 col-xs-8"> <div style="padding:10px 0 0 0">Class Comparison - {monthNames[opts.params.month-1]} {opts.params.year} </div><span if="{loading}" class="fa fa-refresh fa-spin"></span> </div> <div class="col-sm-2 col-xs-4"> <formselect inputclass="input-sm" options="{linedata.datasets}" value="{classAxis}" default="" onupdate="{updateClassAxis}" width1="1" width2="11" style="margin:0" class="pull-right"></formselect> </div> </div> </div> <div class="panel-body"> <linechart data="{class_linedata}" height="100" options="{class_chartoptions}"></linechart> </div> </div> </div> </div> <div class="row hidden-print"> <div class="col-xs-12"> <div class="panel panel-primary"> <div class="panel-heading"> <form method="post" action="/duocms/api/logs?filter=csv" name="downloadform" class="btn-group pull-right"> <input type="hidden" name="csv" value="{csvContent}"> <input type="hidden" name="_csrf" value="{window.csrf}"> <input type="hidden" name="filename" value="student-stats-{monthNames[opts.params.month-1]}-{opts.params.year}"> <button onclick="{downloadStats}" class="btn btn-default btn-sm">Download Student Stats</button> </form> <h5>Student Stats {filterby} {monthName} {opts.params.year} <span if="{loading}" class="fa fa-refresh fa-spin"></span></h5> </div> <div style="padding:0 10px" class="panel-body"> <grid columns="{gridColumns}" multiselect="{true}" data="{student_logs}" height="471px" onselect="{handleSelect}"></grid> </div> </div> </div> </div>',".stats counter { min-height: calc(7vw + 60px); padding: 3px 0px; cursor: pointer; } .stats counter h2 { color: #fff; font-size: calc(2vw + 10px); } .stats counter h3 { color: #fff; font-size: calc(0.2vw + 12px); }","",function(opts){var convertDates,groupby,months,paddedData,scales,_this;this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],months=["January","February","March","April","May","June","July","August","September","October","November","December"].map(function(m,i){return{label:m,value:i+1}}),this.months=[{label:"Last Week",value:"lastweek"},{label:"This Week",value:"thisweek"},{label:"Academic Year",value:"year"}].concat(months),this.colours=["#FEC600","#8EA604","#D76A03","#BF3100","#1BE7FF","#6EEB83","#FF5714","#006992","#001D4A","#F21B3F","#c0f9a7","#3a3aea","#dd4d7b","#cbd653","#c94678","#8157e5","#c64d80","#95edb8","#abdd54","#bc762b","#fc2aa8","#037072","#aefceb","#492dfc","#5fd64a","#9bdb60","#b6d4ef","#e04c91","#51ea44","#4d1ab2","#52f29a","#5465e5","#ccfcff","#5672ce","#2e0791","#80f1f7","#dd6cd8","#9cf785","#f7a3c9","#58fcdb","#d31f55","#097707","#17ea99","#82abff","#f75d65","#d1af29","#48a2af","#67f79c","#fc46f9","#35b724","#4dff26","#5041f2","#f2dc87","#b8ed25","#0aada7","#c0d0f7","#f9bffc","#99efbe","#5407c6","#4de270","#a6b4f4","#d65cc5","#b162ea","#d14770","#2f2fef","#f4f475","#4c9ace","#1a2df4","#cc5a41","#0d8472","#63c5cc","#90f4cf","#ff60da","#ffa5d9","#8bc13a","#e288de","#b3c7ef","#e09c3c","#ef67ad","#eef285","#ea5b38","#d85b5d","#fcd683","#76e8a0","#f785cd","#98cc0c","#af140c","#7fe285","#e24a55","#1a37a3","#a7d861","#ffd1c6","#305ee8","#e01879","#936fd6","#58d3c9","#8cffd1","#b0eaf4","#42a500","#56ef60","#699fc6","#5761ed","#efaae7","#f7afba","#c2c4f9","#8866c1","#9351e2","#c9401a","#f4c15a"],this.year=(new Date).getFullYear(),this.years=[{value:this.year-1,label:this.year-1},{value:this.year,label:this.year},{value:this.year+1,label:this.year+1}],this.month=(new Date).getMonth()+1,this.monthName="",this.filterby="Whole School",this.classes=[],this.hiddenYears=[],this.hiddenMain=[],this.hiddenYears=[],this.linedata={datasets:[]},this.class_linedata={datasets:[]},this.yeargroup_linedata={labels:[],datasets:[]},this.yearAxis="logins",this.classAxis="logins",this.class_names={},this.gridColumns=[{field:"first_name",label:"First Name",width:"10%"},{field:"surname",label:"Surname",width:"11%"},{field:"logins",label:"Logins",width:"6%"},{field:"last_login",label:"Last Login",width:"9%",tag:"griddate"},{field:"time",label:"Minutes",width:"7%"},{field:"practice",label:"Practice Q's",width:"9%",tip:"Number of interactive questions attempted independently"},{field:"answers",label:"Assignment Q's",width:"11%",tip:"Number of interactive questions attempted as part of a homework/test"},{field:"videos_watched",label:"Videos",width:"7%",tip:"Total number of videos watched"},{field:"omm_watched",label:"OMM",width:"6%",tip:"One Minute Maths Videos watched in this time period"},{field:"acquired",label:"Acquired",width:"8%"},{field:"mastered",label:"Mastered",width:"8%"},{field:"class_names",label:"Class",width:"8%"}],this.handleSelect=function(data){var class_id,ref,user_id;if(user_id=data.user_id,class_id=null!=(ref=data.class_ids.split(","))?ref[0]:void 0,user_id&&class_id)return window.open("/vle/classes/"+class_id+"/"+user_id+"/independent")},scales={xAxes:[{type:"time",position:"bottom",time:{tooltipFormat:"D MMM YYYY",displayFormats:{day:"D MMM"},unit:this.monthTotals?"month":"day"},ticks:{source:"data"}}],yAxes:[{ticks:{beginAtZero:!0}}]},this.main_chartoptions={scales:scales,legend:{display:!1},tooltips:{callbacks:{title:function(point){return point[0].xLabel}}}},this.year_chartoptions={scales:scales,legend:{position:"right",onClick:(_this=this,function(e,item){return _this.yearChartClicked(e,item)}),onHover:function(e){return e.target.style.cursor="pointer"},labels:{generateLabels:function(_this){return function(chart){return _this.countYearLabels(chart)}}(this),boxWidth:1}},hover:{onHover:function(e){var point;return point=this.getElementAtEvent(e),e.target.style.cursor=point.length?"pointer":"default"}},tooltips:{callbacks:{title:function(_this){return function(point){return _this.yearAxis+" for "+point[0].xLabel}}(this),label:function(tooltipItem,data){return Math.round(10*tooltipItem.yLabel)/10}}}},this.class_chartoptions={scales:scales,legend:{position:"right",onHover:function(e){return e.target.style.cursor="pointer"},labels:{generateLabels:function(_this){return function(chart){return _this.countClassLabels(chart)}}(this),boxWidth:1}},hover:{onHover:function(e){var point;return point=this.getElementAtEvent(e),e.target.style.cursor=point.length?"pointer":"default"}},tooltips:{callbacks:{title:function(_this){return function(point){return _this.classAxis+" for "+point[0].xLabel}}(this)}}},this.updateChartOptions=function(_this){return function(){return _this.tags.linechart.forEach(function(tag){if(tag.chart)return tag.chart.options.scales.xAxes[0].time.unit=_this.monthTotals?"month":"day"}),_this.update()}}(this),this.on("mount",function(){return opts.params.yeargroup&&(this.yeargroup=opts.params.yeargroup.replace(/_/,"")),opts.params.class_id&&(this.class_id=opts.params.class_id.replace(/_/,"")),opts.params.month&&(this.month=opts.params.month),opts.params.year&&(this.year=opts.params.year),opts.stores.on("logs_changed_logs_per_day_per_school",this.logupdated),opts.stores.on("classes_changed",this.handleClasses),opts.stores.on("users_changed",this.handleUsers),opts.stores.trigger("user_sync"),this.loading=!0,this.hours_spent=0,this.total_logins=0,this.total_practice=0,this.total_answers=0,this.monthTotals="year"===this.month,this.updateChartOptions()}),this.handleUsers=function(_this){return function(users){return _this.users=users,_this.users_by_id={},_this.users.forEach(function(user){return _this.users_by_id[user.id]=user}),opts.stores.trigger("class_sync")}}(this),this.on("update",function(){var class_ids,_this;return this.graph_classes=this.yeargroup?this.classes.filter((_this=this,function(c){return+c.year==+_this.yeargroup})):this.classes,0<(class_ids=this.graph_classes.map(function(c){return c.value})).length&&-1===class_ids.indexOf(+this.class_id)&&(this.class_id=""),this.yeargroup||this.class_id?(this.filterby="",this.yeargroup&&(this.filterby+=" Year "+this.yeargroup),this.class_id&&null!=this.class_names[this.class_id]&&(this.filterby+=" Class "+this.class_names[this.class_id])):this.filterby="Whole School",this.applyFiltersToMainGraph()}),this.on("updated",function(){return this.filterByYears()}),this.on("unmount",function(){return opts.stores.off("logs_changed_logs_per_day_per_school",this.logupdated),opts.stores.off("classes_changed",this.handleClasses),opts.stores.off("users_changed",this.handleUsers)}),groupby=function(collection,fields){var rows,sumFields,unique;return sumFields=["videos_watched","logins","practice","answers","time","assignment"],unique=[],rows=[],collection.forEach(function(row){var key,lastIndex;return key="",fields.forEach(function(field){return key+="__"+row[field]}),-1===(lastIndex=unique.indexOf(key))?(unique.push(key),sumFields.forEach(function(field){if(!row[field])return row[field]=0}),rows.push(row)):sumFields.forEach(function(field){if(rows[lastIndex][field]||(rows[lastIndex][field]=0),row[field])return rows[lastIndex][field]+=+row[field]})}),rows},this.totalsByMonth=function(collection){var data,dt,j,len,prevMonth,prevRow,row;for(prevMonth=null,prevRow=-1,data=[],j=0,len=collection.length;j<len;j++)(row=collection[j]).x.getUTCMonth()===prevMonth?data[prevRow].y+=row.y||0:(prevRow++,prevMonth=(dt=new Date(row.x.setUTCDate(1))).getUTCMonth(),data[prevRow]={x:dt,y:row.y||0});return data},paddedData=function(start,end,obj){var data,s;if(start&&end&&!(end<=start)){for(s=new Date(start),data=[];s<=end;)s.setUTCHours(0),data.push(Object.assign({},obj,{created_at:new Date(s.toUTCString())})),s.setUTCDate(s.getUTCDate()+1);return data}},convertDates=function(collection,field){return collection.map(function(row){return row[field]=new Date(row[field]),row})},this.logupdated=function(_this){return function(logs){return _this.loading=!1,logs=JSON.parse(JSON.stringify(logs)),logs=convertDates(logs,"created_at"),logs=_this.addBonusMinutes(logs),logs=_this.getLatestClassAndYear(logs),_this.logs=logs.slice(),_this.yeargroups=_this.logs.map(function(log){return log.year}).filter(function(yr,index,all){return all.indexOf(yr)===index}).sort(function(a,b){return a-b}).map(function(yr){return{label:yr,value:yr}}),_this.createLogsByClass(logs),_this.createLogsByYearGroup(logs),_this.yeargroup&&(_this.logs=_this.logs.filter(function(row){return+row.year==+_this.yeargroup})),_this.class_id&&(_this.logs=_this.logs.filter(function(row){var ref,ref1;return-1<+(null!=(ref=row.class_ids)&&null!=(ref1=ref.split(","))?ref1.indexOf(_this.class_id):void 0)})),_this.student_logs=_this.createStudentLogs(_this.logs),_this.createLineData(),_this.createTotals(_this.logs),_this.monthTotals="year"===_this.month,_this.updateChartOptions(),_this.update()}}(this),this.addBonusMinutes=function(_this){return function(logs1){return _this.logs=logs1,_this.logs.map(function(log){var mintime;return mintime=Math.round(.75*log.answers)+log.logins,log.time<mintime&&(log.time=mintime),log})}}(this),this.createDailyStats=function(_this){return function(logs){return logs.forEach(function(row){return _this.days[row.created_at.getDate()]?Object.keys(row).forEach(function(key){if("user_id"!==key&&"first_name"!==key&&"surname"!==key&&"class_ids"!==key&&"created_at"!==key&&"mastered"!==key&&"acquired"!==key)return _this.days[row.created_at.getDate()][key]+=row[key]}):_this.days[row.created_at.getDate()]=Object.assign({assignment:0},row)})}}(this),this.createTotals=function(_this){return function(logs){var l;return l=logs.filter(function(l){return null!=l.user_id}),_this.hours_spent=Math.round(l.reduce(function(a,b){return a+(b.time||0)},0)/6)/10,_this.total_logins=l.reduce(function(a,b){return a+(b.logins||0)},0),_this.total_practice=l.reduce(function(a,b){return a+(b.practice||0)},0),_this.total_answers=l.reduce(function(a,b){return a+(b.answers||0)},0),_this.total_videos=l.reduce(function(a,b){return a+(b.videos_watched||0)},0),_this.total_assignments=logs.reduce(function(a,b){return a+(b.assignment||0)},0)}}(this),this.createLogsByClass=function(_this){return function(logs){var logs_by_class;return logs=logs.slice(),logs_by_class={},_this.days_by_class={},_this.graph_classes.forEach(function(classrow){return logs_by_class[classrow.value]=logs.filter(function(row){var ref,ref1;return-1<(null!=(ref=row.class_ids)&&null!=(ref1=ref.split(","))?ref1.indexOf(""+classrow.value):void 0)}),logs_by_class[classrow.value].forEach(function(row){return _this.days_by_class[classrow.value]||(_this.days_by_class[classrow.value]={}),_this.days_by_class[classrow.value][row.created_at]?Object.keys(row).forEach(function(key){if("user_id"!==key&&"first_name"!==key&&"surname"!==key&&"class_ids"!==key&&"created_at"!==key&&"mastered"!==key&&"acquired"!==key)return _this.days_by_class[classrow.value][row.created_at][key]+=row[key]}):_this.days_by_class[classrow.value][row.created_at]=Object.assign({assignment:0},row)})})}}(this),this.createLogsByYearGroup=function(_this){return function(logs){var logs_by_yeargroup;return logs=logs.slice(),logs_by_yeargroup={},_this.days_by_yeargroup={},_this.yeargroups.forEach(function(year){return logs_by_yeargroup[year.label]=logs.filter(function(row){return""+row.year==""+year.label}),logs_by_yeargroup[year.label]=logs_by_yeargroup[year.label],logs_by_yeargroup[year.label].forEach(function(row){var dt;return dt=row.created_at,_this.days_by_yeargroup[year.label]||(_this.days_by_yeargroup[year.label]={}),_this.days_by_yeargroup[year.label][dt]?Object.keys(row).forEach(function(key){if("user_id"!==key&&"first_name"!==key&&"surname"!==key&&"class_ids"!==key&&"created_at"!==key&&"mastered"!==key&&"acquired"!==key)return _this.days_by_yeargroup[year.label][dt][key]+=row[key]}):_this.days_by_yeargroup[year.label][dt]=Object.assign({assignment:0},row)})})}}(this),this.getLatestClassAndYear=function(_this){return function(logs){return logs.map(function(log){var ref,ref1;return log.user_id&&_this.users_by_id[log.user_id]&&(log.class_ids=null!=(ref=null!=(ref1=_this.users_by_id[log.user_id].classrooms)?ref1.map(function(clss){return clss.id}):void 0)?ref.join(","):void 0,log.year=_this.users_by_id[log.user_id].year),log})}}(this),this.createStudentLogs=function(_this){return function(logs){var logs_by_student;return logs_by_student={},logs.forEach(function(row){return logs_by_student[row.user_id]?(Object.keys(row).forEach(function(key){var ref;if("user_id"!==key&&"first_name"!==key&&"surname"!==key&&"class_ids"!==key&&"created_at"!==key&&"username"!==key&&"mastered"!==key&&"acquired"!==key&&(logs_by_student[row.user_id][key]+=+row[key]),"class_ids"===key&&(null!=(ref=logs_by_student[row.user_id][key])?ref.indexOf(row[key]):void 0)<0)return logs_by_student[row.user_id][key]+=","+row[key]}),logs_by_student[row.user_id].created_at=row.created_at):logs_by_student[row.user_id]=Object.assign({assignment:0},row)}),Object.keys(logs_by_student).map(function(key){return logs_by_student[key]}).filter(function(row){return null!=row.user_id}).map(function(student){var ref,ref1;return student.class_names=null!=(ref=student.class_ids)&&null!=(ref1=ref.split(","))?ref1.filter(function(class_id){return class_id&&_this.class_names[class_id]}).map(function(class_id){return _this.class_names[class_id]}):void 0,(!student.last_login||student.last_login<student.created_at)&&(student.last_login=student.created_at),student}).sort(function(a,b){return(a.class_names+a.surname).localeCompare(b.class_names+b.surname,void 0,{numeric:!0,sensitivity:"base"})})}}(this),this.createLineData=function(_this){return function(){var class_linedata_ids,padded,yeargroup_linedata_ids;if(null!=_this.logs&&_this.startDate&&_this.endDate)return padded=paddedData(_this.startDate,_this.endDate,{videos_watched:0,logins:0,practice:0,answers:0,time:0,assignment:0}),_this.dailystats=groupby(padded.concat(_this.logs),["created_at"]),_this.linedata.datasets=[{label:"Logins Per Day",value:"logins",borderColor:_this.colours[0],fill:!1,data:_this.dailystats.map(function(d){return{x:d.created_at,y:d.logins}})},{label:"Hours Spent",value:"time",borderColor:_this.colours[1],fill:!1,data:_this.dailystats.map(function(d){return{x:d.created_at,y:d.time/60}})},{label:"Practice Questions",value:"practice",borderColor:_this.colours[2],fill:!1,data:_this.dailystats.map(function(d){return{x:d.created_at,y:d.practice}})},{label:"Assignment Questions",value:"answers",borderColor:_this.colours[3],fill:!1,data:_this.dailystats.map(function(d){return{x:d.created_at,y:d.answers}})},{label:"Videos Watched",value:"videos_watched",borderColor:_this.colours[4],fill:!1,data:_this.dailystats.map(function(d){return{x:d.created_at,y:d.videos_watched}})},{label:"Assignments Due",value:"assignment",borderColor:_this.colours[5],fill:!1,data:_this.dailystats.map(function(d){return{x:d.created_at,y:d.assignment}})}],_this.class_linedata={},class_linedata_ids={},_this.class_linedata.datasets=_this.graph_classes.map(function(row,idx){return class_linedata_ids[row.value]=idx,{id:row.value,label:row.label,borderColor:_this.colours[idx],fill:!1,data:padded.map(function(d){return{x:d.created_at,y:0}})}}),_this.yeargroup_linedata={},yeargroup_linedata_ids={},_this.yeargroup_linedata.datasets=_this.yeargroups.map(function(row,idx){return yeargroup_linedata_ids[row.value]=idx,{label:row.label,borderColor:_this.colours[idx],fill:!1,data:padded.map(function(d){return{x:d.created_at,y:0}})}}),_this.dailystats.forEach(function(row,idx){return Object.keys(_this.days_by_class).forEach(function(classid,index){var ref,value;return value=(null!=(ref=_this.days_by_class[classid][row.created_at])?ref[_this.classAxis]:void 0)||0,"time"===_this.classAxis&&(value/=60),_this.class_linedata.datasets[class_linedata_ids[classid]].data[idx]={x:row.created_at,y:value}}),Object.keys(_this.days_by_yeargroup).forEach(function(yearid,index){var ref,value;return value=(null!=(ref=_this.days_by_yeargroup[yearid][row.created_at])?ref[_this.yearAxis]:void 0)||0,"time"===_this.yearAxis&&(value/=60),_this.yeargroup_linedata.datasets[yeargroup_linedata_ids[yearid]].data[idx]={x:row.created_at,y:value}})}),_this.monthTotals&&(_this.linedata.datasets=_this.linedata.datasets.map(function(ds){return ds.data=_this.totalsByMonth(ds.data),ds}),_this.yeargroup_linedata.datasets=_this.yeargroup_linedata.datasets.map(function(ds){return ds.data=_this.totalsByMonth(ds.data),ds}),_this.class_linedata.datasets=_this.class_linedata.datasets.map(function(ds){return ds.data=_this.totalsByMonth(ds.data),ds})),_this.update()}}(this),this.filterMainGraph=function(_this){return function(index){return-1===_this.hiddenMain.indexOf(index)?_this.hiddenMain.push(+index):_this.hiddenMain.splice(_this.hiddenMain.indexOf(+index),1),_this.update()}}(this),this.applyFiltersToMainGraph=function(_this){return function(){var mainchart;if(mainchart=_this.tags.linechart[0].chart)return[0,1,2,3,4,5].forEach(function(index){var meta;try{meta=mainchart.getDatasetMeta(index)}catch(error){return}return meta.hidden=-1<_this.hiddenMain.indexOf(+index)}),mainchart.update()}}(this),this.yearChartClicked=function(_this){return function(e,legendItem){return-1===_this.hiddenYears.indexOf(legendItem.index)?_this.hiddenYears.push(legendItem.index):_this.hiddenYears.splice(_this.hiddenMain.indexOf(legendItem.index),1),_this.update()}}(this),this.filterByYears=function(_this){return function(){var classchart,hiddenYearLabels,yearchart;if(yearchart=_this.tags.linechart[1].chart,classchart=_this.tags.linechart[2].chart,hiddenYearLabels=[],yearchart)return yearchart.data.datasets.forEach(function(dataset,index){if(yearchart.getDatasetMeta(index).hidden=-1<_this.hiddenYears.indexOf(index),-1<_this.hiddenYears.indexOf(index))return hiddenYearLabels.push(dataset.label)}),classchart.data.datasets.forEach(function(dataset,index){var year;return year=_this.class_year_from_name[dataset.label],classchart.getDatasetMeta(index).hidden=-1<hiddenYearLabels.indexOf(+year)}),classchart.update(),yearchart.update()}}(this),this.updateYearAxis=function(_this){return function(opt){return _this.yearAxis=opt.value,_this.createLineData()}}(this),this.updateClassAxis=function(_this){return function(opt){return _this.classAxis=opt.value,_this.createLineData()}}(this),this.updateMonth=function(_this){return function(opt){var ref;return _this.month=opt.value,_this.monthName=null!=(ref=_this.months.filter(function(m){return""+m.value==""+this.month}))?ref.label:void 0,_this.dateChange()}}(this),this.updateYear=function(_this){return function(opt){return _this.year=opt.value,_this.dateChange()}}(this),this.updateClass=function(_this){return function(opt){return _this.class_id=opt.value,_this.update(),_this.dateChange()}}(this),this.updateYearGroup=function(_this){return function(opt){return _this.yeargroup=opt.value,_this.update(),_this.dateChange()}}(this),this.pullChanges=function(_this){return function(){var now,offset,params,sundayDate;return{},_this.monthTotals=!1,(""+_this.month).match(/week/)?(offset="lastweek"===_this.month?0:7,0===(now=new Date((new Date).setYear(_this.year))).getDay()&&(offset-=7),sundayDate=new Date(new Date(now).setUTCDate(now.getUTCDate()-now.getUTCDay()+offset)).setUTCHours(0,0,0,0),_this.endDate=new Date(new Date(sundayDate).setHours(23,59,0,0)),_this.startDate=new Date(new Date(new Date(sundayDate).setUTCDate(_this.endDate.getUTCDate()-6)).setUTCHours(0,0,0,0))):"year"===_this.month?(_this.monthTotals=!0,_this.startDate=new Date(_this.year-1,8,1,1),_this.endDate=new Date(+_this.year,7,31,1)):(_this.startDate=new Date(+_this.year,_this.month-1,1,12),_this.endDate=new Date(+_this.year,_this.month,0,12)),params={start:_this.startDate.getFullYear()+"-"+(_this.startDate.getMonth()+1)+"-"+_this.startDate.getDate(),end:_this.endDate.getFullYear()+"-"+(_this.endDate.getMonth()+1)+"-"+_this.endDate.getDate()},_this.loading=!0,_this.updateChartOptions(),opts.stores.trigger("log_sync","logs_per_day_per_school",params)}}(this),this.dateChange=function(_this){return function(){var class_id,newpath,yeargroup;return class_id=_this.class_id||"_",yeargroup=_this.yeargroup||"_",newpath="/vle/usage/logins/"+_this.year+"/"+_this.month+"/"+class_id+"/"+yeargroup,_this.pullChanges(),setTimeout(function(){return opts.page(newpath),_this.update()})}}(this),this.handleClasses=function(_this){return function(classes){if(null!=classes?classes.map:void 0)return _this.class_names={},_this.class_year_from_id={},_this.class_year_from_name={},_this.classes=classes.map(function(classs){return _this.class_names[classs.id]=classs.name,_this.class_year_from_id[classs.id]=classs.year,_this.class_year_from_name[classs.name]=classs.year,{value:classs.id,label:classs.name,year:classs.year}}),_this.pullChanges(),_this.update()}}(this),this.countYearLabels=function(chart){var data;return(data=chart.data).datasets.length?data.datasets.map(function(ds,i){var meta,total;return meta=chart.getDatasetMeta(i),total=Math.round(10*ds.data.map(function(a){return a.y||0}).reduce(function(a,b){return a+b},0))/10,{text:ds.label+" ("+total+")",fillStyle:ds.fill,strokeStyle:ds.borderColor,lineWidth:3,boxWidth:2,hidden:meta.hidden,datasetIndex:i,index:i}}):[]},this.countClassLabels=function(_this){return function(chart){var data;return(data=chart.data).datasets.length?data.datasets.map(function(ds,i){var meta,total;return meta=chart.getDatasetMeta(i),total=Math.round(10*ds.data.map(function(a){return a.y||0}).reduce(function(a,b){return a+b},0))/10,{text:ds.label+(_this.yeargroup?" ("+total+")":""),fillStyle:ds.fill,strokeStyle:ds.borderColor,lineWidth:3,boxWidth:2,hidden:meta.hidden,datasetIndex:i,index:i}}):[]}}(this),this.downloadStats=function(_this){return function(){var params;return params={start:_this.startDate.getFullYear()+"-"+(_this.startDate.getMonth()+1)+"-"+_this.startDate.getDate(),end:_this.endDate.getFullYear()+"-"+(_this.endDate.getMonth()+1)+"-"+_this.endDate.getDate(),class_id:_this.class_id,year:_this.yeargroup},opts.stores.trigger("log_load","users_without_logins",params),opts.stores.one("logs_changed_users_without_logins",function(nologins){var cols,csv,csvContent,emptylogs,student_logs;return emptylogs=_this.createStudentLogs(nologins),csv=[],cols=["username"].concat(_this.gridColumns.map(function(col){return col.field})),csv[0]=["Username"].concat(_this.gridColumns.map(function(col){return col.label.replace("8 - 9","\t8 - 9\t")})),(student_logs=_this.student_logs.concat(emptylogs)).forEach(function(row,idx){return csv[idx+1]=cols.map(function(field){return student_logs[idx][field]})}),csvContent="",csv.forEach(function(infoArray,index){var dataString;return dataString='"'+infoArray.join('","')+'"',csvContent+=index<csv.length?dataString+"\n":dataString}),_this.csvContent=csvContent,_this.update(),_this.downloadform.submit()})}}(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("questionstats",'<div class="download"> <form method="post" action="/duocms/api/logs?filter=csv" name="downloadform"> <input type="hidden" name="csv" value="{csvContent}"> <input type="hidden" name="_csrf" value="{window.csrf}"> <input type="hidden" name="filename" value="practice_questions"> <button onclick="{downloadStats}" class="btn btn-default">Download Usage</button> </form> </div> <div class="row videostatsearch"> <div class="col-xs-2"> <formselect label="Class" options="{classes}" value="{chosenclass}" default="All" onupdate="{classSelected}" width1="4" width2="8"></formselect> </div> <div class="col-xs-2"> <formselect id="grade" width1="3" width2="9" onupdate="{handleWhenChage}" default="All" value="{when}" label="When" options="{whenopts}"></formselect> </div> <div class="col-xs-8"> <usage-clipick all="{videos}" onfilter="{videosFiltered}"></usage-clipick> </div> </div> <div class="row"> <div class="col-xs-12"> <grid2 columns="{gridColumns}" data="{stats}" height="{490}" onselect="{handleSelect}" rowheight="{60}" class="clipstats"></grid2> </div> </div>',"grid.clipstats .gridcell { height: 30px; } .download { position: absolute; top: 50px; right: 15px; }","",function(opts){var _this;this.on("mount",function(){var schoolyr;return this.summary=!1,this.loginsPerUser={},this.when="",schoolyr=(new Date).getMonth()<8?new Date((new Date).getFullYear()-1,8,1):new Date((new Date).getFullYear(),8,1),this.whenopts=[{label:"last week",value:this.daysToSecAgo(7)},{label:"last 4 weeks",value:this.daysToSecAgo(28)},{label:"from "+this.dateToStringShort(schoolyr),value:schoolyr.getTime()}],this.stats=[],opts.stores.on("logs_changed_practiceQuestionsPerUser",this.practiceStatsChanged),opts.stores.on("users_changed",this.usersChanged),opts.stores.on("video_changed",this.videosChanged),opts.stores.on("classes_changed",this.handleClassChange),opts.stores.trigger("video_sync"),opts.stores.trigger("class_sync")}),this.on("unmount",function(){return opts.stores.off("logs_changed_practiceQuestionsPerUser",this.practiceStatsChanged),opts.stores.off("users_changed",this.usersChanged),opts.stores.off("video_changed",this.videosChanged),opts.stores.off("classes_changed",this.handleClassChange)}),this.videosChanged=(_this=this,function(videos){return _this.videos=videos,_this.video_from_clipid={},_this.video_from_id={},_this.videos.forEach(function(vid){return _this.video_from_clipid[vid.id+"-"+vid.clip_id]=vid}),_this.videos.forEach(function(vid){return _this.video_from_id[vid.id]=vid}),_this.update()}),this.usersChanged=function(_this){return function(users){var i,len,val;for(_this.users=[],i=0,len=users.length;i<len;i++)"P"===(val=users[i]).account_type&&_this.users.push(val);if(!(_this.users.length<1))return opts.stores.trigger("log_sync","practiceQuestionsPerUser"),_this.filterUsers()}}(this),this.videosFiltered=function(_this){return function(filtered,chosen){var colwidth,groupby,lastgroup,order;if(filtered)return _this.gridColumns=[{field:"name",label:"Name",width:170,fixed:!0},{field:"classname",label:"Class",width:70,fixed:!0},{field:"year",label:"Yr",width:40,fixed:!0},{field:"last",label:"Last Attempted",width:105,fixed:!0}],_this.clip_ids=[],chosen[groupby="GCSE"===chosen.qualification||"AS Level"===chosen.qualification||"GCSE (WJEC)"===chosen.qualification||"GCSE (Legacy)"===chosen.qualification?"grade":"level"]?(colwidth=85,_this.summary=!1,filtered.forEach(function(video){return _this.clip_ids.push(video.id+"-"+video.clip_id),_this.gridColumns.push({field:video.id+"-"+video.clip_id,label:video.clip_id,width:colwidth,tag:"markscell"})})):(colwidth=110,_this.summary=!0,_this.valPerGroup={},lastgroup="","AS Level"!==chosen.qualification&&"Primary"!==chosen.qualification||(filtered=filtered.sort(function(a,b){return a[groupby]>b[groupby]?1:-1})),"KS3"===chosen.qualification&&(order=["Emerging","Expected","Exceeding","Excelling"],filtered=filtered.sort(function(a,b){return order.indexOf(a[groupby])>order.indexOf(b[groupby])?1:-1})),filtered.forEach(function(video){return video[groupby]!==lastgroup&&(lastgroup=video[groupby],_this.gridColumns.push({field:video[groupby],label:video[groupby],width:colwidth,tag:"markscell"})),_this.clip_ids.push(video.id+"-"+video.clip_id),_this.valPerGroup[video.id+"-"+video.clip_id]=lastgroup})),opts.stores.trigger("user_sync")}}(this),this.practiceStatsChanged=function(_this){return function(logs1){return _this.logs=logs1,_this.practiceStatsPerUser()}}(this),this.loginsChanged=function(_this){return function(logs){return _this.loginsPerUser={},logs.forEach(function(log){return _this.loginsPerUser[log.user_id]={total:log.total,last:log.last}}),_this.stats=_this.stats.map(function(row){var lastlogin,ref,ref1;return row.logins=(null!=(ref=_this.loginsPerUser[row.id])?ref.total:void 0)||0,lastlogin=null!=(ref1=_this.loginsPerUser[row.id])?ref1.last:void 0,row.last_login=lastlogin?_this.dateToString(lastlogin):"",row}),_this.update()}}(this),this.practiceStatsPerUser=function(_this){return function(){var last,vidstats;if(_this.logs&&_this.filteredUsers)return vidstats={},last={},_this.logs.forEach(function(log){var ref;if(!(_this.when&&_this.when>(null!=(ref=log.updated_at)?ref.getTime():void 0)))return null==vidstats[log.user_id]&&(vidstats[log.user_id]={}),vidstats[log.user_id][log.video_id+"-"+log.clip_id]=log,!last[log.user_id]||log.updated_at>last[log.user_id]?last[log.user_id]=log.updated_at:void 0}),_this.stats=[],_this.stats=_this.filteredUsers.map(function(user){var avail_marks,classes,last_attempt,lastgroup,lastlogin,ref,ref1,ref2,ref3,ref4,stat;return classes=null!=(ref=user.classrooms[0])?ref.name:void 0,avail_marks=0,last_attempt=lastgroup=null,stat={id:user.id,name:" "+user.surname+", "+user.first_name,classname:classes,year:user.year,last:_this.dateToString(last[user.id])},_this.clip_ids.forEach(function(clip_id,index,self){var marks,perc,ref1,ref2,ref3,ref4,ref5,ref6,ref7,total,updated;return _this.summary?(lastgroup!==_this.valPerGroup[clip_id]&&(lastgroup&&(total=stat[lastgroup],perc=Math.round(1e3/avail_marks*total)/10,perc=isNaN(perc)?0:perc,stat[lastgroup]=perc+"%,"+total+"/"+avail_marks+","+_this.dateToString(last_attempt)),lastgroup=_this.valPerGroup[clip_id],stat[lastgroup]=0,avail_marks=0,last_attempt=null),stat[lastgroup]+=null!=(null!=(ref1=vidstats[user.id])?ref1[clip_id]:void 0)?+(null!=(ref2=vidstats[user.id])?ref2[clip_id].marks:void 0):0,avail_marks+=_this.video_from_clipid[clip_id].ques_marks,(null!=(ref3=vidstats[user.id])&&null!=(ref4=ref3[clip_id])?ref4.updated_at:void 0)>last_attempt&&(last_attempt=vidstats[user.id][clip_id].updated_at),index===self.length-1?(total=stat[lastgroup],perc=Math.round(1e3/avail_marks*total)/10,perc=isNaN(perc)?0:perc,stat[lastgroup]=perc+"%,"+total+"/"+avail_marks+","):void 0):null!=(null!=(ref5=vidstats[user.id])?ref5[clip_id]:void 0)?(marks=null!=(ref6=vidstats[user.id])?ref6[clip_id].marks:void 0,updated=null!=(ref7=vidstats[user.id])?ref7[clip_id].updated_at:void 0,perc=Math.round(marks/_this.video_from_clipid[clip_id].ques_marks*100),perc=isNaN(perc)?0:perc,stat[clip_id]=perc+"%,"+marks+"/"+_this.video_from_clipid[clip_id].ques_marks+","+_this.dateToString(updated)):(_this.video_from_clipid[clip_id].ques_marks,stat[clip_id]="")}),stat.logins=(null!=(ref1=_this.loginsPerUser)&&null!=(ref2=ref1[user.id])?ref2.total:void 0)||0,lastlogin=null!=(ref3=_this.loginsPerUser)&&null!=(ref4=ref3[user.id])?ref4.last:void 0,stat.last_login=lastlogin?_this.dateToString(lastlogin):"",stat}),_this.update()}}(this),this.averageArray=function(arr,suffix){return Math.round(arr.reduce(function(a,b){return a+b},0)/arr.length)+suffix},this.dateToString=function(dt){return dt?dt.getDate()+"/"+(dt.getMonth()+1)+"/"+dt.getFullYear():""},this.dateToStringShort=function(dt){return dt?dt.getDate()+"/"+(dt.getMonth()+1)+"/"+(dt.getFullYear()-2e3):""},this.handleClassChange=function(_this){return function(classes){return _this.classes=classes.map(function(c){return{label:c.name,value:c.id}}),_this.filterUsers()}}(this),this.handleWhenChage=function(_this){return function(options){return _this.when=options.value,opts.stores.trigger("log_sync","loginsPerUser",{since:options.value}),_this.practiceStatsPerUser()}}(this),this.classSelected=function(_this){return function(opt){return _this.chosenclass=+opt.value,_this.filterUsers()}}(this),this.filterUsers=function(_this){return function(){if(_this.users)return _this.chosenclass?_this.filteredUsers=_this.users.filter(function(user){return 0<user.classrooms.filter(function(cr){return cr.id===_this.chosenclass}).length}):_this.filteredUsers=_this.users.slice(),_this.update(),_this.practiceStatsPerUser()}}(this),this.daysToSecAgo=function(days){var seconds;return seconds=60*days*60*24*1e3,(new Date).getTime()-seconds},this.downloadStats=function(_this){return function(){var cols,csv,csvContent;return csv=[],cols=_this.gridColumns.map(function(col){return col.field}),csv[0]=_this.gridColumns.map(function(col){return col.label.replace("8 - 9","\t8 - 9\t")}),_this.stats.forEach(function(row,idx){return csv[idx+1]=cols.map(function(field){return _this.stats[idx][field]})}),csvContent="",csv.forEach(function(infoArray,index){var dataString;return dataString='"'+infoArray.join('","')+'"',csvContent+=index<csv.length?dataString+"\n":dataString}),_this.csvContent=csvContent,_this.update(),_this.downloadform.submit()}}(this)}),riot.tag2("markscell",'<div><small class="pull-left">{perc}</small><small class="pull-right">{marks}</small></div><br> <div class="text-center"> <small>{date}</small></div>',"","",function(opts){var _this;this.on("update",(_this=this,function(){var parts;return parts=opts.value.split(","),_this.perc=parts[0],_this.marks=parts[1],_this.date=parts[2]}))})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("clipstats",'<div class="download"> <form method="post" action="/duocms/api/logs?filter=csv" name="downloadform"> <input type="hidden" name="csv" value="{csvContent}"> <input type="hidden" name="_csrf" value="{window.csrf}"> <button onclick="{downloadStats}" class="btn btn-default">Download Usage</button> </form> </div> <div class="row videostatsearch"> <div class="col-xs-2"> <formselect label="Class" options="{classes}" value="{chosenclass}" default="All" onupdate="{classSelected}" width1="4" width2="8"></formselect> </div> <div class="col-xs-2"> <formselect id="grade" width1="3" width2="9" onupdate="{handleWhenChage}" default="All" value="{when}" label="When" options="{whenopts}"></formselect> </div> <div class="col-xs-8"> <usage-clipick all="{videos}" onfilter="{videosFiltered}"></usage-clipick> </div> </div> <div class="row"> <div class="col-xs-12"> <grid2 columns="{gridColumns}" data="{stats}" height="{490}" onselect="{handleSelect}" class="clipstats"></grid2> </div> </div>',"grid.clipstats .gridcell { height: 30px; } .download { position: absolute; top: 50px; right: 15px; }","",function(opts){var _this;this.on("mount",function(){var schoolyr;return this.summary=!1,this.loginsPerUser={},this.when="",schoolyr=(new Date).getMonth()<8?new Date((new Date).getFullYear()-1,8,1):new Date((new Date).getFullYear(),8,1),this.whenopts=[{label:"last week",value:this.daysToSecAgo(7)},{label:"last 4 weeks",value:this.daysToSecAgo(28)},{label:"from "+this.dateToStringShort(schoolyr),value:schoolyr.getTime()}],this.stats=[],opts.stores.on("logs_changed_videosPerUser",this.videoStatsChanged),opts.stores.on("logs_changed_loginsPerUser",this.loginsChanged),opts.stores.on("users_changed",this.usersChanged),opts.stores.on("video_changed",this.videosChanged),opts.stores.on("classes_changed",this.handleClassChange),opts.stores.trigger("video_sync"),opts.stores.trigger("class_sync"),opts.stores.trigger("log_sync","loginsPerUser")}),this.on("unmount",function(){return opts.stores.off("logs_changed_videosPerUser",this.videoStatsChanged),opts.stores.off("logs_changed_loginsPerUser",this.loginsChanged),opts.stores.off("users_changed",this.usersChanged),opts.stores.off("video_changed",this.videosChanged),opts.stores.off("classes_changed",this.handleClassChange)}),this.videosChanged=(_this=this,function(videos){return _this.videos=videos,_this.update()}),this.usersChanged=function(_this){return function(users){var i,len,val;for(_this.users=[],i=0,len=users.length;i<len;i++)"P"===(val=users[i]).account_type&&_this.users.push(val);if(!(_this.users.length<1))return opts.stores.trigger("log_sync","videosPerUser"),_this.filterUsers()}}(this),this.videosFiltered=function(_this){return function(filtered,chosen){var colwidth,groupby,lastgroup,order;if(filtered)return _this.gridColumns=[{field:"name",label:"Name",width:170,fixed:!0},{field:"classname",label:"Class",width:70,fixed:!0},{field:"year",label:"Yr",width:40,fixed:!0},{field:"last",label:"Last Viewed",width:85,fixed:!0},{field:"logins",label:"Logins",width:55,fixed:!0},{field:"last_login",label:"Last Login",width:80,fixed:!0}],_this.clip_ids=[],chosen[groupby="GCSE"===chosen.qualification||"AS Level"===chosen.qualification||"GCSE (WJEC)"===chosen.qualification||"GCSE (Legacy)"===chosen.qualification?"grade":"level"]?(colwidth=85,_this.summary=!1,filtered.forEach(function(video){return _this.clip_ids.push(video.clip_id),_this.gridColumns.push({field:video.clip_id,label:video.clip_id,width:colwidth})})):(colwidth=90,_this.summary=!0,_this.valPerGroup={},lastgroup="","AS Level"!==chosen.qualification&&"Primary"!==chosen.qualification||(filtered=filtered.sort(function(a,b){return a[groupby]>b[groupby]?1:-1})),"KS3"===chosen.qualification&&(order=["Emerging","Expected","Exceeding","Excelling"],filtered=filtered.sort(function(a,b){return order.indexOf(a[groupby])>order.indexOf(b[groupby])?1:-1})),filtered.forEach(function(video){return video[groupby]!==lastgroup&&(lastgroup=video[groupby],_this.gridColumns.push({field:video[groupby],label:video[groupby],width:colwidth})),_this.clip_ids.push(video.clip_id),_this.valPerGroup[video.clip_id]=lastgroup})),opts.stores.trigger("user_sync")}}(this),this.videoStatsChanged=function(_this){return function(logs1){return _this.logs=logs1,_this.videoStatsPerUser()}}(this),this.loginsChanged=function(_this){return function(logs){return _this.loginsPerUser={},logs.forEach(function(log){return _this.loginsPerUser[log.user_id]={total:log.total,last:log.last}}),_this.stats=_this.stats.map(function(row){var lastlogin,ref,ref1;return row.logins=(null!=(ref=_this.loginsPerUser[row.id])?ref.total:void 0)||0,lastlogin=null!=(ref1=_this.loginsPerUser[row.id])?ref1.last:void 0,row.last_login=lastlogin?_this.dateToString(lastlogin):"",row}),_this.update()}}(this),this.videoStatsPerUser=function(_this){return function(){var last,vidstats;if(_this.logs&&_this.filteredUsers)return vidstats={},last={},_this.logs.forEach(function(log){if(!(_this.when&&_this.when>log.when.getTime()))return null==vidstats[log.user_id]&&(vidstats[log.user_id]={}),vidstats[log.user_id][log.clip_id]=log.when,!last[log.user_id]||log.when>last[log.user_id]?last[log.user_id]=log.when:void 0}),_this.stats=[],_this.stats=_this.filteredUsers.map(function(user){var classes,lastgroup,lastlogin,ref,ref1,ref2,ref3,ref4,stat;return classes=null!=(ref=user.classrooms[0])?ref.name:void 0,lastgroup=null,stat={id:user.id,name:" "+user.surname+", "+user.first_name,classname:classes,year:user.year,last:_this.dateToString(last[user.id])},_this.clip_ids.forEach(function(clip_id,index,self){var dt,ref1,ref2,ref3;return _this.summary?(lastgroup!==_this.valPerGroup[clip_id]&&(lastgroup&&(stat[lastgroup]=_this.averageArray(stat[lastgroup],"%")),lastgroup=_this.valPerGroup[clip_id],stat[lastgroup]=[]),stat[lastgroup].push(null!=(null!=(ref1=vidstats[user.id])?ref1[clip_id]:void 0)?100:0),index===self.length-1?stat[lastgroup]=_this.averageArray(stat[lastgroup],"%"):void 0):stat[clip_id]=null!=(null!=(ref2=vidstats[user.id])?ref2[clip_id]:void 0)?(dt=null!=(ref3=vidstats[user.id])?ref3[clip_id]:void 0,_this.dateToString(dt)):""}),stat.logins=(null!=(ref1=_this.loginsPerUser)&&null!=(ref2=ref1[user.id])?ref2.total:void 0)||0,lastlogin=null!=(ref3=_this.loginsPerUser)&&null!=(ref4=ref3[user.id])?ref4.last:void 0,stat.last_login=lastlogin?_this.dateToString(lastlogin):"",stat}),_this.update()}}(this),this.downloadStats=function(_this){return function(){var cols,csv,csvContent;return csv=[],cols=_this.gridColumns.map(function(col){return col.field}),csv[0]=_this.gridColumns.map(function(col){return col.label.replace("8 - 9","\t8 - 9\t")}),_this.stats.forEach(function(row,idx){return csv[idx+1]=cols.map(function(field){return _this.stats[idx][field]})}),csvContent="",csv.forEach(function(infoArray,index){var dataString;return dataString='"'+infoArray.join('","')+'"',csvContent+=index<csv.length?dataString+"\n":dataString}),_this.csvContent=csvContent,_this.update(),_this.downloadform.submit()}}(this),this.averageArray=function(arr,suffix){return Math.round(arr.reduce(function(a,b){return a+b},0)/arr.length)+suffix},this.dateToString=function(dt){return dt?dt.getDate()+"/"+(dt.getMonth()+1)+"/"+dt.getFullYear():""},this.dateToStringShort=function(dt){return dt?dt.getDate()+"/"+(dt.getMonth()+1)+"/"+(dt.getFullYear()-2e3):""},this.handleClassChange=function(_this){return function(classes){return _this.classes=classes.map(function(c){return{label:c.name,value:c.id}}),_this.filterUsers()}}(this),this.handleWhenChage=function(_this){return function(options){return _this.when=options.value,opts.stores.trigger("log_sync","loginsPerUser",{since:options.value}),_this.videoStatsPerUser()}}(this),this.classSelected=function(_this){return function(opt){return _this.chosenclass=+opt.value,_this.filterUsers()}}(this),this.filterUsers=function(_this){return function(){if(_this.users)return _this.chosenclass?_this.filteredUsers=_this.users.filter(function(user){return 0<user.classrooms.filter(function(cr){return cr.id===_this.chosenclass}).length}):_this.filteredUsers=_this.users.slice(),_this.update(),_this.videoStatsPerUser()}}(this),this.daysToSecAgo=function(days){var seconds;return seconds=60*days*60*24*1e3,(new Date).getTime()-seconds}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("usage-clipick",'<div class="col-xs-4"> <formselect id="qualification" width1="5" width2="7" onupdate="{handleChange}" default="Select" value="{chosen.qualification}" label="Qualification" options="{filters.qualifications}"></formselect> </div> <div if="{labels.level}" class="col-xs-4"> <formselect id="level" width1="5" width2="7" onupdate="{handleChange}" default="All" value="{chosen.level}" label="{labels.level}" options="{filters.levels}"></formselect> </div> <div if="{labels.grade}" class="col-xs-4"> <formselect id="grade" width1="5" width2="7" onupdate="{handleChange}" default="Summary" value="{chosen.grade}" label="{labels.grade}" options="{filters.grades}"></formselect> </div> <div if="{labels.topic &amp;&amp; (chosen.qualification==\'KS3\' || chosen.qualification==\'Primary\') &amp;&amp; chosen.level}" class="col-xs-4"> <formselect id="topic" width1="5" width2="7" onupdate="{handleChange}" default="All" value="{chosen.topic}" label="{labels.topic}" options="{filters.topics}"> </formselect> </div>',"","",function(opts){var labels,_this;this.labels={},this.search="",labels=__webpack_require__(8),this.on("mount",function(){return this.restored=!1}),this.on("update",function(){if(opts.all&&!this.restored)return this.restored=!0,this.removeTimeout=setTimeout((_this=this,function(){var ref;return(null!=(ref=window.localStorage)?ref.usageChosen:void 0)?(_this.chosen=JSON.parse(window.localStorage.usageChosen),_this.qualificationChange(_this.chosen.qualification),_this.filterOptions(_this.chosen.qualification)):(_this.chosen={},_this.filterOptions(),_this.qualificationChange(_this.chosen.qualification)),opts.onfilter&&opts.onfilter(_this.filter(_this.chosen),_this.chosen),_this.update()}));var _this}),this.on("unmount",function(){return clearTimeout(this.removeTimeout)}),this.filterOptions=(_this=this,function(qualification){var gradefilt,levelfilt,qualfilt,ref,ref1,ref2,ref3,ref4,ref5,ref6;if(opts.all&&opts.all.length)return qualification=qualification||(null!=(ref=_this.groupSort(opts.all,"qualification"))&&null!=(ref1=ref.sort())&&null!=(ref2=ref1[0])?ref2.value:void 0),qualfilt=opts.all.filter(function(row){return row.qualification===qualification}),levelfilt=(null!=(ref3=_this.chosen)?ref3.level:void 0)?qualfilt.filter(function(row){return row.level.match(_this.chosen.level)}):qualfilt,gradefilt=(null!=(ref4=_this.chosen)?ref4.grade:void 0)?levelfilt.filter(function(row){return row.grade===_this.chosen.grade}):levelfilt,""===(null!=(ref5=_this.chosen)?ref5.level:void 0)&&(_this.chosen.topic=""),_this.filters={},_this.filters.qualifications=_this.groupSort(opts.all,"qualification").sort(),_this.filters.levels=_this.groupSort(qualfilt,"level",!("KS3"===qualification||qualification&&qualification.match(/gcse/i))),_this.filters.grades=_this.groupSort(levelfilt,"grade"),_this.filters.topics=_this.groupSort(gradefilt,"topic").sort(),(null!=(ref6=_this.chosen)?ref6.qualification:void 0)?void 0:_this.chosen.qualification=_this.filters.qualifications[0].value}),this.qualificationChange=function(_this){return function(qualification){return _this.labels={level:labels.level[qualification],grade:labels.grade[qualification],topic:labels.topic[qualification]},_this.update()}}(this),this.handleChange=function(_this){return function(row){if("qualification"===row.name&&(_this.qualificationChange(row.value),_this.chosen={qualification:"",level:"",clip_id:"",grade:"",topic:"",search:"",when:""}),null!=row.name)return _this.chosen[row.name]=row.value,window.localStorage&&(window.localStorage.usageChosen=JSON.stringify(_this.chosen)),_this.filterOptions(_this.chosen.qualification),opts.onfilter&&opts.onfilter(_this.filter(_this.chosen),_this.chosen),_this.update()}}(this),this.filter=function(_this){return function(chosen){var add,data,filt1,filtered,i,key,len,ref,ref1,reg,row,val;if(data=opts.all.slice(),!chosen||!chosen.qualification)return _this.filtered=[];for(filtered=[],chosen.search&&(reg=new RegExp(chosen.search.split(" ").join(".+"),"ig")),i=0,len=(filt1=data.filter(function(row){var ref,ref1,ref2;return(null!=(ref=row.clip_id)?ref.match(reg):void 0)||(null!=(ref1=row.name)?ref1.match(reg):void 0)||(null!=(ref2=row.description)?ref2.match(reg):void 0)})).length;i<len;i++){for(key in add=!0,(row=filt1[i]).qualification!==_this.chosen.qualification&&(add=!1),ref=_this.chosen)"Higher"===(val=ref[key])&&"GCSE"===_this.chosen.qualification&&(val=""),val=val.replace(/[*]+/,"\\*"),"search"===key||""+row[key]==""+val||""===val||(null!=(ref1=row[key])?ref1.match(val):void 0)||(add=!1);add&&filtered.push(row)}return filtered}}(this),this.groupSort=function(_this){return function(collection,field,sort){var rows;return null==sort&&(sort=!0),rows=_this.groupby(collection,field),sort&&(rows=rows.sort(function(a,b){return a||b?a[field]>b[field]?1:a[field]===b[field]?0:-1:0})),rows.map(function(video){return{label:video[field],value:video[field]}})}}(this),this.groupby=function(collection,field){var rows,unique;return unique=[],rows=[],collection.forEach(function(row){var i,key,keys,len,newRow,results;if(row[field]){for(results=[],i=0,len=(keys=row[field].split(/\//)).length;i<len;i++)key=keys[i],-1===unique.indexOf(key)?(unique.push(key),(newRow=Object.assign({},row))[field]=key,results.push(rows.push(newRow))):results.push(void 0);return results}}),rows}})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("renewform-form",'<form onsubmit="{opts.submit}" __disabled="{opts.sending}" class="form-horizontal"> <div class="row"> <input type="hidden" name="_csrf" value="{window.csrf}"> <input type="hidden" name="username" value="{opts.user.username}"> <div class="col-xs-12 col-md-6"> <table class="table table-striped"> <thead> <tr> <th class="col-xs-7">Product</th> <th class="col-xs-3"> Price</th> <th style="text-align:center" class="col-xs-2"> Order</th> </tr> </thead> <tbody class="ticks"> <tr each="{opts.types}"> <td>{label}</td> <td>{price} <small>(+vat)</small></td> <td style="text-align:center"> <input type="checkbox" name="{name}" __checked="{parent.opts.org[name]}" onchange="{parent.opts.recalc}"> </td> </tr> <tr> <td class="text-right">Subtotal</td> <td colspan="2">{opts.subtotal} <small>(+vat)</small><br><span if="{opts.saving}" class="label label-success">{opts.saving} saving</span></td> </tr> </tbody> </table> </div> <div class="col-xs-12 col-md-6"> <input type="hidden" name="quoted" value="{opts.subtotal} +vat"> <forminput type="text" name="billing_contact" label="Billing Contact" value="{opts.org.billing_contact}"></forminput> <forminput type="text" name="org_name" label="Organisation Name" value="{opts.org.name}"></forminput> <formtextarea type="text" name="address" label="Address" value="{opts.org.address}"></formtextarea> <forminput type="text" name="postcode" label="Postcode" value="{opts.org.postcode}"></forminput> <forminput type="text" name="billing_email" label="Billing Email" value="{opts.org.users[0].email}"></forminput> <forminput type="text" name="purchase_order" label="Order Number" value=""></forminput> </div> </div> <div class="row"> <div class="col-xs-12"> <hr> <button type="submit" class="btn btn-primary pull-right"> <span if="{opts.sending}" class="fa fa-spinner fa-spin"> </span> Submit Order</button> </div> </div> </form>',"","",function(opts){}),riot.tag2("renewform-thankyou","<h3>Thank you</h3> <p>{opts.message}.</p>","","",function(opts){}),riot.tag2("renewform",'<panel heading="Order Form"> <div if="{parent.error}" class="alert alert-danger"> <p>Your message was not sent. {parent.error.message}</p> </div> <div if="{org}"> <h3>Please submit this form to renew your original package or bundle.</h3> <p>If you would like to order any additional packages please tick the appropriate boxes.</p> <hr> </div> <subtag tag="{parent.tag}" user="{user}" org="{org}" types="{parent.types}" subtotal="{parent.subtotal}" saving="{parent.saving}" recalc="{parent.recalc}" submit="{parent.submit}" message="{message}" sending="{parent.sending}"></subtag> </panel>',"","",function(opts){var request,_this;request=__webpack_require__(2),this.types=[{name:"aslevel",label:"AS Level package",price:"150"},{name:"gcse",label:"GCSE package",price:"375"},{name:"wjec",label:"GCSE (WJEC) package",price:"375"},{name:"ks3",label:"KS3 package",price:"150"},{name:"primary",label:"Primary package",price:"100"},{name:"wonde_id",label:"Data Integration via Wonde",price:"30"}],this.tag="renewform-form",this.message="",this.on("mount",function(){if(this.subtotal=0,this.saving=0,this.user={},opts.stores)return opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){if(opts.stores)return opts.stores.off("session_changed",this.sessionUpdated)}),this.sessionUpdated=(_this=this,function(data){return _this.update({user:data.user,org:data.org}),setTimeout(function(){return _this.recalc()},500)}),this.getFormData=function(node){var formdata,inputs;return inputs=[].slice.call(node.querySelectorAll("[name]")),formdata={},inputs.filter(function(input){return input.name}).forEach(function(input){return"checkbox"===input.type?formdata[input.name]=input.checked:formdata[input.name]=input.value}),formdata},this.recalc=function(_this){return function(){var fullprice,productcount,selected,ticks;return _this.saving=0,ticks=[].slice.call(_this.root.querySelectorAll(".ticks input")),0===(selected=ticks.filter(function(elem){return elem.checked}).map(function(elem){return elem.name})).length?_this.subtotal=0:_this.subtotal=_this.types.filter(function(type){return-1<selected.indexOf(type.name)}).map(function(type){return type.price}).reduce(function(a,b){return+a+ +b},0),fullprice=_this.subtotal,1<(productcount=selected.filter(function(p){return"primary"!==p&&"wonde_id"!==p}).length)&&(_this.subtotal-=75),2<productcount&&(_this.subtotal-=100),_this.saving=fullprice-_this.subtotal,_this.update()}}(this),this.disableForm=function(_this){return function(){return[].slice.call(_this.root.querySelectorAll("[name]")).forEach(function(tag){return tag.setAttribute("disabled","disabled")})}}(this),this.enableForm=function(_this){return function(){return[].slice.call(_this.root.querySelectorAll("[name]")).forEach(function(tag){return tag.removeAttribute("disabled")})}}(this),this.submit=function(_this){return function(e){var data;return _this.subtotal<1?_this.showError({message:"Please select some products"}):(_this.update({sending:!0}),_this.disableForm(),data=_this.getFormData(_this.root),request.post("/duocms/api/contact/order").send(data).csrf().end(function(err,res){return err?(_this.showError(res.body),void _this.enableForm()):err?void 0:_this.update({tag:"renewform-thankyou",message:res.body.message,sending:!1})}))}}(this),this.showError=function(_this){return function(error){return error.message+=".",_this.update({error:error,sending:!1}),setTimeout(function(){return _this.update({error:!1})},3e3)}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("suspended","<h2>Sorry</h2> <p>Your school account is currently suspended. </p> <p>Please ask your school administrator to contact us.</p>","","",function(opts){})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("sub-reminder",'<alert bsstyle="danger" if="{daysLeft&lt;20 &amp;&amp; showAlert}"> <p>Your subscription expires in <strong>{parent.daysLeft} {parent.daysLeft>1?days:day}</strong>, <a href="/vle/renew" class="alert-link">please click here to renew and avoid loss of service.</a></p> </alert> <alert bsstyle="warning" if="{daysLeft&lt;=30 &amp;&amp; daysLeft&gt;=20 &amp;&amp; showAlert}"> <p>Your subscription expires in {parent.daysLeft} days,<a href="/vle/renew"> please click here to renew.</a></p> </alert> <div style="position:absolute;top:-37px;right:15px;z-index:1001;color:#fff;font-size:11px;" if="{daysLeft}">{daysLeft} {daysLeft>1?days:day} until renewal</div>',"sub-reminder{ position:relative; display:block }","",function(opts){var _this;this.status="",this.on("mount",function(){return opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){return opts.stores.off("session_changed",this.sessionUpdated),opts.stores.off("user_saved",this.userUpdated)}),this.sessionUpdated=(_this=this,function(data){var groups,ref,showAlert;return groups=(null!=(ref=data.user)?ref.groups:void 0)?data.user.groups.map(function(group){return group.name}):[],data.org&&(_this.daysLeft=Math.round((data.org.subscription_end-new Date)/1e3/60/60/24),_this.org=data.org,showAlert=!1,(-1<groups.indexOf("School Admins")||-1<groups.indexOf("Teachers"))&&(showAlert=!0)),_this.update({user:data.user,groups:groups,showAlert:showAlert})})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("message-icon",'<span class="fa fa-comment fa-2x"></span><span if="{opts.count}" class="badge">{opts.count}</span>',"message-icon { display: block; float: left; position: relative; width: 35px; margin-top: -8px; } message-icon .fa-comment { -webkit-transform: rotateY(180deg); -moz-transform: rotateY(180deg); -o-transform: rotateY(180deg); -ms-transform: rotateY(180deg); transform: rotateY(180deg); } message-icon .badge { position: absolute; top: 0px; left: -25%; background: #fec600; color: #2ca0f4; }","",function(opts){})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("message-modal",'<modal id="messagemodal" esckey="{true}" title="Messages" onclose="{handleClose}" onopen="{handleOpen}"> <div if="{parent.messsagesHaveUpdated &amp;&amp; parent.messages.length == 0}"> <p>You have no messages.</p> </div> <grid2 if="{parent.messsagesHaveUpdated &amp;&amp; parent.messages.length &gt; 0}" columns="{parent.gridColumns}" data="{parent.messages}" height="{200}" click="{parent.handleSelect}"></grid2> <div if="{parent.message}" class="message-panel"> <h4>{parent.message.subject}</h4> <div class="markdownArea"></div> </div> </modal>',".message-panel { height: 300px; overflow: auto; -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.3); box-shadow: 0 0 5px rgba(0,0,0,0.3); padding: 10px; margin-top: 15px; }","",function(opts){var converter,showdown,_this;showdown=__webpack_require__(225),converter=new showdown.Converter({underline:!0,strikethrough:!0,simpleLineBreaks:!0,openLinksInNewWindow:!0,emoji:!0,simplifiedAutoLink:!0,tables:!0,tasklists:!0,parseImgDimensions:!0}),this.closed=!0,this.messsagesHaveUpdated=!1,this.gridColumns=[{field:"type",label:"Type",width:50,tag:"messagetype-cell",blah:"hello"},{field:"subject",label:"Subject",width:350,tag:"subject-cell"},{field:"updated_at",label:"Updated",width:145,tag:"datetime-cell"}],this.on("mount",function(){return opts.stores.on("messages_changed",this.messsagesUpdated),opts.stores.on("message_changed",this.messsageUpdated),opts.stores.on("session_changed",this.sessionUpdated)}),this.on("unmount",function(){return opts.stores.off("messages_changed",this.messsagesUpdated)}),this.on("update",function(){if(!0===this.tags.modal.root._tag.visible&&this.closed)return this.handleOpen()}),this.on("updated",function(){var ref;if(null!=(null!=(ref=this.message)?ref.message:void 0)&&document.querySelector(".markdownArea"))return document.querySelector(".markdownArea").innerHTML=converter.makeHtml(this.message.message)}),this.messsagesUpdated=(_this=this,function(messages){return _this.messages=messages,_this.messsagesHaveUpdated=!0,_this.update()}),this.messsageUpdated=function(_this){return function(message){return _this.message=message,_this.update()}}(this),this.sessionUpdated=function(_this){return function(session){return _this.session=session,_this.gridColumns[2].message_check=_this.gridColumns[1].message_check=_this.session.user.message_check,_this.update()}}(this),this.handleSelect=function(_this){return function(selected){return _this.selected=selected,opts.stores.trigger("message_sync_one",_this.selected[0].id)}}(this),this.handleOpen=function(_this){return function(){return opts.stores.trigger("session_sync"),opts.stores.trigger("message_load"),_this.closed=!1}}(this),this.handleClose=function(_this){return function(){return opts.stores.trigger("message_count_changed",0),_this.session.user.message_check=new Date,_this.closed=!0}}(this)}),riot.tag2("datetime-cell",'<div if="{opts.data[opts.cell.ridx].updated_at &gt; opts.cell.col.message_check}"><strong> <dateformat format="dd/MM/yyyy hh:mm" date="{opts.value}"> </dateformat></strong></div> <div if="{opts.data[opts.cell.ridx].updated_at &lt;= opts.cell.col.message_check}"> <dateformat format="dd/MM/yyyy hh:mm" date="{opts.value}"> </dateformat> </div>',"","",function(opts){}),riot.tag2("subject-cell",'<div if="{opts.data[opts.cell.ridx].updated_at &gt; opts.cell.col.message_check}"><strong>{opts.value}</strong></div> <div if="{opts.data[opts.cell.ridx].updated_at &lt;= opts.cell.col.message_check}">{opts.value}</div>',"","",function(opts){}),riot.tag2("messagetype-cell","<div class=\"text-center\"><span class=\"fa {opts.value=='alert'?'fa-warning danger':'fa-info'}\"> </span></div>","","",function(opts){})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;/*! showdown v 1.9.1 - 02-11-2019 */
(function(){function getDefaultOpts(simple){"use strict";var defaultOptions={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===simple)return JSON.parse(JSON.stringify(defaultOptions));var ret={};for(var opt in defaultOptions)defaultOptions.hasOwnProperty(opt)&&(ret[opt]=defaultOptions[opt].defaultValue);return ret}var showdown={},parsers={},extensions={},globalOptions=getDefaultOpts(!0),setFlavor="vanilla",flavor={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:getDefaultOpts(!0),allOn:function(){"use strict";var options=getDefaultOpts(!0),ret={};for(var opt in options)options.hasOwnProperty(opt)&&(ret[opt]=!0);return ret}()};function validate(extension,name){"use strict";var errMsg=name?"Error in "+name+" extension->":"Error in unnamed extension",ret={valid:!0,error:""};showdown.helper.isArray(extension)||(extension=[extension]);for(var i=0;i<extension.length;++i){var baseMsg=errMsg+" sub-extension "+i+": ",ext=extension[i];if("object"!=typeof ext)return ret.valid=!1,ret.error=baseMsg+"must be an object, but "+typeof ext+" given",ret;if(!showdown.helper.isString(ext.type))return ret.valid=!1,ret.error=baseMsg+'property "type" must be a string, but '+typeof ext.type+" given",ret;var type=ext.type=ext.type.toLowerCase();if("language"===type&&(type=ext.type="lang"),"html"===type&&(type=ext.type="output"),"lang"!==type&&"output"!==type&&"listener"!==type)return ret.valid=!1,ret.error=baseMsg+"type "+type+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',ret;if("listener"===type){if(showdown.helper.isUndefined(ext.listeners))return ret.valid=!1,ret.error=baseMsg+'. Extensions of type "listener" must have a property called "listeners"',ret}else if(showdown.helper.isUndefined(ext.filter)&&showdown.helper.isUndefined(ext.regex))return ret.valid=!1,ret.error=baseMsg+type+' extensions must define either a "regex" property or a "filter" method',ret;if(ext.listeners){if("object"!=typeof ext.listeners)return ret.valid=!1,ret.error=baseMsg+'"listeners" property must be an object but '+typeof ext.listeners+" given",ret;for(var ln in ext.listeners)if(ext.listeners.hasOwnProperty(ln)&&"function"!=typeof ext.listeners[ln])return ret.valid=!1,ret.error=baseMsg+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+ln+" must be a function but "+typeof ext.listeners[ln]+" given",ret}if(ext.filter){if("function"!=typeof ext.filter)return ret.valid=!1,ret.error=baseMsg+'"filter" must be a function, but '+typeof ext.filter+" given",ret}else if(ext.regex){if(showdown.helper.isString(ext.regex)&&(ext.regex=new RegExp(ext.regex,"g")),!(ext.regex instanceof RegExp))return ret.valid=!1,ret.error=baseMsg+'"regex" property must either be a string or a RegExp object, but '+typeof ext.regex+" given",ret;if(showdown.helper.isUndefined(ext.replace))return ret.valid=!1,ret.error=baseMsg+'"regex" extensions must implement a replace string or function',ret}}return ret}function escapeCharactersCallback(wholeMatch,m1){"use strict";return"E"+m1.charCodeAt(0)+"E"}showdown.helper={},showdown.extensions={},showdown.setOption=function(key,value){"use strict";return globalOptions[key]=value,this},showdown.getOption=function(key){"use strict";return globalOptions[key]},showdown.getOptions=function(){"use strict";return globalOptions},showdown.resetOptions=function(){"use strict";globalOptions=getDefaultOpts(!0)},showdown.setFlavor=function(name){"use strict";if(!flavor.hasOwnProperty(name))throw Error(name+" flavor was not found");showdown.resetOptions();var preset=flavor[name];for(var option in setFlavor=name,preset)preset.hasOwnProperty(option)&&(globalOptions[option]=preset[option])},showdown.getFlavor=function(){"use strict";return setFlavor},showdown.getFlavorOptions=function(name){"use strict";if(flavor.hasOwnProperty(name))return flavor[name]},showdown.getDefaultOptions=function(simple){"use strict";return getDefaultOpts(simple)},showdown.subParser=function(name,func){"use strict";if(showdown.helper.isString(name)){if(void 0===func){if(parsers.hasOwnProperty(name))return parsers[name];throw Error("SubParser named "+name+" not registered!")}parsers[name]=func}},showdown.extension=function(name,ext){"use strict";if(!showdown.helper.isString(name))throw Error("Extension 'name' must be a string");if(name=showdown.helper.stdExtName(name),showdown.helper.isUndefined(ext)){if(!extensions.hasOwnProperty(name))throw Error("Extension named "+name+" is not registered!");return extensions[name]}"function"==typeof ext&&(ext=ext()),showdown.helper.isArray(ext)||(ext=[ext]);var validExtension=validate(ext,name);if(!validExtension.valid)throw Error(validExtension.error);extensions[name]=ext},showdown.getAllExtensions=function(){"use strict";return extensions},showdown.removeExtension=function(name){"use strict";delete extensions[name]},showdown.resetExtensions=function(){"use strict";extensions={}},showdown.validateExtension=function(ext){"use strict";var validateExtension=validate(ext,null);return!!validateExtension.valid||(console.warn(validateExtension.error),!1)},showdown.hasOwnProperty("helper")||(showdown.helper={}),showdown.helper.isString=function(a){"use strict";return"string"==typeof a||a instanceof String},showdown.helper.isFunction=function(a){"use strict";return a&&"[object Function]"==={}.toString.call(a)},showdown.helper.isArray=function(a){"use strict";return Array.isArray(a)},showdown.helper.isUndefined=function(value){"use strict";return void 0===value},showdown.helper.forEach=function(obj,callback){"use strict";if(showdown.helper.isUndefined(obj))throw new Error("obj param is required");if(showdown.helper.isUndefined(callback))throw new Error("callback param is required");if(!showdown.helper.isFunction(callback))throw new Error("callback param must be a function/closure");if("function"==typeof obj.forEach)obj.forEach(callback);else if(showdown.helper.isArray(obj))for(var i=0;i<obj.length;i++)callback(obj[i],i,obj);else{if("object"!=typeof obj)throw new Error("obj does not seem to be an array or an iterable object");for(var prop in obj)obj.hasOwnProperty(prop)&&callback(obj[prop],prop,obj)}},showdown.helper.stdExtName=function(s){"use strict";return s.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},showdown.helper.escapeCharactersCallback=escapeCharactersCallback,showdown.helper.escapeCharacters=function(text,charsToEscape,afterBackslash){"use strict";var regexString="(["+charsToEscape.replace(/([\[\]\\])/g,"\\$1")+"])";afterBackslash&&(regexString="\\\\"+regexString);var regex=new RegExp(regexString,"g");return text=text.replace(regex,escapeCharactersCallback)},showdown.helper.unescapeHTMLEntities=function(txt){"use strict";return txt.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};function rgxFindMatchPos(str,left,right,flags){"use strict";var t,s,m,start,end,f=flags||"",g=-1<f.indexOf("g"),x=new RegExp(left+"|"+right,"g"+f.replace(/g/g,"")),l=new RegExp(left,f.replace(/g/g,"")),pos=[];do{for(t=0;m=x.exec(str);)if(l.test(m[0]))t++||(start=(s=x.lastIndex)-m[0].length);else if(t&&!--t){end=m.index+m[0].length;var obj={left:{start:start,end:s},match:{start:s,end:m.index},right:{start:m.index,end:end},wholeMatch:{start:start,end:end}};if(pos.push(obj),!g)return pos}}while(t&&(x.lastIndex=s));return pos}showdown.helper.matchRecursiveRegExp=function(str,left,right,flags){"use strict";for(var matchPos=rgxFindMatchPos(str,left,right,flags),results=[],i=0;i<matchPos.length;++i)results.push([str.slice(matchPos[i].wholeMatch.start,matchPos[i].wholeMatch.end),str.slice(matchPos[i].match.start,matchPos[i].match.end),str.slice(matchPos[i].left.start,matchPos[i].left.end),str.slice(matchPos[i].right.start,matchPos[i].right.end)]);return results},showdown.helper.replaceRecursiveRegExp=function(str,replacement,left,right,flags){"use strict";if(!showdown.helper.isFunction(replacement)){var repStr=replacement;replacement=function(){return repStr}}var matchPos=rgxFindMatchPos(str,left,right,flags),finalStr=str,lng=matchPos.length;if(0<lng){var bits=[];0!==matchPos[0].wholeMatch.start&&bits.push(str.slice(0,matchPos[0].wholeMatch.start));for(var i=0;i<lng;++i)bits.push(replacement(str.slice(matchPos[i].wholeMatch.start,matchPos[i].wholeMatch.end),str.slice(matchPos[i].match.start,matchPos[i].match.end),str.slice(matchPos[i].left.start,matchPos[i].left.end),str.slice(matchPos[i].right.start,matchPos[i].right.end))),i<lng-1&&bits.push(str.slice(matchPos[i].wholeMatch.end,matchPos[i+1].wholeMatch.start));matchPos[lng-1].wholeMatch.end<str.length&&bits.push(str.slice(matchPos[lng-1].wholeMatch.end)),finalStr=bits.join("")}return finalStr},showdown.helper.regexIndexOf=function(str,regex,fromIndex){"use strict";if(!showdown.helper.isString(str))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(regex instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var indexOf=str.substring(fromIndex||0).search(regex);return 0<=indexOf?indexOf+(fromIndex||0):indexOf},showdown.helper.splitAtIndex=function(str,index){"use strict";if(!showdown.helper.isString(str))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[str.substring(0,index),str.substring(index)]},showdown.helper.encodeEmailAddress=function(mail){"use strict";var encode=[function(ch){return"&#"+ch.charCodeAt(0)+";"},function(ch){return"&#x"+ch.charCodeAt(0).toString(16)+";"},function(ch){return ch}];return mail=mail.replace(/./g,function(ch){if("@"===ch)ch=encode[Math.floor(2*Math.random())](ch);else{var r=Math.random();ch=.9<r?encode[2](ch):.45<r?encode[1](ch):encode[0](ch)}return ch})},showdown.helper.padEnd=function(str,targetLength,padString){"use strict";return targetLength>>=0,padString=String(padString||" "),str.length>targetLength?String(str):((targetLength-=str.length)>padString.length&&(padString+=padString.repeat(targetLength/padString.length)),String(str)+padString.slice(0,targetLength))},"undefined"==typeof console&&(console={warn:function(msg){"use strict";alert(msg)},log:function(msg){"use strict";alert(msg)},error:function(msg){"use strict";throw msg}}),showdown.helper.regexes={asteriskDashAndColon:/([*_:~])/g},showdown.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},showdown.Converter=function(converterOptions){"use strict";var options={},langExtensions=[],outputModifiers=[],listeners={},setConvFlavor=setFlavor,metadata={parsed:{},raw:"",format:""};function _parseExtension(ext,name){if(name=name||null,showdown.helper.isString(ext)){if(name=ext=showdown.helper.stdExtName(ext),showdown.extensions[ext])return console.warn("DEPRECATION WARNING: "+ext+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(ext,name){"function"==typeof ext&&(ext=ext(new showdown.Converter));showdown.helper.isArray(ext)||(ext=[ext]);var valid=validate(ext,name);if(!valid.valid)throw Error(valid.error);for(var i=0;i<ext.length;++i)switch(ext[i].type){case"lang":langExtensions.push(ext[i]);break;case"output":outputModifiers.push(ext[i]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(showdown.extensions[ext],ext);if(showdown.helper.isUndefined(extensions[ext]))throw Error('Extension "'+ext+'" could not be loaded. It was either not found or is not a valid extension.');ext=extensions[ext]}"function"==typeof ext&&(ext=ext()),showdown.helper.isArray(ext)||(ext=[ext]);var validExt=validate(ext,name);if(!validExt.valid)throw Error(validExt.error);for(var i=0;i<ext.length;++i){switch(ext[i].type){case"lang":langExtensions.push(ext[i]);break;case"output":outputModifiers.push(ext[i])}if(ext[i].hasOwnProperty("listeners"))for(var ln in ext[i].listeners)ext[i].listeners.hasOwnProperty(ln)&&listen(ln,ext[i].listeners[ln])}}function listen(name,callback){if(!showdown.helper.isString(name))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof name+" given");if("function"!=typeof callback)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof callback+" given");listeners.hasOwnProperty(name)||(listeners[name]=[]),listeners[name].push(callback)}!function(){for(var gOpt in converterOptions=converterOptions||{},globalOptions)globalOptions.hasOwnProperty(gOpt)&&(options[gOpt]=globalOptions[gOpt]);{if("object"!=typeof converterOptions)throw Error("Converter expects the passed parameter to be an object, but "+typeof converterOptions+" was passed instead.");for(var opt in converterOptions)converterOptions.hasOwnProperty(opt)&&(options[opt]=converterOptions[opt])}options.extensions&&showdown.helper.forEach(options.extensions,_parseExtension)}(),this._dispatch=function(evtName,text,options,globals){if(listeners.hasOwnProperty(evtName))for(var ei=0;ei<listeners[evtName].length;++ei){var nText=listeners[evtName][ei](evtName,text,this,options,globals);nText&&void 0!==nText&&(text=nText)}return text},this.listen=function(name,callback){return listen(name,callback),this},this.makeHtml=function(text){if(!text)return text;var globals={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:langExtensions,outputModifiers:outputModifiers,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return text=(text=(text=(text=(text=text.replace(//g,"T")).replace(/\$/g,"D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),options.smartIndentationFix&&(text=function(text){var rsp=text.match(/^\s*/)[0].length,rgx=new RegExp("^\\s{0,"+rsp+"}","gm");return text.replace(rgx,"")}(text)),text="\n\n"+text+"\n\n",text=(text=showdown.subParser("detab")(text,options,globals)).replace(/^[ \t]+$/gm,""),showdown.helper.forEach(langExtensions,function(ext){text=showdown.subParser("runExtension")(ext,text,options,globals)}),text=showdown.subParser("metadata")(text,options,globals),text=showdown.subParser("hashPreCodeTags")(text,options,globals),text=showdown.subParser("githubCodeBlocks")(text,options,globals),text=showdown.subParser("hashHTMLBlocks")(text,options,globals),text=showdown.subParser("hashCodeTags")(text,options,globals),text=showdown.subParser("stripLinkDefinitions")(text,options,globals),text=showdown.subParser("blockGamut")(text,options,globals),text=showdown.subParser("unhashHTMLSpans")(text,options,globals),text=(text=(text=showdown.subParser("unescapeSpecialChars")(text,options,globals)).replace(/D/g,"$$")).replace(/T/g,""),text=showdown.subParser("completeHTMLDocument")(text,options,globals),showdown.helper.forEach(outputModifiers,function(ext){text=showdown.subParser("runExtension")(ext,text,options,globals)}),metadata=globals.metadata,text},this.makeMarkdown=this.makeMd=function(src,HTMLParser){if(src=(src=(src=src.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">NBSP;<"),!HTMLParser){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");HTMLParser=window.document}var doc=HTMLParser.createElement("div");doc.innerHTML=src;var globals={preList:function(doc){for(var pres=doc.querySelectorAll("pre"),presPH=[],i=0;i<pres.length;++i)if(1===pres[i].childElementCount&&"code"===pres[i].firstChild.tagName.toLowerCase()){var content=pres[i].firstChild.innerHTML.trim(),language=pres[i].firstChild.getAttribute("data-language")||"";if(""===language)for(var classes=pres[i].firstChild.className.split(" "),c=0;c<classes.length;++c){var matches=classes[c].match(/^language-(.+)$/);if(null!==matches){language=matches[1];break}}content=showdown.helper.unescapeHTMLEntities(content),presPH.push(content),pres[i].outerHTML='<precode language="'+language+'" precodenum="'+i.toString()+'"></precode>'}else presPH.push(pres[i].innerHTML),pres[i].innerHTML="",pres[i].setAttribute("prenum",i.toString());return presPH}(doc)};!function clean(node){for(var n=0;n<node.childNodes.length;++n){var child=node.childNodes[n];3===child.nodeType?/\S/.test(child.nodeValue)?(child.nodeValue=child.nodeValue.split("\n").join(" "),child.nodeValue=child.nodeValue.replace(/(\s)+/g,"$1")):(node.removeChild(child),--n):1===child.nodeType&&clean(child)}}(doc);for(var nodes=doc.childNodes,mdDoc="",i=0;i<nodes.length;i++)mdDoc+=showdown.subParser("makeMarkdown.node")(nodes[i],globals);return mdDoc},this.setOption=function(key,value){options[key]=value},this.getOption=function(key){return options[key]},this.getOptions=function(){return options},this.addExtension=function(extension,name){_parseExtension(extension,name=name||null)},this.useExtension=function(extensionName){_parseExtension(extensionName)},this.setFlavor=function(name){if(!flavor.hasOwnProperty(name))throw Error(name+" flavor was not found");var preset=flavor[name];for(var option in setConvFlavor=name,preset)preset.hasOwnProperty(option)&&(options[option]=preset[option])},this.getFlavor=function(){return setConvFlavor},this.removeExtension=function(extension){showdown.helper.isArray(extension)||(extension=[extension]);for(var a=0;a<extension.length;++a){for(var ext=extension[a],i=0;i<langExtensions.length;++i)langExtensions[i]===ext&&langExtensions[i].splice(i,1);for(;0<outputModifiers.length;++i)outputModifiers[0]===ext&&outputModifiers[0].splice(i,1)}},this.getAllExtensions=function(){return{language:langExtensions,output:outputModifiers}},this.getMetadata=function(raw){return raw?metadata.raw:metadata.parsed},this.getMetadataFormat=function(){return metadata.format},this._setMetadataPair=function(key,value){metadata.parsed[key]=value},this._setMetadataFormat=function(format){metadata.format=format},this._setMetadataRaw=function(raw){metadata.raw=raw}},showdown.subParser("anchors",function(text,options,globals){"use strict";function writeAnchorTag(wholeMatch,linkText,linkId,url,m5,m6,title){if(showdown.helper.isUndefined(title)&&(title=""),linkId=linkId.toLowerCase(),-1<wholeMatch.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))url="";else if(!url){if(url="#"+(linkId=linkId||linkText.toLowerCase().replace(/ ?\n/g," ")),showdown.helper.isUndefined(globals.gUrls[linkId]))return wholeMatch;url=globals.gUrls[linkId],showdown.helper.isUndefined(globals.gTitles[linkId])||(title=globals.gTitles[linkId])}var result='<a href="'+(url=url.replace(showdown.helper.regexes.asteriskDashAndColon,showdown.helper.escapeCharactersCallback))+'"';return""!==title&&null!==title&&(result+=' title="'+(title=(title=title.replace(/"/g,"&quot;")).replace(showdown.helper.regexes.asteriskDashAndColon,showdown.helper.escapeCharactersCallback))+'"'),options.openLinksInNewWindow&&!/^#/.test(url)&&(result+=' rel="noopener noreferrer" target="E95Eblank"'),result+=">"+linkText+"</a>"}return text=(text=(text=(text=(text=globals.converter._dispatch("anchors.before",text,options,globals)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,writeAnchorTag)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,writeAnchorTag)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,writeAnchorTag)).replace(/\[([^\[\]]+)]()()()()()/g,writeAnchorTag),options.ghMentions&&(text=text.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(wm,st,escape,mentions,username){if("\\"===escape)return st+mentions;if(!showdown.helper.isString(options.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var lnk=options.ghMentionsLink.replace(/\{u}/g,username),target="";return options.openLinksInNewWindow&&(target=' rel="noopener noreferrer" target="E95Eblank"'),st+'<a href="'+lnk+'"'+target+">"+mentions+"</a>"})),text=globals.converter._dispatch("anchors.after",text,options,globals)});function replaceLink(options){"use strict";return function(wm,leadingMagicChars,link,m2,m3,trailingPunctuation,trailingMagicChars){var lnkTxt=link=link.replace(showdown.helper.regexes.asteriskDashAndColon,showdown.helper.escapeCharactersCallback),append="",target="",lmc=leadingMagicChars||"",tmc=trailingMagicChars||"";return/^www\./i.test(link)&&(link=link.replace(/^www\./i,"http://www.")),options.excludeTrailingPunctuationFromURLs&&trailingPunctuation&&(append=trailingPunctuation),options.openLinksInNewWindow&&(target=' rel="noopener noreferrer" target="E95Eblank"'),lmc+'<a href="'+link+'"'+target+">"+lnkTxt+"</a>"+append+tmc}}function replaceMail(options,globals){"use strict";return function(wholeMatch,b,mail){var href="mailto:";return b=b||"",mail=showdown.subParser("unescapeSpecialChars")(mail,options,globals),options.encodeEmails?(href=showdown.helper.encodeEmailAddress(href+mail),mail=showdown.helper.encodeEmailAddress(mail)):href+=mail,b+'<a href="'+href+'">'+mail+"</a>"}}var simpleURLRegex=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,simpleURLRegex2=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,delimUrlRegex=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,simpleMailRegex=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,delimMailRegex=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;showdown.subParser("autoLinks",function(text,options,globals){"use strict";return text=(text=(text=globals.converter._dispatch("autoLinks.before",text,options,globals)).replace(delimUrlRegex,replaceLink(options))).replace(delimMailRegex,replaceMail(options,globals)),text=globals.converter._dispatch("autoLinks.after",text,options,globals)}),showdown.subParser("simplifiedAutoLinks",function(text,options,globals){"use strict";return options.simplifiedAutoLink?(text=globals.converter._dispatch("simplifiedAutoLinks.before",text,options,globals),text=(text=options.excludeTrailingPunctuationFromURLs?text.replace(simpleURLRegex2,replaceLink(options)):text.replace(simpleURLRegex,replaceLink(options))).replace(simpleMailRegex,replaceMail(options,globals)),text=globals.converter._dispatch("simplifiedAutoLinks.after",text,options,globals)):text}),showdown.subParser("blockGamut",function(text,options,globals){"use strict";return text=globals.converter._dispatch("blockGamut.before",text,options,globals),text=showdown.subParser("blockQuotes")(text,options,globals),text=showdown.subParser("headers")(text,options,globals),text=showdown.subParser("horizontalRule")(text,options,globals),text=showdown.subParser("lists")(text,options,globals),text=showdown.subParser("codeBlocks")(text,options,globals),text=showdown.subParser("tables")(text,options,globals),text=showdown.subParser("hashHTMLBlocks")(text,options,globals),text=showdown.subParser("paragraphs")(text,options,globals),text=globals.converter._dispatch("blockGamut.after",text,options,globals)}),showdown.subParser("blockQuotes",function(text,options,globals){"use strict";text=globals.converter._dispatch("blockQuotes.before",text,options,globals),text+="\n\n";var rgx=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return options.splitAdjacentBlockquotes&&(rgx=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),text=text.replace(rgx,function(bq){return bq=(bq=(bq=bq.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/0/g,"")).replace(/^[ \t]+$/gm,""),bq=showdown.subParser("githubCodeBlocks")(bq,options,globals),bq=(bq=(bq=showdown.subParser("blockGamut")(bq,options,globals)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(wholeMatch,m1){var pre=m1;return pre=(pre=pre.replace(/^  /gm,"0")).replace(/0/g,"")}),showdown.subParser("hashBlock")("<blockquote>\n"+bq+"\n</blockquote>",options,globals)}),text=globals.converter._dispatch("blockQuotes.after",text,options,globals)}),showdown.subParser("codeBlocks",function(text,options,globals){"use strict";text=globals.converter._dispatch("codeBlocks.before",text,options,globals);return text=(text=(text+="0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g,function(wholeMatch,m1,m2){var codeblock=m1,nextChar=m2,end="\n";return codeblock=showdown.subParser("outdent")(codeblock,options,globals),codeblock=showdown.subParser("encodeCode")(codeblock,options,globals),codeblock=(codeblock=(codeblock=showdown.subParser("detab")(codeblock,options,globals)).replace(/^\n+/g,"")).replace(/\n+$/g,""),options.omitExtraWLInCodeBlocks&&(end=""),codeblock="<pre><code>"+codeblock+end+"</code></pre>",showdown.subParser("hashBlock")(codeblock,options,globals)+nextChar})).replace(/0/,""),text=globals.converter._dispatch("codeBlocks.after",text,options,globals)}),showdown.subParser("codeSpans",function(text,options,globals){"use strict";return void 0===(text=globals.converter._dispatch("codeSpans.before",text,options,globals))&&(text=""),text=text.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(wholeMatch,m1,m2,m3){var c=m3;return c=(c=c.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),c=m1+"<code>"+(c=showdown.subParser("encodeCode")(c,options,globals))+"</code>",c=showdown.subParser("hashHTMLSpans")(c,options,globals)}),text=globals.converter._dispatch("codeSpans.after",text,options,globals)}),showdown.subParser("completeHTMLDocument",function(text,options,globals){"use strict";if(!options.completeHTMLDocument)return text;text=globals.converter._dispatch("completeHTMLDocument.before",text,options,globals);var doctype="html",doctypeParsed="<!DOCTYPE HTML>\n",title="",charset='<meta charset="utf-8">\n',lang="",metadata="";for(var meta in void 0!==globals.metadata.parsed.doctype&&(doctypeParsed="<!DOCTYPE "+globals.metadata.parsed.doctype+">\n","html"!==(doctype=globals.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==doctype||(charset='<meta charset="utf-8">')),globals.metadata.parsed)if(globals.metadata.parsed.hasOwnProperty(meta))switch(meta.toLowerCase()){case"doctype":break;case"title":title="<title>"+globals.metadata.parsed.title+"</title>\n";break;case"charset":charset="html"===doctype||"html5"===doctype?'<meta charset="'+globals.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+globals.metadata.parsed.charset+'">\n';break;case"language":case"lang":lang=' lang="'+globals.metadata.parsed[meta]+'"',metadata+='<meta name="'+meta+'" content="'+globals.metadata.parsed[meta]+'">\n';break;default:metadata+='<meta name="'+meta+'" content="'+globals.metadata.parsed[meta]+'">\n'}return text=doctypeParsed+"<html"+lang+">\n<head>\n"+title+charset+metadata+"</head>\n<body>\n"+text.trim()+"\n</body>\n</html>",text=globals.converter._dispatch("completeHTMLDocument.after",text,options,globals)}),showdown.subParser("detab",function(text,options,globals){"use strict";return text=(text=(text=(text=(text=(text=globals.converter._dispatch("detab.before",text,options,globals)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"AB")).replace(/B(.+?)A/g,function(wholeMatch,m1){for(var leadingText=m1,numSpaces=4-leadingText.length%4,i=0;i<numSpaces;i++)leadingText+=" ";return leadingText})).replace(/A/g,"    ")).replace(/B/g,""),text=globals.converter._dispatch("detab.after",text,options,globals)}),showdown.subParser("ellipsis",function(text,options,globals){"use strict";return text=(text=globals.converter._dispatch("ellipsis.before",text,options,globals)).replace(/\.\.\./g,""),text=globals.converter._dispatch("ellipsis.after",text,options,globals)}),showdown.subParser("emoji",function(text,options,globals){"use strict";if(!options.emoji)return text;return text=(text=globals.converter._dispatch("emoji.before",text,options,globals)).replace(/:([\S]+?):/g,function(wm,emojiCode){return showdown.helper.emojis.hasOwnProperty(emojiCode)?showdown.helper.emojis[emojiCode]:wm}),text=globals.converter._dispatch("emoji.after",text,options,globals)}),showdown.subParser("encodeAmpsAndAngles",function(text,options,globals){"use strict";return text=(text=(text=(text=(text=globals.converter._dispatch("encodeAmpsAndAngles.before",text,options,globals)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),text=globals.converter._dispatch("encodeAmpsAndAngles.after",text,options,globals)}),showdown.subParser("encodeBackslashEscapes",function(text,options,globals){"use strict";return text=(text=(text=globals.converter._dispatch("encodeBackslashEscapes.before",text,options,globals)).replace(/\\(\\)/g,showdown.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,showdown.helper.escapeCharactersCallback),text=globals.converter._dispatch("encodeBackslashEscapes.after",text,options,globals)}),showdown.subParser("encodeCode",function(text,options,globals){"use strict";return text=(text=globals.converter._dispatch("encodeCode.before",text,options,globals)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,showdown.helper.escapeCharactersCallback),text=globals.converter._dispatch("encodeCode.after",text,options,globals)}),showdown.subParser("escapeSpecialCharsWithinTagAttributes",function(text,options,globals){"use strict";return text=(text=(text=globals.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",text,options,globals)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(wholeMatch){return wholeMatch.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,showdown.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(wholeMatch){return wholeMatch.replace(/([\\`*_~=|])/g,showdown.helper.escapeCharactersCallback)}),text=globals.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",text,options,globals)}),showdown.subParser("githubCodeBlocks",function(text,options,globals){"use strict";return options.ghCodeBlocks?(text=globals.converter._dispatch("githubCodeBlocks.before",text,options,globals),text=(text=(text+="0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(wholeMatch,delim,language,codeblock){var end=options.omitExtraWLInCodeBlocks?"":"\n";return codeblock=showdown.subParser("encodeCode")(codeblock,options,globals),codeblock="<pre><code"+(language?' class="'+language+" language-"+language+'"':"")+">"+(codeblock=(codeblock=(codeblock=showdown.subParser("detab")(codeblock,options,globals)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+end+"</code></pre>",codeblock=showdown.subParser("hashBlock")(codeblock,options,globals),"\n\nG"+(globals.ghCodeBlocks.push({text:wholeMatch,codeblock:codeblock})-1)+"G\n\n"})).replace(/0/,""),globals.converter._dispatch("githubCodeBlocks.after",text,options,globals)):text}),showdown.subParser("hashBlock",function(text,options,globals){"use strict";return text=(text=globals.converter._dispatch("hashBlock.before",text,options,globals)).replace(/(^\n+|\n+$)/g,""),text="\n\nK"+(globals.gHtmlBlocks.push(text)-1)+"K\n\n",text=globals.converter._dispatch("hashBlock.after",text,options,globals)}),showdown.subParser("hashCodeTags",function(text,options,globals){"use strict";text=globals.converter._dispatch("hashCodeTags.before",text,options,globals);return text=showdown.helper.replaceRecursiveRegExp(text,function(wholeMatch,match,left,right){var codeblock=left+showdown.subParser("encodeCode")(match,options,globals)+right;return"C"+(globals.gHtmlSpans.push(codeblock)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),text=globals.converter._dispatch("hashCodeTags.after",text,options,globals)}),showdown.subParser("hashElement",function(text,options,globals){"use strict";return function(wholeMatch,m1){var blockText=m1;return blockText=(blockText=(blockText=blockText.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),blockText="\n\nK"+(globals.gHtmlBlocks.push(blockText)-1)+"K\n\n"}}),showdown.subParser("hashHTMLBlocks",function(text,options,globals){"use strict";text=globals.converter._dispatch("hashHTMLBlocks.before",text,options,globals);function repFunc(wholeMatch,match,left,right){var txt=wholeMatch;return-1!==left.search(/\bmarkdown\b/)&&(txt=left+globals.converter.makeHtml(match)+right),"\n\nK"+(globals.gHtmlBlocks.push(txt)-1)+"K\n\n"}var blockTags=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"];options.backslashEscapesHTMLTags&&(text=text.replace(/\\<(\/?[^>]+?)>/g,function(wm,inside){return"&lt;"+inside+"&gt;"}));for(var i=0;i<blockTags.length;++i)for(var opTagPos,rgx1=new RegExp("^ {0,3}(<"+blockTags[i]+"\\b[^>]*>)","im"),patLeft="<"+blockTags[i]+"\\b[^>]*>",patRight="</"+blockTags[i]+">";-1!==(opTagPos=showdown.helper.regexIndexOf(text,rgx1));){var subTexts=showdown.helper.splitAtIndex(text,opTagPos),newSubText1=showdown.helper.replaceRecursiveRegExp(subTexts[1],repFunc,patLeft,patRight,"im");if(newSubText1===subTexts[1])break;text=subTexts[0].concat(newSubText1)}return text=text.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,showdown.subParser("hashElement")(text,options,globals)),text=(text=showdown.helper.replaceRecursiveRegExp(text,function(txt){return"\n\nK"+(globals.gHtmlBlocks.push(txt)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,showdown.subParser("hashElement")(text,options,globals)),text=globals.converter._dispatch("hashHTMLBlocks.after",text,options,globals)}),showdown.subParser("hashHTMLSpans",function(text,options,globals){"use strict";function hashHTMLSpan(html){return"C"+(globals.gHtmlSpans.push(html)-1)+"C"}return text=(text=(text=(text=(text=globals.converter._dispatch("hashHTMLSpans.before",text,options,globals)).replace(/<[^>]+?\/>/gi,function(wm){return hashHTMLSpan(wm)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(wm){return hashHTMLSpan(wm)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(wm){return hashHTMLSpan(wm)})).replace(/<[^>]+?>/gi,function(wm){return hashHTMLSpan(wm)}),text=globals.converter._dispatch("hashHTMLSpans.after",text,options,globals)}),showdown.subParser("unhashHTMLSpans",function(text,options,globals){"use strict";text=globals.converter._dispatch("unhashHTMLSpans.before",text,options,globals);for(var i=0;i<globals.gHtmlSpans.length;++i){for(var repText=globals.gHtmlSpans[i],limit=0;/C(\d+)C/.test(repText);){var num=RegExp.$1;if(repText=repText.replace("C"+num+"C",globals.gHtmlSpans[num]),10===limit){console.error("maximum nesting of 10 spans reached!!!");break}++limit}text=text.replace("C"+i+"C",repText)}return text=globals.converter._dispatch("unhashHTMLSpans.after",text,options,globals)}),showdown.subParser("hashPreCodeTags",function(text,options,globals){"use strict";text=globals.converter._dispatch("hashPreCodeTags.before",text,options,globals);return text=showdown.helper.replaceRecursiveRegExp(text,function(wholeMatch,match,left,right){var codeblock=left+showdown.subParser("encodeCode")(match,options,globals)+right;return"\n\nG"+(globals.ghCodeBlocks.push({text:wholeMatch,codeblock:codeblock})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),text=globals.converter._dispatch("hashPreCodeTags.after",text,options,globals)}),showdown.subParser("headers",function(text,options,globals){"use strict";text=globals.converter._dispatch("headers.before",text,options,globals);var headerLevelStart=isNaN(parseInt(options.headerLevelStart))?1:parseInt(options.headerLevelStart),setextRegexH1=options.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,setextRegexH2=options.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;text=(text=text.replace(setextRegexH1,function(wholeMatch,m1){var spanGamut=showdown.subParser("spanGamut")(m1,options,globals),hID=options.noHeaderId?"":' id="'+headerId(m1)+'"',hashBlock="<h"+headerLevelStart+hID+">"+spanGamut+"</h"+headerLevelStart+">";return showdown.subParser("hashBlock")(hashBlock,options,globals)})).replace(setextRegexH2,function(matchFound,m1){var spanGamut=showdown.subParser("spanGamut")(m1,options,globals),hID=options.noHeaderId?"":' id="'+headerId(m1)+'"',hLevel=headerLevelStart+1,hashBlock="<h"+hLevel+hID+">"+spanGamut+"</h"+hLevel+">";return showdown.subParser("hashBlock")(hashBlock,options,globals)});var atxStyle=options.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function headerId(m){var title,prefix;if(options.customizedHeaderId){var match=m.match(/\{([^{]+?)}\s*$/);match&&match[1]&&(m=match[1])}return title=m,prefix=showdown.helper.isString(options.prefixHeaderId)?options.prefixHeaderId:!0===options.prefixHeaderId?"section-":"",options.rawPrefixHeaderId||(title=prefix+title),title=options.ghCompatibleHeaderId?title.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():options.rawHeaderId?title.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():title.replace(/[^\w]/g,"").toLowerCase(),options.rawPrefixHeaderId&&(title=prefix+title),globals.hashLinkCounts[title]?title=title+"-"+globals.hashLinkCounts[title]++:globals.hashLinkCounts[title]=1,title}return text=text.replace(atxStyle,function(wholeMatch,m1,m2){var hText=m2;options.customizedHeaderId&&(hText=m2.replace(/\s?\{([^{]+?)}\s*$/,""));var span=showdown.subParser("spanGamut")(hText,options,globals),hID=options.noHeaderId?"":' id="'+headerId(m2)+'"',hLevel=headerLevelStart-1+m1.length,header="<h"+hLevel+hID+">"+span+"</h"+hLevel+">";return showdown.subParser("hashBlock")(header,options,globals)}),text=globals.converter._dispatch("headers.after",text,options,globals)}),showdown.subParser("horizontalRule",function(text,options,globals){"use strict";text=globals.converter._dispatch("horizontalRule.before",text,options,globals);var key=showdown.subParser("hashBlock")("<hr />",options,globals);return text=(text=(text=text.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,key)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,key)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,key),text=globals.converter._dispatch("horizontalRule.after",text,options,globals)}),showdown.subParser("images",function(text,options,globals){"use strict";function writeImageTag(wholeMatch,altText,linkId,url,width,height,m5,title){var gUrls=globals.gUrls,gTitles=globals.gTitles,gDims=globals.gDimensions;if(linkId=linkId.toLowerCase(),title=title||"",-1<wholeMatch.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))url="";else if(""===url||null===url){if(""!==linkId&&null!==linkId||(linkId=altText.toLowerCase().replace(/ ?\n/g," ")),url="#"+linkId,showdown.helper.isUndefined(gUrls[linkId]))return wholeMatch;url=gUrls[linkId],showdown.helper.isUndefined(gTitles[linkId])||(title=gTitles[linkId]),showdown.helper.isUndefined(gDims[linkId])||(width=gDims[linkId].width,height=gDims[linkId].height)}altText=altText.replace(/"/g,"&quot;").replace(showdown.helper.regexes.asteriskDashAndColon,showdown.helper.escapeCharactersCallback);var result='<img src="'+(url=url.replace(showdown.helper.regexes.asteriskDashAndColon,showdown.helper.escapeCharactersCallback))+'" alt="'+altText+'"';return title&&showdown.helper.isString(title)&&(result+=' title="'+(title=title.replace(/"/g,"&quot;").replace(showdown.helper.regexes.asteriskDashAndColon,showdown.helper.escapeCharactersCallback))+'"'),width&&height&&(result+=' width="'+(width="*"===width?"auto":width)+'"',result+=' height="'+(height="*"===height?"auto":height)+'"'),result+=" />"}return text=(text=(text=(text=(text=(text=globals.converter._dispatch("images.before",text,options,globals)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,writeImageTag)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(wholeMatch,altText,linkId,url,width,height,m5,title){return writeImageTag(wholeMatch,altText,linkId,url=url.replace(/\s/g,""),width,height,m5,title)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,writeImageTag)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,writeImageTag)).replace(/!\[([^\[\]]+)]()()()()()/g,writeImageTag),text=globals.converter._dispatch("images.after",text,options,globals)}),showdown.subParser("italicsAndBold",function(text,options,globals){"use strict";function parseInside(txt,left,right){return left+txt+right}return text=globals.converter._dispatch("italicsAndBold.before",text,options,globals),text=options.literalMidWordUnderscores?(text=(text=text.replace(/\b___(\S[\s\S]*?)___\b/g,function(wm,txt){return parseInside(txt,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(wm,txt){return parseInside(txt,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(wm,txt){return parseInside(txt,"<em>","</em>")}):(text=(text=text.replace(/___(\S[\s\S]*?)___/g,function(wm,m){return/\S$/.test(m)?parseInside(m,"<strong><em>","</em></strong>"):wm})).replace(/__(\S[\s\S]*?)__/g,function(wm,m){return/\S$/.test(m)?parseInside(m,"<strong>","</strong>"):wm})).replace(/_([^\s_][\s\S]*?)_/g,function(wm,m){return/\S$/.test(m)?parseInside(m,"<em>","</em>"):wm}),text=options.literalMidWordAsterisks?(text=(text=text.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(wm,lead,txt){return parseInside(txt,lead+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(wm,lead,txt){return parseInside(txt,lead+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(wm,lead,txt){return parseInside(txt,lead+"<em>","</em>")}):(text=(text=text.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(wm,m){return/\S$/.test(m)?parseInside(m,"<strong><em>","</em></strong>"):wm})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(wm,m){return/\S$/.test(m)?parseInside(m,"<strong>","</strong>"):wm})).replace(/\*([^\s*][\s\S]*?)\*/g,function(wm,m){return/\S$/.test(m)?parseInside(m,"<em>","</em>"):wm}),text=globals.converter._dispatch("italicsAndBold.after",text,options,globals)}),showdown.subParser("lists",function(text,options,globals){"use strict";function processListItems(listStr,trimTrailing){globals.gListLevel++,listStr=listStr.replace(/\n{2,}$/,"\n");var rgx=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,isParagraphed=/\n[ \t]*\n(?!0)/.test(listStr+="0");return options.disableForced4SpacesIndentedSublists&&(rgx=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),listStr=(listStr=listStr.replace(rgx,function(wholeMatch,m1,m2,m3,m4,taskbtn,checked){checked=checked&&""!==checked.trim();var item=showdown.subParser("outdent")(m4,options,globals),bulletStyle="";return taskbtn&&options.tasklists&&(bulletStyle=' class="task-list-item" style="list-style-type: none;"',item=item.replace(/^[ \t]*\[(x|X| )?]/m,function(){var otp='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return checked&&(otp+=" checked"),otp+=">"})),item=item.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(wm2){return"A"+wm2}),item="<li"+bulletStyle+">"+(item=(item=m1||-1<item.search(/\n{2,}/)?(item=showdown.subParser("githubCodeBlocks")(item,options,globals),showdown.subParser("blockGamut")(item,options,globals)):(item=(item=showdown.subParser("lists")(item,options,globals)).replace(/\n$/,""),item=(item=showdown.subParser("hashHTMLBlocks")(item,options,globals)).replace(/\n\n+/g,"\n\n"),isParagraphed?showdown.subParser("paragraphs")(item,options,globals):showdown.subParser("spanGamut")(item,options,globals))).replace("A",""))+"</li>\n"})).replace(/0/g,""),globals.gListLevel--,trimTrailing&&(listStr=listStr.replace(/\s+$/,"")),listStr}function styleStartNumber(list,listType){if("ol"===listType){var res=list.match(/^ *(\d+)\./);if(res&&"1"!==res[1])return' start="'+res[1]+'"'}return""}function parseConsecutiveLists(list,listType,trimTrailing){var olRgx=options.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,ulRgx=options.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,counterRxg="ul"===listType?olRgx:ulRgx,result="";if(-1!==list.search(counterRxg))!function parseCL(txt){var pos=txt.search(counterRxg),style=styleStartNumber(list,listType);-1!==pos?(result+="\n\n<"+listType+style+">\n"+processListItems(txt.slice(0,pos),!!trimTrailing)+"</"+listType+">\n",counterRxg="ul"===(listType="ul"===listType?"ol":"ul")?olRgx:ulRgx,parseCL(txt.slice(pos))):result+="\n\n<"+listType+style+">\n"+processListItems(txt,!!trimTrailing)+"</"+listType+">\n"}(list);else{var style=styleStartNumber(list,listType);result="\n\n<"+listType+style+">\n"+processListItems(list,!!trimTrailing)+"</"+listType+">\n"}return result}return text=globals.converter._dispatch("lists.before",text,options,globals),text+="0",text=(text=globals.gListLevel?text.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(wholeMatch,list,m2){return parseConsecutiveLists(list,-1<m2.search(/[*+-]/g)?"ul":"ol",!0)}):text.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(wholeMatch,m1,list,m3){return parseConsecutiveLists(list,-1<m3.search(/[*+-]/g)?"ul":"ol",!1)})).replace(/0/,""),text=globals.converter._dispatch("lists.after",text,options,globals)}),showdown.subParser("metadata",function(text,options,globals){"use strict";if(!options.metadata)return text;function parseMetadataContents(content){(content=(content=(globals.metadata.raw=content).replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(wm,key,value){return globals.metadata.parsed[key]=value,""})}return text=(text=(text=(text=globals.converter._dispatch("metadata.before",text,options,globals)).replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(wholematch,format,content){return parseMetadataContents(content),"M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(wholematch,format,content){return format&&(globals.metadata.format=format),parseMetadataContents(content),"M"})).replace(/M/g,""),text=globals.converter._dispatch("metadata.after",text,options,globals)}),showdown.subParser("outdent",function(text,options,globals){"use strict";return text=(text=(text=globals.converter._dispatch("outdent.before",text,options,globals)).replace(/^(\t|[ ]{1,4})/gm,"0")).replace(/0/g,""),text=globals.converter._dispatch("outdent.after",text,options,globals)}),showdown.subParser("paragraphs",function(text,options,globals){"use strict";for(var grafs=(text=(text=(text=globals.converter._dispatch("paragraphs.before",text,options,globals)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),grafsOut=[],end=grafs.length,i=0;i<end;i++){var str=grafs[i];0<=str.search(/(K|G)(\d+)\1/g)?grafsOut.push(str):0<=str.search(/\S/)&&(str=(str=showdown.subParser("spanGamut")(str,options,globals)).replace(/^([ \t]*)/g,"<p>"),str+="</p>",grafsOut.push(str))}for(end=grafsOut.length,i=0;i<end;i++){for(var blockText="",grafsOutIt=grafsOut[i],codeFlag=!1;/(K|G)(\d+)\1/.test(grafsOutIt);){var delim=RegExp.$1,num=RegExp.$2;blockText=(blockText="K"===delim?globals.gHtmlBlocks[num]:codeFlag?showdown.subParser("encodeCode")(globals.ghCodeBlocks[num].text,options,globals):globals.ghCodeBlocks[num].codeblock).replace(/\$/g,"$$$$"),grafsOutIt=grafsOutIt.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,blockText),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(grafsOutIt)&&(codeFlag=!0)}grafsOut[i]=grafsOutIt}return text=(text=(text=grafsOut.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),globals.converter._dispatch("paragraphs.after",text,options,globals)}),showdown.subParser("runExtension",function(ext,text,options,globals){"use strict";if(ext.filter)text=ext.filter(text,globals.converter,options);else if(ext.regex){var re=ext.regex;re instanceof RegExp||(re=new RegExp(re,"g")),text=text.replace(re,ext.replace)}return text}),showdown.subParser("spanGamut",function(text,options,globals){"use strict";return text=globals.converter._dispatch("spanGamut.before",text,options,globals),text=showdown.subParser("codeSpans")(text,options,globals),text=showdown.subParser("escapeSpecialCharsWithinTagAttributes")(text,options,globals),text=showdown.subParser("encodeBackslashEscapes")(text,options,globals),text=showdown.subParser("images")(text,options,globals),text=showdown.subParser("anchors")(text,options,globals),text=showdown.subParser("autoLinks")(text,options,globals),text=showdown.subParser("simplifiedAutoLinks")(text,options,globals),text=showdown.subParser("emoji")(text,options,globals),text=showdown.subParser("underline")(text,options,globals),text=showdown.subParser("italicsAndBold")(text,options,globals),text=showdown.subParser("strikethrough")(text,options,globals),text=showdown.subParser("ellipsis")(text,options,globals),text=showdown.subParser("hashHTMLSpans")(text,options,globals),text=showdown.subParser("encodeAmpsAndAngles")(text,options,globals),options.simpleLineBreaks?/\n\nK/.test(text)||(text=text.replace(/\n+/g,"<br />\n")):text=text.replace(/  +\n/g,"<br />\n"),text=globals.converter._dispatch("spanGamut.after",text,options,globals)}),showdown.subParser("strikethrough",function(text,options,globals){"use strict";return options.strikethrough&&(text=(text=globals.converter._dispatch("strikethrough.before",text,options,globals)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(wm,txt){return function(txt){return options.simplifiedAutoLink&&(txt=showdown.subParser("simplifiedAutoLinks")(txt,options,globals)),"<del>"+txt+"</del>"}(txt)}),text=globals.converter._dispatch("strikethrough.after",text,options,globals)),text}),showdown.subParser("stripLinkDefinitions",function(text,options,globals){"use strict";function replaceFunc(wholeMatch,linkId,url,width,height,blankLines,title){return linkId=linkId.toLowerCase(),url.match(/^data:.+?\/.+?;base64,/)?globals.gUrls[linkId]=url.replace(/\s/g,""):globals.gUrls[linkId]=showdown.subParser("encodeAmpsAndAngles")(url,options,globals),blankLines?blankLines+title:(title&&(globals.gTitles[linkId]=title.replace(/"|'/g,"&quot;")),options.parseImgDimensions&&width&&height&&(globals.gDimensions[linkId]={width:width,height:height}),"")}return text=(text=(text=(text+="0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm,replaceFunc)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,replaceFunc)).replace(/0/,"")}),showdown.subParser("tables",function(text,options,globals){"use strict";if(!options.tables)return text;function parseCells(cell,style){return"<td"+style+">"+showdown.subParser("spanGamut")(cell,options,globals)+"</td>\n"}function parseTable(rawTable){var i,tableLines=rawTable.split("\n");for(i=0;i<tableLines.length;++i)/^ {0,3}\|/.test(tableLines[i])&&(tableLines[i]=tableLines[i].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(tableLines[i])&&(tableLines[i]=tableLines[i].replace(/\|[ \t]*$/,"")),tableLines[i]=showdown.subParser("codeSpans")(tableLines[i],options,globals);var sLine,header,style,id,rawHeaders=tableLines[0].split("|").map(function(s){return s.trim()}),rawStyles=tableLines[1].split("|").map(function(s){return s.trim()}),rawCells=[],headers=[],styles=[],cells=[];for(tableLines.shift(),tableLines.shift(),i=0;i<tableLines.length;++i)""!==tableLines[i].trim()&&rawCells.push(tableLines[i].split("|").map(function(s){return s.trim()}));if(rawHeaders.length<rawStyles.length)return rawTable;for(i=0;i<rawStyles.length;++i)styles.push((sLine=rawStyles[i],/^:[ \t]*--*$/.test(sLine)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(sLine)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(sLine)?' style="text-align:center;"':""));for(i=0;i<rawHeaders.length;++i)showdown.helper.isUndefined(styles[i])&&(styles[i]=""),headers.push((header=rawHeaders[i],style=styles[i],id=void 0,id="",header=header.trim(),(options.tablesHeaderId||options.tableHeaderId)&&(id=' id="'+header.replace(/ /g,"_").toLowerCase()+'"'),"<th"+id+style+">"+(header=showdown.subParser("spanGamut")(header,options,globals))+"</th>\n"));for(i=0;i<rawCells.length;++i){for(var row=[],ii=0;ii<headers.length;++ii)showdown.helper.isUndefined(rawCells[i][ii]),row.push(parseCells(rawCells[i][ii],styles[ii]));cells.push(row)}return function(headers,cells){for(var tb="<table>\n<thead>\n<tr>\n",tblLgn=headers.length,i=0;i<tblLgn;++i)tb+=headers[i];for(tb+="</tr>\n</thead>\n<tbody>\n",i=0;i<cells.length;++i){tb+="<tr>\n";for(var ii=0;ii<tblLgn;++ii)tb+=cells[i][ii];tb+="</tr>\n"}return tb+="</tbody>\n</table>\n"}(headers,cells)}return text=(text=(text=(text=globals.converter._dispatch("tables.before",text,options,globals)).replace(/\\(\|)/g,showdown.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,parseTable)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm,parseTable),text=globals.converter._dispatch("tables.after",text,options,globals)}),showdown.subParser("underline",function(text,options,globals){"use strict";return options.underline?(text=globals.converter._dispatch("underline.before",text,options,globals),text=(text=options.literalMidWordUnderscores?(text=text.replace(/\b___(\S[\s\S]*?)___\b/g,function(wm,txt){return"<u>"+txt+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(wm,txt){return"<u>"+txt+"</u>"}):(text=text.replace(/___(\S[\s\S]*?)___/g,function(wm,m){return/\S$/.test(m)?"<u>"+m+"</u>":wm})).replace(/__(\S[\s\S]*?)__/g,function(wm,m){return/\S$/.test(m)?"<u>"+m+"</u>":wm})).replace(/(_)/g,showdown.helper.escapeCharactersCallback),text=globals.converter._dispatch("underline.after",text,options,globals)):text}),showdown.subParser("unescapeSpecialChars",function(text,options,globals){"use strict";return text=(text=globals.converter._dispatch("unescapeSpecialChars.before",text,options,globals)).replace(/E(\d+)E/g,function(wholeMatch,m1){var charCodeToReplace=parseInt(m1);return String.fromCharCode(charCodeToReplace)}),text=globals.converter._dispatch("unescapeSpecialChars.after",text,options,globals)}),showdown.subParser("makeMarkdown.blockquote",function(node,globals){"use strict";var txt="";if(node.hasChildNodes())for(var children=node.childNodes,childrenLength=children.length,i=0;i<childrenLength;++i){var innerTxt=showdown.subParser("makeMarkdown.node")(children[i],globals);""!==innerTxt&&(txt+=innerTxt)}return txt="> "+(txt=txt.trim()).split("\n").join("\n> ")}),showdown.subParser("makeMarkdown.codeBlock",function(node,globals){"use strict";var lang=node.getAttribute("language"),num=node.getAttribute("precodenum");return"```"+lang+"\n"+globals.preList[num]+"\n```"}),showdown.subParser("makeMarkdown.codeSpan",function(node){"use strict";return"`"+node.innerHTML+"`"}),showdown.subParser("makeMarkdown.emphasis",function(node,globals){"use strict";var txt="";if(node.hasChildNodes()){txt+="*";for(var children=node.childNodes,childrenLength=children.length,i=0;i<childrenLength;++i)txt+=showdown.subParser("makeMarkdown.node")(children[i],globals);txt+="*"}return txt}),showdown.subParser("makeMarkdown.header",function(node,globals,headerLevel){"use strict";var headerMark=new Array(headerLevel+1).join("#"),txt="";if(node.hasChildNodes()){txt=headerMark+" ";for(var children=node.childNodes,childrenLength=children.length,i=0;i<childrenLength;++i)txt+=showdown.subParser("makeMarkdown.node")(children[i],globals)}return txt}),showdown.subParser("makeMarkdown.hr",function(){"use strict";return"---"}),showdown.subParser("makeMarkdown.image",function(node){"use strict";var txt="";return node.hasAttribute("src")&&(txt+="!["+node.getAttribute("alt")+"](",txt+="<"+node.getAttribute("src")+">",node.hasAttribute("width")&&node.hasAttribute("height")&&(txt+=" ="+node.getAttribute("width")+"x"+node.getAttribute("height")),node.hasAttribute("title")&&(txt+=' "'+node.getAttribute("title")+'"'),txt+=")"),txt}),showdown.subParser("makeMarkdown.links",function(node,globals){"use strict";var txt="";if(node.hasChildNodes()&&node.hasAttribute("href")){var children=node.childNodes,childrenLength=children.length;txt="[";for(var i=0;i<childrenLength;++i)txt+=showdown.subParser("makeMarkdown.node")(children[i],globals);txt+="](",txt+="<"+node.getAttribute("href")+">",node.hasAttribute("title")&&(txt+=' "'+node.getAttribute("title")+'"'),txt+=")"}return txt}),showdown.subParser("makeMarkdown.list",function(node,globals,type){"use strict";var txt="";if(!node.hasChildNodes())return"";for(var listItems=node.childNodes,listItemsLenght=listItems.length,listNum=node.getAttribute("start")||1,i=0;i<listItemsLenght;++i)if(void 0!==listItems[i].tagName&&"li"===listItems[i].tagName.toLowerCase()){txt+=("ol"===type?listNum.toString()+". ":"- ")+showdown.subParser("makeMarkdown.listItem")(listItems[i],globals),++listNum}return(txt+="\n\x3c!-- --\x3e\n").trim()}),showdown.subParser("makeMarkdown.listItem",function(node,globals){"use strict";for(var listItemTxt="",children=node.childNodes,childrenLenght=children.length,i=0;i<childrenLenght;++i)listItemTxt+=showdown.subParser("makeMarkdown.node")(children[i],globals);return/\n$/.test(listItemTxt)?listItemTxt=listItemTxt.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):listItemTxt+="\n",listItemTxt}),showdown.subParser("makeMarkdown.node",function(node,globals,spansOnly){"use strict";spansOnly=spansOnly||!1;var txt="";if(3===node.nodeType)return showdown.subParser("makeMarkdown.txt")(node,globals);if(8===node.nodeType)return"\x3c!--"+node.data+"--\x3e\n\n";if(1!==node.nodeType)return"";switch(node.tagName.toLowerCase()){case"h1":spansOnly||(txt=showdown.subParser("makeMarkdown.header")(node,globals,1)+"\n\n");break;case"h2":spansOnly||(txt=showdown.subParser("makeMarkdown.header")(node,globals,2)+"\n\n");break;case"h3":spansOnly||(txt=showdown.subParser("makeMarkdown.header")(node,globals,3)+"\n\n");break;case"h4":spansOnly||(txt=showdown.subParser("makeMarkdown.header")(node,globals,4)+"\n\n");break;case"h5":spansOnly||(txt=showdown.subParser("makeMarkdown.header")(node,globals,5)+"\n\n");break;case"h6":spansOnly||(txt=showdown.subParser("makeMarkdown.header")(node,globals,6)+"\n\n");break;case"p":spansOnly||(txt=showdown.subParser("makeMarkdown.paragraph")(node,globals)+"\n\n");break;case"blockquote":spansOnly||(txt=showdown.subParser("makeMarkdown.blockquote")(node,globals)+"\n\n");break;case"hr":spansOnly||(txt=showdown.subParser("makeMarkdown.hr")(node,globals)+"\n\n");break;case"ol":spansOnly||(txt=showdown.subParser("makeMarkdown.list")(node,globals,"ol")+"\n\n");break;case"ul":spansOnly||(txt=showdown.subParser("makeMarkdown.list")(node,globals,"ul")+"\n\n");break;case"precode":spansOnly||(txt=showdown.subParser("makeMarkdown.codeBlock")(node,globals)+"\n\n");break;case"pre":spansOnly||(txt=showdown.subParser("makeMarkdown.pre")(node,globals)+"\n\n");break;case"table":spansOnly||(txt=showdown.subParser("makeMarkdown.table")(node,globals)+"\n\n");break;case"code":txt=showdown.subParser("makeMarkdown.codeSpan")(node,globals);break;case"em":case"i":txt=showdown.subParser("makeMarkdown.emphasis")(node,globals);break;case"strong":case"b":txt=showdown.subParser("makeMarkdown.strong")(node,globals);break;case"del":txt=showdown.subParser("makeMarkdown.strikethrough")(node,globals);break;case"a":txt=showdown.subParser("makeMarkdown.links")(node,globals);break;case"img":txt=showdown.subParser("makeMarkdown.image")(node,globals);break;default:txt=node.outerHTML+"\n\n"}return txt}),showdown.subParser("makeMarkdown.paragraph",function(node,globals){"use strict";var txt="";if(node.hasChildNodes())for(var children=node.childNodes,childrenLength=children.length,i=0;i<childrenLength;++i)txt+=showdown.subParser("makeMarkdown.node")(children[i],globals);return txt=txt.trim()}),showdown.subParser("makeMarkdown.pre",function(node,globals){"use strict";var num=node.getAttribute("prenum");return"<pre>"+globals.preList[num]+"</pre>"}),showdown.subParser("makeMarkdown.strikethrough",function(node,globals){"use strict";var txt="";if(node.hasChildNodes()){txt+="~~";for(var children=node.childNodes,childrenLength=children.length,i=0;i<childrenLength;++i)txt+=showdown.subParser("makeMarkdown.node")(children[i],globals);txt+="~~"}return txt}),showdown.subParser("makeMarkdown.strong",function(node,globals){"use strict";var txt="";if(node.hasChildNodes()){txt+="**";for(var children=node.childNodes,childrenLength=children.length,i=0;i<childrenLength;++i)txt+=showdown.subParser("makeMarkdown.node")(children[i],globals);txt+="**"}return txt}),showdown.subParser("makeMarkdown.table",function(node,globals){"use strict";var i,ii,txt="",tableArray=[[],[]],headings=node.querySelectorAll("thead>tr>th"),rows=node.querySelectorAll("tbody>tr");for(i=0;i<headings.length;++i){var headContent=showdown.subParser("makeMarkdown.tableCell")(headings[i],globals),allign="---";if(headings[i].hasAttribute("style"))switch(headings[i].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":allign=":---";break;case"text-align:right;":allign="---:";break;case"text-align:center;":allign=":---:"}tableArray[0][i]=headContent.trim(),tableArray[1][i]=allign}for(i=0;i<rows.length;++i){var r=tableArray.push([])-1,cols=rows[i].getElementsByTagName("td");for(ii=0;ii<headings.length;++ii){var cellContent=" ";void 0!==cols[ii]&&(cellContent=showdown.subParser("makeMarkdown.tableCell")(cols[ii],globals)),tableArray[r].push(cellContent)}}var cellSpacesCount=3;for(i=0;i<tableArray.length;++i)for(ii=0;ii<tableArray[i].length;++ii){var strLen=tableArray[i][ii].length;cellSpacesCount<strLen&&(cellSpacesCount=strLen)}for(i=0;i<tableArray.length;++i){for(ii=0;ii<tableArray[i].length;++ii)1===i?":"===tableArray[i][ii].slice(-1)?tableArray[i][ii]=showdown.helper.padEnd(tableArray[i][ii].slice(-1),cellSpacesCount-1,"-")+":":tableArray[i][ii]=showdown.helper.padEnd(tableArray[i][ii],cellSpacesCount,"-"):tableArray[i][ii]=showdown.helper.padEnd(tableArray[i][ii],cellSpacesCount);txt+="| "+tableArray[i].join(" | ")+" |\n"}return txt.trim()}),showdown.subParser("makeMarkdown.tableCell",function(node,globals){"use strict";var txt="";if(!node.hasChildNodes())return"";for(var children=node.childNodes,childrenLength=children.length,i=0;i<childrenLength;++i)txt+=showdown.subParser("makeMarkdown.node")(children[i],globals,!0);return txt.trim()}),showdown.subParser("makeMarkdown.txt",function(node){"use strict";var txt=node.nodeValue;return txt=(txt=txt.replace(/ +/g," ")).replace(/NBSP;/g," "),txt=(txt=(txt=(txt=(txt=(txt=(txt=(txt=(txt=showdown.helper.unescapeHTMLEntities(txt)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")});void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){"use strict";return showdown}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("student-stats-panel",'<panel heading="My Progress" class="row2"> <student-stats stores="{parent.opts.stores}" page="{parent.opts.page}"></student-stats> </panel>',"","",function(opts){})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("student-stats",'<div show="{loading}"> <div class="alert alert-info"><span class="fa fa-cog fa-spin"></span> Loading Marks</div> </div> <div if="{!loading}"> <div class="row"> <div class="col-sm-3 col-xs-6"> <tip tip="Number of topic videos watched within the selected time period." placement="bottom" style="position:relative;display:block"> <donut-count subtitle="Topics Watched" total="{parent.filtered2.length}" count="{parent.watched}"> <div class="circle"> <div class="fa fa-play"></div> </div> </donut-count> </tip> </div> <div class="col-sm-3 col-xs-6"> <tip tip="Number of interactive questions answered correctly within the selected time period." placement="bottom" style="position:relative;display:block"> <donut-count subtitle="Questions Answered" total="{parent.ques_count}" count="{parent.answered}" delay="{1}"> <div class="circle"> <div class="fa fa-question"></div> </div> </donut-count> </tip> </div> <div class="col-sm-3 col-xs-6"> <tip tip="A skill/topic is acquired by watching its video and correctly answering 2 of its standard interactive questions as well as 2 of its harder interactive questions." placement="bottom" style="position:relative;display:block"> <donut-count subtitle="Acquired Skills" total="{parent.filtered2.length}" count="{parent.acquired}" delay="{2}"> <div class="circle"> <div class="fa fa-check"></div> </div> </donut-count> </tip> </div> <div class="col-sm-3 col-xs-6"> <tip tip="A skill/topic is mastered by answering correctly all of its interactive questions." placement="bottom" style="position:relative;display:block"> <donut-count subtitle="Mastered Skills" total="{parent.filtered2.length}" count="{parent.mastered}" delay="{3}"> <div class="circle"> <div class="fa fa-star"></div> </div> </donut-count> </tip> </div> </div> <div class="rows"> <div class="col-xs-12"><br> <div style="background:#e7f5ff;padding:10px 10px 20px 10px;margin-top:20px" class="row"> <div class="col-sm-3"> <label>Search By Video Name</label> <search data="{data}" onsearch="{handleSearch}" placeholder="Search Videos"></search> </div> <div class="col-sm-2"> <label>Qualification</label> <select name="qualification" onchange="{handleFilter}" class="form-control"> <option each="{qualifications}" __selected="{label==filters[\'qualification\']}">{label}</option> </select> </div> <div class="col-sm-7"> <div class="row"> <div if="{filters[\'qualification\'].match(/gcse/i)}" class="col-sm-3"> <label>Tier</label> <select name="level" onchange="{handleFilter}" class="form-control"> <option value="">All </option> <option value="Foundation" __selected="{filters.level == \'Foundation\'}">Foundation </option> <option value="Intermediate" __selected="{filters.level == \'Intermediate\'}" if="{filters[\'qualification\'].match(/wjec/i)}">Intermediate </option> <option value="Higher" __selected="{filters.level == \'Higher\'}">Higher</option> </select> </div> <div if="{filters[\'qualification\']!=\'KS3\'}" class="col-sm-3"> <label>{filters[\'qualification\'].match(/^AS/) ? Module : Grade}</label> <select name="grade" onchange="{handleFilter}" class="form-control"> <option value="">All</option> <option each="{grades}" value="{value}" __selected="{parent.filters.grade == value}">{label}</option> </select> </div> <div if="{filters[\'qualification\']==\'KS3\'}" class="col-sm-3"> <label>Standard</label> <select name="level" onchange="{handleFilter}" class="form-control"> <option value="">All</option> <option value="Emerging">Emerging</option> <option value="Expected">Expected</option> <option value="Exceeding">Exceeding</option> <option value="Excelling">Excelling</option> </select> </div> <div class="col-sm-3"> <label>Topic</label> <select name="topic" onchange="{handleFilter}" class="form-control"> <option value="">All</option> <option each="{topics}" __selected="{parent.filters.topic == value}">{label}</option> </select> </div> <div class="col-sm-3"> <label>Time Period</label> <select name="when" onchange="{handleFilter}" class="form-control"> <option value="">All</option> <option value="lastweek">Last Week</option> <option value="thisweek">This Week</option> <option value="year">Academic Year</option> <option value="1">January</option> <option value="2">February</option> <option value="3">March</option> <option value="4">April</option> <option value="5">May</option> <option value="6">June</option> <option value="7">July</option> <option value="8">August</option> <option value="9">September</option> <option value="10">October</option> <option value="11">November</option> <option value="12">December</option> </select> </div> </div> </div> </div> <div class="row"> <table class="table"> <thead> <tr style="cursor:pointer;"> <th onclick="{handleSort}" name="clip_id" defaultorder="true"># <span if="{sort_by==\'clip_id\' &amp;&amp; sort_dir}" class="fa fa-caret-up"></span><span if="{sort_by==\'clip_id\' &amp;&amp; !sort_dir}" class="fa fa-caret-down"></span></th> <th>Skill</th> <th onclick="{handleSort}" name="name" defaultorder="true" class="col-xs-4"> Video <span if="{sort_by==\'name\' &amp;&amp; sort_dir}" class="fa fa-caret-up"></span><span if="{sort_by==\'name\' &amp;&amp; !sort_dir}" class="fa fa-caret-down"></span></th> <th onclick="{handleSort}" name="last_watched" defaultorder="false"> Last Watched <span if="{sort_by==\'last_watched\' &amp;&amp; sort_dir}" class="fa fa-caret-up"></span><span if="{sort_by==\'last_watched\' &amp;&amp; !sort_dir}" class="fa fa-caret-down"></span></th> <th onclick="{handleSort}" name="views" defaultorder="false" style="text-align:center"> <tip tip="Number of times you have watched this video">Views </tip><span if="{sort_by==\'views\' &amp;&amp; sort_dir}" class="fa fa-caret-up"></span><span if="{sort_by==\'views\' &amp;&amp; !sort_dir}" class="fa fa-caret-down"></span> </th> <th onclick="{handleSort}" name="omm_views" defaultorder="false" style="text-align:center"> <tip tip="Number of times you have watched the One Minute Maths version of this video">OMM </tip><span if="{sort_by==\'omm_views\' &amp;&amp; sort_dir}" class="fa fa-caret-up"></span><span if="{sort_by==\'omm_views\' &amp;&amp; !sort_dir}" class="fa fa-caret-down"></span> </th> <th onclick="{handleSort}" name="marks" defaultorder="false" class="col-xs-2"> Interactive Questions <span if="{sort_by==\'marks\' &amp;&amp; sort_dir}" class="fa fa-caret-up"></span><span if="{sort_by==\'marks\' &amp;&amp; !sort_dir}" class="fa fa-caret-down"></span></th> <th onclick="{handleSort}" name="last_attempted" defaultorder="false"> Last Attempted <span if="{sort_by==\'last_attempted\' &amp;&amp; sort_dir}" class="fa fa-caret-up"></span><span if="{sort_by==\'last_attempted\' &amp;&amp; !sort_dir}" class="fa fa-caret-down"></span></th> </tr> </thead> <tbody> <tr each="{filtered2}" style="cursor:pointer;"> <td>{clip_id} </td> <td> <tip tip="You have mastered this skill." if="{mastered}"><span class="fa fa-star circle"></span></tip> <tip tip="You have acquired this skill." if="{acquired &amp;&amp; !mastered}"><span class="fa fa-check circle"> </span></tip> </td> <td><a onclick="{handleSelect}">{name} </a></td> <td> <date-cell value="{last_watched}"></date-cell> </td> <td style="text-align:center">{views || 0}</td> <td style="text-align:center"><span show="{omm_views}" onmouseover="{tags.popover.clicked}" onmouseleave="{tags.popover.hide}">{omm_views}</span><span show="{!omm_views}">0</span> <popover><span>Last Viewed <date-cell value="{last_omm}"></date-cell></span></popover> </td> <td> <progress-tablecell max="{total}" value="{marks}" onclick="{gotoQuestions}"></progress-tablecell> </td> <td> <date-cell value="{last_attempted}"></date-cell> </td> </tr> </tbody> </table> </div> </div> </div> </div>','student-stats .headercell, [riot-tag="student-stats"] .headercell { background: #b8dffb; border-color: #b8dffb; color: #004c81; } student-stats table.table thead, [riot-tag="student-stats"] table.table thead { background: #3fa9f5; color: #fff; } student-stats table.table th, [riot-tag="student-stats"] table.table th { font-weight: normal; border-bottom: 2px solid #fff; } student-stats table.table td a, [riot-tag="student-stats"] table.table td a { color: #000; } student-stats table.table progressbar, [riot-tag="student-stats"] table.table progressbar { position: relative; display: block; } student-stats table.table progressbar::after, [riot-tag="student-stats"] table.table progressbar::after { content: \' \'; position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); -webkit-box-shadow: 0 2px 5px rgba(0,0,0,0.5); box-shadow: 0 2px 5px rgba(0,0,0,0.5); -webkit-transition: opacity 0.3s ease-in-out; -moz-transition: opacity 0.3s ease-in-out; -o-transition: opacity 0.3s ease-in-out; -ms-transition: opacity 0.3s ease-in-out; transition: opacity 0.3s ease-in-out; } student-stats table.table progressbar:hover::after, [riot-tag="student-stats"] table.table progressbar:hover::after { opacity: 1; -ms-filter: none; filter: none; } .fa.circle { background: #fec600; color: #fff; display: inline-block; border-radius: 50%; line-height: 20px; min-width: 20px; text-align: center; margin: 0 10px; }',"",function(opts){var collection,_this;collection=__webpack_require__(7),this.sort_by="",this.sort_dir=!0,this.loading=!0,this.last_monday=new Date(new Date((new Date).setDate((new Date).getDate()-((new Date).getDay()+6)%7)).setHours(0,0,0)),this.previous_monday=new Date(new Date(this.last_monday).setDate(this.last_monday.getDate()-7)),this.next_monday=new Date(new Date((new Date).setDate((new Date).getDate()+(7-(new Date).getDay())%7+1)).setHours(0,0,0)),this.year_start=8<=(new Date).getMonth()?new Date((new Date).getFullYear(),8,1):new Date((new Date).getFullYear()-1,8,1),this.whenFilters=function(filter){var month,_this;return filter?"lastweek"===filter?(_this=this,function(dt){return null!=dt&&dt>_this.previous_monday&&dt<_this.last_monday}):"thisweek"===filter?function(_this){return function(dt){return null!=dt&&dt>_this.last_monday&&dt<_this.next_monday}}(this):"year"===filter?function(_this){return function(dt){return null!=dt&&dt>_this.year_start}}(this):(month=filter-1,function(dt){return null!=dt&&dt.getMonth()===month}):function(){return!0}},this.on("mount",function(){return this.filters={},this.watched=0,this.answered=0,this.acquired=0,this.mastered=0,this.data=null,this.loading=!0,this.update(),opts.stores.on("video_changed",this.handleVideoChanged),opts.stores.on("logs_changed_studentProgress",this.statsChanged),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("video_sync")}),this.on("unmount",function(){return opts.stores.off("video_changed",this.handleVideoChanged),opts.stores.off("logs_changed_studentProgress",this.statsChanged),opts.stores.off("session_changed",this.sessionUpdated)}),this.gridColumns=[{field:"clip_id",label:"#",width:50},{field:"name",label:"Video",width:300},{field:"last_watched",label:"Last Watched",width:150,tag:"date-cell"},{field:"assigned_at",label:"Interactive Questions",width:450,tag:"progress-cell"},{field:"last_attempted",label:"Last Attempted",width:150,tag:"date-cell"}],this.sessionUpdated=(_this=this,function(session){var classes,ref,ref1;if(_this.session=session,null!=(null!=(ref=_this.session.user)&&null!=(ref1=ref.classrooms)?ref1.map:void 0)&&!_this.filters.qualification&&!_this.filters.level)return(classes=_this.session.user.classrooms.filter(function(c){return c.qualification})).length?(_this.filters.qualification=classes[0].qualification,_this.filters.level=classes[0].level):_this.updateDefaultQualification(_this.session.user.classrooms),_this.update()}),this.updateDefaultQualification=function(_this){return function(classrooms){var classes,qual,qualifications,yr;if((classes=classrooms.filter(function(c){return c.year})).length&&null!=_this.videos)return yr=+classes[0].year,qual="",null!=(qualifications=collection.groupSort(_this.videos,"qualification"))&&qualifications.forEach(function(q){if(yr<10&&"KS3"===q.value||(10==yr||11==yr)&&q.value.match(/GCSE/)||11<yr&&q.value.match(/AS Level/))return qual=q.value}),qual?(_this.filters.qualification=qual,_this.update()):void 0}}(this),this.handleVideoChanged=function(_this){return function(videos){var ref;return _this.videos=videos,null!=(null!=(ref=opts.params)?ref.user_id:void 0)?opts.stores.trigger("log_load","studentProgress",{user_id:opts.params.user_id}):opts.stores.trigger("log_load","studentProgress"),opts.stores.trigger("session_sync")}}(this),this.statsChanged=function(_this){return function(data){var answers_by_vidid,keys,thisqual,vids_per_qual;return _this.watched=data.filter(function(row){return row.last_watched}).length,_this.answered=data.reduce(function(a,b){return a+b.answered},0),answers_by_vidid={},data.forEach(function(row){return answers_by_vidid[row.id]=row}),vids_per_qual={},_this.data=_this.videos.map(function(video){var ref,ref1,ref10,ref11,ref12,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,user_marks;return null==vids_per_qual[video.qualification]&&(vids_per_qual[video.qualification]=0),((null!=(ref=answers_by_vidid[video.id])?ref.last_attempted:void 0)||(null!=(ref1=answers_by_vidid[video.id])?ref1.last_watched:void 0))&&vids_per_qual[video.qualification]++,(user_marks=(null!=(ref2=answers_by_vidid[video.id])?ref2.marks:void 0)?null!=(ref3=answers_by_vidid[video.id])?ref3.marks:void 0:0)>video.ques_marks&&(user_marks=video.ques_marks),{clip_id:video.clip_id,video_id:video.id,name:video.name,qualification:video.qualification,grade:video.grade,level:video.level,total:video.ques_marks,topic:video.topic,last_watched:null!=(ref4=answers_by_vidid[video.id])?ref4.last_watched:void 0,last_attempted:null!=(ref5=answers_by_vidid[video.id])?ref5.last_attempted:void 0,marks:+user_marks,ques_count:video.ques_count,answered:null!=(ref6=answers_by_vidid[video.id])?ref6.answered:void 0,views:null!=(ref7=answers_by_vidid[video.id])?ref7.views:void 0,omm_views:null!=(ref8=answers_by_vidid[video.id])?ref8.omm_views:void 0,last_omm:null!=(ref9=answers_by_vidid[video.id])?ref9.last_omm:void 0,mastered:+user_marks==+video.ques_marks,acquired:+user_marks==+video.ques_marks||(null!=(ref10=answers_by_vidid[video.id])?ref10.last_watched:void 0)&&1<(null!=(ref11=answers_by_vidid[video.id])?ref11.standard_correct:void 0)&&1<(null!=(ref12=answers_by_vidid[video.id])?ref12.difficult_correct:void 0)}}),_this.qualifications=collection.groupSort(_this.data,"qualification"),vids_per_qual?(keys=Object.keys(vids_per_qual).filter(function(a){return 0<vids_per_qual[a]}).sort(function(a,b){return vids_per_qual[b]-vids_per_qual[a]})).length&&(_this.filters.qualification=keys[0]):_this.filters.qualification||(_this.filters.qualification=_this.qualifications[0].label),thisqual=_this.data.filter(function(row){return row.qualification===_this.filters.qualification}),_this.grades=collection.groupSort(thisqual,"grade"),_this.topics=collection.groupSort(thisqual,"topic"),_this.loading=!1,_this.update(),_this.root.querySelector("select[name=qualification]").value=_this.filters.qualification}}(this),this.markHack=function(_this){return function(){var clip,dupeclip_idxs,idxs,results;for(clip in dupeclip_idxs={},_this.filtered2.forEach(function(row,idx){var num;if(row.clip_id.match(/^(71|135|150|181)[ab]/i)&&"GCSE"===row.qualification||row.clip_id.match(/^(59|139|211)[ab]/i)&&"GCSE (WJEC)"===row.qualification)return num=row.clip_id.replace(/[a-z]/i,""),dupeclip_idxs[num]||(dupeclip_idxs[num]=[]),dupeclip_idxs[num].push(idx)}),results=[],dupeclip_idxs)idxs=dupeclip_idxs[clip],results.push(idxs.sort(function(a,b){return _this.filtered2[a].marks<_this.filtered2[b].marks}).forEach(function(idx){return _this.filtered2[idx].marks=_this.filtered2[idxs[0]].marks,_this.filtered2[idx].mastered=_this.filtered2[idxs[0]].mastered,_this.filtered2[idx].acquired=_this.filtered2[idxs[0]].acquired}));return results}}(this),this.handleSort=function(_this){return function(e){return _this.sort_by!==e.target.getAttribute("name")?(_this.sort_by=e.target.getAttribute("name"),_this.sort_dir="true"===e.target.getAttribute("defaultorder")):_this.sort_dir=!_this.sort_dir,_this.updateFilters()}}(this),this.handleSelect=function(e){return opts.page("/vle/browse/"+e.item.video_id)},this.gotoQuestions=function(e){return opts.page("/vle/browse/"+e.item.video_id+"/practice")},this.handleSearch=function(_this){return function(filtered){return _this.filtered=filtered,_this.updateFilters(),_this.update()}}(this),this.handleFilter=function(_this){return function(e){var name,value;return name=null!=e.target.id&&e.target.id.length?e.target.id:e.target.name,value=opts.checkbox?e.target.checked:e.target.value,_this.filters[name]="when"===name?_this.whenFilters(value):value,"qualification"===name&&(_this.filters={qualification:value},_this.data.filter(function(row){return row.qualification===_this.filters.qualification})),_this.updateFilters()}}(this),this.levelFilter=function(_this){return function(row){return!_this.filters.level||(!!(_this.filters.qualification.match(/gcse/i)&&"Higher"===_this.filters.level&&3<=row.grade)||!(row.level!==_this.filters.level&&!row.level.match(_this.filters.level)))}}(this),this.updateFilters=function(_this){return function(){if(_this.gradefiltered=_this.filtered.filter(function(row){return(null!=_this.filters.qualification&&row.qualification===_this.filters.qualification||!_this.filters.qualification)&&_this.levelFilter(row)}),_this.filtered2=_this.gradefiltered.filter(function(row){var base,base1;return(!_this.filters.topic||row.topic===_this.filters.topic)&&(!_this.filters.grade||row.grade===_this.filters.grade)&&(null!=_this.filters.when&&("function"==typeof(base=_this.filters).when?base.when(row.last_attempted):void 0)||("function"==typeof(base1=_this.filters).when?base1.when(row.last_watched):void 0)||!_this.filters.when)}),_this.grades=collection.groupSort(_this.gradefiltered,"grade"),_this.topics=collection.groupSort(_this.gradefiltered,"topic"),_this.markHack(),_this.watched=_this.filtered2.filter(function(row){return row.last_watched}).length,_this.update({watched:_this.watched}),_this.answered=_this.filtered2.reduce(function(a,b){return a+(b.answered||0)},0),_this.ques_count=_this.filtered2.reduce(function(a,b){return a+b.ques_count},0),_this.mastered=_this.filtered2.filter(function(row){return!0===row.mastered}).length,_this.acquired=_this.filtered2.filter(function(row){return!0===row.acquired}).length,_this.sort_by&&(_this.filtered2=_this.filtered2.sort(function(a,b){return null!=a[_this.sort_by]&&null!=b[_this.sort_by]?"string"==typeof a[_this.sort_by]?a[_this.sort_by].localeCompare(b[_this.sort_by],{},{usage:"sort",sensitivity:"base",numeric:!0}):a[_this.sort_by]-b[_this.sort_by]:null!=a[_this.sort_by]?1:null!=b[_this.sort_by]?-1:0})),!_this.sort_dir)return _this.filtered2.reverse()}}(this)}),riot.tag2("progress-cell",'<progressbar max="{opts.data[opts.cell.ridx].total}" value="{opts.data[opts.cell.ridx].marks}" bsstyle="{style}">{parent.opts.data[parent.opts.cell.ridx].marks} / {parent.opts.data[parent.opts.cell.ridx].total}</progressbar>',"","",function(opts){this.on("update",function(){var perc;if(opts.data&&opts.cell&&opts.data[opts.cell.ridx]&&((perc=opts.data[opts.cell.ridx].marks/opts.data[opts.cell.ridx].total*100)<=100&&(this.style="success"),perc<90&&(this.style="warning"),perc<25))return this.style="danger"})}),riot.tag2("progress-tablecell",'<progressbar max="{opts.max}" value="{opts.value}" bsstyle="{style}">{opts.value} / {opts.max}</progressbar>',"","",function(opts){this.on("update",function(){var perc;if(opts.value&&opts.max&&((perc=opts.value/opts.max*100)<=100&&(this.style="success"),perc<90&&(this.style="warning"),perc<25))return this.style="danger"})}),riot.tag2("date-cell","<span>{dt}</span>","","",function(opts){this.on("update",function(){return this.dt=this.dateToString(opts.value)}),this.dateToString=function(dt){var mins;return dt?(mins=("00"+dt.getMinutes()).substr(-2,2),("00"+dt.getHours()).substr(-2,2)+":"+mins+" "+dt.getDate()+"/"+(dt.getMonth()+1)+"/"+dt.getFullYear()):""}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("feedback",'<div if="{isAdmin || isTeacher || messages.length &gt; 0 || opts.studentfeedback}"> <h5 class="blockheader">Feedback</h5> <div class="body"> <div each="{messages}" class="row"> <div class="col-sm-2 col-xs-12"> <div class="profile {year &gt; 0 ? \'student\':\'teacher\'}"> {user.first_name} {user.surname}<br><small class="subtle"> <dateformat date="{created_at}" format="dd MMM yyyy, h:mm a"></dateformat></small><span show="{parent.session.user.id == user.id || (parent.session.user &amp;&amp; !parent.session.user.year)}"> <div if="{!edit &amp;&amp; !parent.editing}" onclick="{parent.edit}" class="btn btn-xs btn-primary">Edit</div> <confirm if="{parent.session.user &amp;&amp; !parent.session.user.year &amp;&amp; !edit &amp;&amp; !parent.editing}" onconfirm="{parent.delete.bind(this,id)}" class="btn btn-xs btn-danger">Delete</confirm> <div if="{edit}" onclick="{parent.updatemessage}" class="btn btn-xs btn-primary">Update</div> <div if="{edit}" onclick="{parent.cancel}" class="btn btn-xs btn-primary">Cancel</div></span> </div> </div> <div class="col-sm-10 col-xs-12"> <div if="{!edit}" class="message pre">{message}</div> <div if="{edit}" class="message"> <textarea rows="{4}" name="update_text" value="{message}" placeholder="Your Message" autofocus required></textarea> <charpicker input="{update_text}"></charpicker> </div> </div> </div> <form onsubmit="{handleForm}" if="{!editing}"> <div class="row"> <div class="col-sm-2 col-xs-12"> <div class="profile {year &gt; 0 ? \'student\':\'teacher\'}">{session.user.first_name} {session.user.surname}<br><small class="subtle"> <dateformat date="{new Date()}" format="dd MMM yyyy, h:mm a"></dateformat></small></div> </div> <div class="col-sm-10 col-xs-12"> <div class="message"> <textarea rows="{4}" name="message_text" placeholder="Your Message" autofocus required></textarea> <charpicker input="{message_text}"></charpicker> </div> </div> </div> <div class="row"> <div class="col-xs-12"> <div class="btn-toolbar pull-right"> <formcheckbox if="{isAdmin || isTeacher}" style="display:inline-block;float:left;margin:-8px 5px 5px 5px;" type="checkbox" label="Send to whole class" width1="0" width2="12" onupdate="{setWholeClass}" value="{wholeClass}"></formcheckbox> <button type="submit" style="display:inline-block" class="btn btn-primary">Add Feedback</button> </div> </div> </div> </form> </div> </div>',"feedback .blockheader { margin-bottom: 0; } feedback .subtle { color: #fff; } feedback .body { background: #a0d4fa; display: block; -webkit-box-shadow: 0 2px 10px rgba(0,0,0,0.3); box-shadow: 0 2px 10px rgba(0,0,0,0.3); padding: 15px 10px; margin: 0 0px 10px 0px; overflow-x: hidden; } feedback .profile { padding: 10px; margin: 5px; color: #085993; } feedback .message { padding: 5px; margin: 5px 10px; min-height: 60px; border-radius: 0 5px 5px 5px; background: #e9f5fe; border: 5px solid #d0eafd; color: #085993; position: relative; } feedback .btn-toolbar { padding: 5px 10px 0 0; } feedback textarea { display: block; width: calc(100% + 10px); border: 10px solid #fff; background: #fff; margin: -5px; resize: none; } feedback textarea:active, feedback textarea:focus { outline: 0px; }","",function(opts){var _this;this.on("mount",function(){return this.editing=!1,opts.stores.on("feedback_changed",this.handleMessages),opts.stores.on("session_changed",this.handleSession),opts.stores.trigger("session_sync"),this.wholeClass=!1}),this.on("unmount",function(){return opts.stores.off("feedback_changed",this.handleMessages),opts.stores.off("session_changed",this.handleSession)}),this.handleSession=(_this=this,function(session){var group_ids;return _this.session=session,(-1<(group_ids=_this.session.user.group_ids).indexOf(1)||-1<group_ids.indexOf(5))&&(_this.isAdmin=!0),-1<group_ids.indexOf(6)&&(_this.isTeacher=!0),_this.update()}),this.handleMessages=function(_this){return function(messages){return _this.messages=messages.map(function(message){return message.edit=!1,message}),_this.wholeClass=!1,_this.update()}}(this),this.edit=function(_this){return function(e){return _this.messages=_this.messages.map(function(message){return message.edit=message.id===e.item.id,message}),_this.editing=!0,_this.update()}}(this),this.cancel=function(_this){return function(e){return _this.messages=_this.messages.map(function(message){return message.edit=!1,message}),_this.editing=!1,_this.update()}}(this),this.delete=function(_this){return function(id){var assignedwork_id,question_id,user_id;return assignedwork_id=opts.assignedwork_id,question_id=opts.question_id,user_id=(user_id=opts.user_id)||_this.session.user.id,opts.stores.trigger("feedback_delete",id,assignedwork_id,question_id,user_id)}}(this),this.updatemessage=function(_this){return function(e){var newtext,old,ref;return old=e.item,newtext=null!=(ref=_this.root.querySelector("[name=update_text]"))?ref.value:void 0,old.id&&newtext&&opts.stores.trigger("feedback_update",old.id,newtext,old.assignedwork_id,old.question_id,old.user_id),old.id&&""===newtext&&_this.delete(old.id),_this.update({editing:!1})}}(this),this.handleForm=function(_this){return function(e){var text,user_id;if(e.preventDefault(),_this.message_text.value&&0<_this.message_text.value.length)return text=_this.message_text.value,_this.message_text.value="",user_id=opts.user_id||_this.session.user.id,opts.stores.trigger("feedback_add",opts.assigned_id,opts.question_id,user_id,text,_this.wholeClass)}}(this),this.setWholeClass=function(_this){return function(ev){return _this.wholeClass=ev.value,_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("teachersfeedback",'<panel heading="Feedback"> <div class="btn-toolbar"> <div class="btn-group"> <button onclick="{parent.showRecent}" class="btn btn-sm {parent.mode==\'recent\' ? \'btn-primary\' : \'btn-default\'}">Recent & Unread Messages </button> <button onclick="{parent.showAll}" class="btn btn-sm {parent.mode==\'all\' ? \'btn-primary\' : \'btn-default\'}">All Messages</button> </div> </div><br> <grid columns="{parent.columns}" data="{parent.feedback}" height="370px" onselect="{parent.handleSelect}" onedit="{parent.handleSelect}"> <p if="{!parent.feedback}"> <i class="fa fa-spinner fa-pulse"> </i>Loading Data</p> <p if="{!parent.feedback.length}">You have no student feedback</p> </grid> </panel>',"","",function(opts){var _this;this.feedback=null,this.mode="recent",this.columns=[{field:"read_at",label:"",width:"3%",tag:"gridunread"},{field:"name",label:"From",width:"22%"},{field:"title",label:"Assignment Title",width:"20%"},{field:"message",label:"Message",width:"27%"},{field:"created_at",label:"Created",width:"14%",dateformat:"HH:mm dd/MM/yyyy"},{field:"read_at",label:"Read",width:"14%",dateformat:"HH:mm dd/MM/yyyy"}],this.on("mount",function(){return opts.stores.on("feedback_all_changed",this.feedbackUpdated),opts.stores.trigger("feedback_all")}),this.on("unmount",function(){return opts.stores.off("feedback_all_changed",this.feedbackUpdated)}),this.feedbackUpdated=(_this=this,function(feedback){return _this.feedback=feedback,_this.update()}),this.handleSelect=function(sel){return window.location="/vle/classes/_/"+sel.user_id+"/"+sel.assignedwork_id+"/"+sel.question_id},this.showRecent=function(_this){return function(){return _this.update({mode:"recent"}),opts.stores.trigger("feedback_all")}}(this),this.showAll=function(_this){return function(){return _this.update({mode:"all"}),opts.stores.trigger("feedback_all",!0)}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("barchart",'<canvas name="canv" height="{opts.height || 400}" width="{opts.width || 400}"></canvas>',"barchart{display:block;}","",function(opts){var Chart,_this;Chart=__webpack_require__(6),this.on("mount",function(){var ctx;return Chart.defaults.global.responsive=!0,ctx=this.canv.getContext("2d"),this.chart=new Chart(ctx).Bar(opts.data,opts.options)}),this.on("update",(_this=this,function(){if(_this.chart&&opts.data.datasets)return _this.chart.initialize(opts.data,opts.options)}))})},function(module,exports,__webpack_require__){var map={"./af":16,"./af.js":16,"./ar":17,"./ar-dz":18,"./ar-dz.js":18,"./ar-kw":19,"./ar-kw.js":19,"./ar-ly":20,"./ar-ly.js":20,"./ar-ma":21,"./ar-ma.js":21,"./ar-sa":22,"./ar-sa.js":22,"./ar-tn":23,"./ar-tn.js":23,"./ar.js":17,"./az":24,"./az.js":24,"./be":25,"./be.js":25,"./bg":26,"./bg.js":26,"./bm":27,"./bm.js":27,"./bn":28,"./bn.js":28,"./bo":29,"./bo.js":29,"./br":30,"./br.js":30,"./bs":31,"./bs.js":31,"./ca":32,"./ca.js":32,"./cs":33,"./cs.js":33,"./cv":34,"./cv.js":34,"./cy":35,"./cy.js":35,"./da":36,"./da.js":36,"./de":37,"./de-at":38,"./de-at.js":38,"./de-ch":39,"./de-ch.js":39,"./de.js":37,"./dv":40,"./dv.js":40,"./el":41,"./el.js":41,"./en-SG":42,"./en-SG.js":42,"./en-au":43,"./en-au.js":43,"./en-ca":44,"./en-ca.js":44,"./en-gb":45,"./en-gb.js":45,"./en-ie":46,"./en-ie.js":46,"./en-il":47,"./en-il.js":47,"./en-nz":48,"./en-nz.js":48,"./eo":49,"./eo.js":49,"./es":50,"./es-do":51,"./es-do.js":51,"./es-us":52,"./es-us.js":52,"./es.js":50,"./et":53,"./et.js":53,"./eu":54,"./eu.js":54,"./fa":55,"./fa.js":55,"./fi":56,"./fi.js":56,"./fo":57,"./fo.js":57,"./fr":58,"./fr-ca":59,"./fr-ca.js":59,"./fr-ch":60,"./fr-ch.js":60,"./fr.js":58,"./fy":61,"./fy.js":61,"./ga":62,"./ga.js":62,"./gd":63,"./gd.js":63,"./gl":64,"./gl.js":64,"./gom-latn":65,"./gom-latn.js":65,"./gu":66,"./gu.js":66,"./he":67,"./he.js":67,"./hi":68,"./hi.js":68,"./hr":69,"./hr.js":69,"./hu":70,"./hu.js":70,"./hy-am":71,"./hy-am.js":71,"./id":72,"./id.js":72,"./is":73,"./is.js":73,"./it":74,"./it-ch":75,"./it-ch.js":75,"./it.js":74,"./ja":76,"./ja.js":76,"./jv":77,"./jv.js":77,"./ka":78,"./ka.js":78,"./kk":79,"./kk.js":79,"./km":80,"./km.js":80,"./kn":81,"./kn.js":81,"./ko":82,"./ko.js":82,"./ku":83,"./ku.js":83,"./ky":84,"./ky.js":84,"./lb":85,"./lb.js":85,"./lo":86,"./lo.js":86,"./lt":87,"./lt.js":87,"./lv":88,"./lv.js":88,"./me":89,"./me.js":89,"./mi":90,"./mi.js":90,"./mk":91,"./mk.js":91,"./ml":92,"./ml.js":92,"./mn":93,"./mn.js":93,"./mr":94,"./mr.js":94,"./ms":95,"./ms-my":96,"./ms-my.js":96,"./ms.js":95,"./mt":97,"./mt.js":97,"./my":98,"./my.js":98,"./nb":99,"./nb.js":99,"./ne":100,"./ne.js":100,"./nl":101,"./nl-be":102,"./nl-be.js":102,"./nl.js":101,"./nn":103,"./nn.js":103,"./pa-in":104,"./pa-in.js":104,"./pl":105,"./pl.js":105,"./pt":106,"./pt-br":107,"./pt-br.js":107,"./pt.js":106,"./ro":108,"./ro.js":108,"./ru":109,"./ru.js":109,"./sd":110,"./sd.js":110,"./se":111,"./se.js":111,"./si":112,"./si.js":112,"./sk":113,"./sk.js":113,"./sl":114,"./sl.js":114,"./sq":115,"./sq.js":115,"./sr":116,"./sr-cyrl":117,"./sr-cyrl.js":117,"./sr.js":116,"./ss":118,"./ss.js":118,"./sv":119,"./sv.js":119,"./sw":120,"./sw.js":120,"./ta":121,"./ta.js":121,"./te":122,"./te.js":122,"./tet":123,"./tet.js":123,"./tg":124,"./tg.js":124,"./th":125,"./th.js":125,"./tl-ph":126,"./tl-ph.js":126,"./tlh":127,"./tlh.js":127,"./tr":128,"./tr.js":128,"./tzl":129,"./tzl.js":129,"./tzm":130,"./tzm-latn":131,"./tzm-latn.js":131,"./tzm.js":130,"./ug-cn":132,"./ug-cn.js":132,"./uk":133,"./uk.js":133,"./ur":134,"./ur.js":134,"./uz":135,"./uz-latn":136,"./uz-latn.js":136,"./uz.js":135,"./vi":137,"./vi.js":137,"./x-pseudo":138,"./x-pseudo.js":138,"./yo":139,"./yo.js":139,"./zh-cn":140,"./zh-cn.js":140,"./zh-hk":141,"./zh-hk.js":141,"./zh-tw":142,"./zh-tw.js":142};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(__webpack_require__.o(map,req))return map[req];var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,(module.exports=webpackContext).id=231},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("linechart",'<canvas name="canv" height="{opts.height || 400}" width="{opts.width || 400}"></canvas>',"linechart{display:block;}","",function(opts){var Chart,_this;Chart=__webpack_require__(6),this.chart=null,this.on("mount",function(){var ctx;return Chart.defaults.global.responsive=!0,ctx=this.canv.getContext("2d"),this.chart=new Chart(ctx,{type:"line",data:opts.data,options:opts.options})}),this.on("update",(_this=this,function(){if(_this.chart)return _this.chart.data.datasets.length=opts.data.datasets.length,opts.data.datasets.forEach(function(dataset,idx){return _this.chart.data.datasets[idx]=dataset}),_this.chart.update()}))})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("menu",'<li if="{label}" each="{opts.routes}" class="{\'active\':isActive(path)}"><a href="{path}" onclick="{goto}">{label}</a></li><yield></yield>',"","",function(opts){var _this;this.isActive=function(path){var wlp;return(wlp=window.location.pathname).substr(0,path.length)===path&&"/vle/"!==path||path===wlp},this.goto=(_this=this,function(e){return opts.clicked&&opts.clicked(e),setTimeout(function(){return _this.update()}),!0})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("panel",'<div class="clearfix"> <h5 if="{opts.heading}" class="blockheader">{opts.heading}</h5><yield></yield> </div>',"","",function(opts){})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("piechart",'<canvas id="canvas" height="{opts.height || 400}" width="{opts.width || 400}"></canvas> <div name="legend"></div>',"piechart{display:block;} piechart ul{list-style:none;margin:0;padding:0;} piechart li span{ display: inline-block; width: 12px; height: 12px; margin-right: 5px; }","",function(opts){var Chart,_this;Chart=__webpack_require__(6),this.on("mount",(_this=this,function(){var ctx;return _this.pieoptions={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutQuart",animateRotate:!0,animateScale:!1},Chart.defaults.global.responsive=!0,ctx=_this.canvas.getContext("2d"),_this.chart=new Chart(ctx).Doughnut(opts.data,_this.pieoptions),_this.legend.innerHTML=_this.chart.generateLegend()})),this.on("update",function(_this){return function(){if(opts.data&&_this.chart)return _this.chart.initialize(opts.data,_this.pieoptions)}}(this))})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("vimeoplayer",'<div class="embed-responsive embed-responsive-4by3"> <iframe if="{!mp4}" show="{opts.vimeoid}" name="player" riot-src="https://player.vimeo.com/video/{opts.vimeoid}?badge=0&amp;byline=0&amp;portrait=false&amp;title=false&amp;color=#3FA9F5&amp;api=1" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" class="embed-responsive-item"> </iframe> <div if="{videourl &amp;&amp; mp4}"> <video riot-src="{videourl}" controls="true" autoplay onmousedown="{vidclicked}" name="video" type="video/mp4" controlslist="nodownload"></video> </div> <div if="{!videourl &amp;&amp; mp4}" onclick="{playmp4}" class="logo playscreen"> <h3>{opts.videotitle} <br> <small>Click to play</small></h3> </div> <div if="{!opts.vimeoid}" class="logo"> <p>Please choose a video in the menu opposite.</p> </div> </div>','vimeoplayer { color: #fff; display: block; position: relative; } vimeoplayer .logo { position: absolute; background-image: url("/resources/video.png"); background-repeat: no-repeat; -webkit-background-size: 100%; -moz-background-size: 100%; background-size: 100%; background-position: 50% 20%; background-color: #1a1a1a; top: 0; bottom: 0; left: 0; right: 0; } @media (max-width: 976px) { vimeoplayer .logo { background-position: 50% 0%; -webkit-background-size: 90%; -moz-background-size: 90%; background-size: 90%; } } vimeoplayer p, vimeoplayer h3 { position: absolute; left: 0; right: 0; text-align: center; bottom: 33%; } vimeoplayer .overlay { position: absolute; top: 0; left: 0; bottom: 0; right: 0; z-index: 1; background: rgba(0,0,0,0.5); } vimeoplayer .playscreen { cursor: pointer; } vimeoplayer .playscreen:hover { opacity: 0.8; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)"; filter: alpha(opacity=80); } vimeoplayer video::-webkit-media-controls-enclosure { overflow: hidden; } vimeoplayer video::-webkit-media-controls-panel { width: calc(100% + 30px); background-color: rgba(0,0,0,0.8); background: rgba(0,0,0,0.1); } vimeoplayer video::-webkit-media-controls-overlay-play-button { opacity: 0.7; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"; filter: alpha(opacity=70); }',"",function(opts){var ipRangeCheck,playerOrigin,request,_this;playerOrigin="*",request=__webpack_require__(2),ipRangeCheck=__webpack_require__(237),this.mp4=!1,this.on("mount",function(){return this.videourl=null,this.player=this.root.querySelector("iframe"),this.played=[],window.addEventListener("message",this.onMessageReceived,!1),opts.stores.on("session_changed",this.sessionUpdated),opts.stores.trigger("session_sync")}),this.on("unmount",function(){var ex;opts.stores.off("session_changed",this.sessionUpdated),window.removeEventListener("message",this.onMessageReceived);try{return this.video.removeEventListener("play"),this.video.removeEventListener("pause")}catch(error){return ex=error,console.log(ex)}}),this.on("update",function(){if(this.hashfor!==opts.vimeoid)return this.videourl=null}),this.onMessageReceived=(_this=this,function(event){var data;if(!/^https?:\/\/player.vimeo.com/.test(event.origin))return!1;"*"===playerOrigin&&(playerOrigin=event.origin);try{switch((data=JSON.parse(event.data)).event){case"ready":return _this.onReady();case"playProgress":return _this.onPlayProgress(data.data);case"pause":return _this.onPause();case"finish":return _this.onFinish()}}catch(error){}}),this.post=function(_this){return function(action,value){var data,message,ref;if(data={method:action},value&&(data.value=value),message=JSON.stringify(data),null!=(ref=_this.player.contentWindow)?ref.postMessage:void 0)return _this.player.contentWindow.postMessage(message,playerOrigin)}}(this),this.onReady=function(_this){return function(){return _this.post("removeEventListener","pause"),_this.post("removeEventListener","finish"),_this.post("removeEventListener","playProgress"),_this.post("addEventListener","pause"),_this.post("addEventListener","finish"),_this.post("addEventListener","playProgress")}}(this),this.onFinish=function(){return ga("send",{hitType:"event",eventCategory:"video",eventAction:"finished",eventLabel:opts.videoid+" "+opts.videotitle})},this.onPlayProgress=function(_this){return function(data){if(window.lastinteraction=new Date,opts.videoid&&-1===_this.played.indexOf(opts.videoid)&&data.seconds>.75*data.duration)return _this.played.push(opts.videoid),opts.vimeoid!==opts.video.url?opts.stores.trigger("log_save",{video_id:opts.videoid,type:"ommStart"}):opts.stores.trigger("log_save",{video_id:opts.videoid,type:"videoStart"}),ga("send",{hitType:"event",eventCategory:"video",eventAction:"play",eventLabel:opts.videoid+" "+opts.videotitle})}}(this),this.vidclicked=function(_this){return function(e){return 3===e.which?_this.video.addEventListener("contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}):_this.video.removeEventListener("contextmenu"),!0}}(this),this.sessionUpdated=function(_this){return function(session){var ips,ref,ref1,ref2,ref3,ref4;return(null!=(ref=session.user)&&null!=(ref1=ref.remoteAddress)?ref1.length:void 0)||"127.0.0.1"!==(null!=(ref2=session.org)?ref2.ip:void 0)||(_this.mp4=!0),null!=(null!=(ref3=session.user)?ref3.remoteAddress:void 0)&&(null!=(ref4=session.org)?ref4.ip:void 0)&&(ips=session.org.ip.split(" "),("string"==typeof session.user.remoteAddress?[session.user.remoteAddress]:session.user.remoteAddress).forEach(function(remote){if(!1===_this.mp4)return _this.mp4=ipRangeCheck(remote,ips)})),_this.update()}}(this),this.playmp4=function(_this){return function(){var omm,video;return video=opts.video.qualification+"/Clip"+opts.video.clip_id+".mp4",_this.hashfor=opts.vimeoid,omm=opts.vimeoid!==opts.video.url,_this.vid_interval=null,_this.video.addEventListener("play",function(){return _this.vid_interval=setInterval(function(){return _this.onPlayProgress({seconds:_this.video.currentTime,duration:_this.video.duration})},1e3)}),_this.video.addEventListener("pause",function(){return clearInterval(_this.vid_interval)}),request.get("/duocms/api/videocheck/"+opts.video.id).query({video:video,omm:omm}).end(function(err,res){var callback,data;return(null!=res?res.unauthorized:void 0)?(callback=function(){return opts.stores.trigger("video_load"),opts.stores.one("video_changed",function(){return _this.playmp4()})},opts.stores.trigger("login_autherror",callback)):(data=res.body.data,_this.videourl="https://mwvideo.duointernet.com/?token="+data.token+"&video="+data.video,_this.update(),_this.video.play())})}}(this)})},function(module,exports,__webpack_require__){var ipaddr=__webpack_require__(238);function check_single_cidr(addr,cidr){try{var parsed_addr=ipaddr.process(addr);if(-1===cidr.indexOf("/")){var parsed_cidr_as_ip=ipaddr.process(cidr);return"ipv6"===parsed_addr.kind()&&"ipv6"===parsed_cidr_as_ip.kind()?parsed_addr.toNormalizedString()===parsed_cidr_as_ip.toNormalizedString():parsed_addr.toString()==parsed_cidr_as_ip.toString()}var parsed_range=ipaddr.parseCIDR(cidr);return parsed_addr.match(parsed_range)}catch(e){return!1}}module.exports=function(addr,range){{if("string"==typeof range)return check_single_cidr(addr,range);if("object"==typeof range){for(var ip_is_in_range=!1,i=0;i<range.length;i++)if(check_single_cidr(addr,range[i])){ip_is_in_range=!0;break}return ip_is_in_range}}}},function(module,exports,__webpack_require__){(function(module){(function(){var expandIPv6,ipaddr,ipv4Part,ipv4Regexes,ipv6Part,ipv6Regexes,matchCIDR;function IPv4(octets){var k,len,octet;if(4!==octets.length)throw new Error("ipaddr: ipv4 octet count should be 4");for(k=0,len=octets.length;k<len;k++)if(!(0<=(octet=octets[k])&&octet<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=octets}function IPv6(parts,zoneId){var i,k,l,len,part,ref;if(16===parts.length)for(this.parts=[],i=k=0;k<=14;i=k+=2)this.parts.push(parts[i]<<8|parts[i+1]);else{if(8!==parts.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=parts}for(l=0,len=(ref=this.parts).length;l<len;l++)if(!(0<=(part=ref[l])&&part<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");zoneId&&(this.zoneId=zoneId)}ipaddr={},null!==module&&module.exports?module.exports=ipaddr:this.ipaddr=ipaddr,matchCIDR=function(first,second,partSize,cidrBits){var part,shift;if(first.length!==second.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(part=0;0<cidrBits;){if((shift=partSize-cidrBits)<0&&(shift=0),first[part]>>shift!=second[part]>>shift)return!1;cidrBits-=partSize,part+=1}return!0},ipaddr.subnetMatch=function(address,rangeList,defaultName){var k,len,rangeName,rangeSubnets,subnet;for(rangeName in null==defaultName&&(defaultName="unicast"),rangeList)for(!(rangeSubnets=rangeList[rangeName])[0]||rangeSubnets[0]instanceof Array||(rangeSubnets=[rangeSubnets]),k=0,len=rangeSubnets.length;k<len;k++)if(subnet=rangeSubnets[k],address.kind()===subnet[0].kind()&&address.match.apply(address,subnet))return rangeName;return defaultName},ipaddr.IPv4=(IPv4.prototype.kind=function(){return"ipv4"},IPv4.prototype.toString=function(){return this.octets.join(".")},IPv4.prototype.toNormalizedString=function(){return this.toString()},IPv4.prototype.toByteArray=function(){return this.octets.slice(0)},IPv4.prototype.match=function(other,cidrRange){var ref;if(void 0===cidrRange&&(other=(ref=other)[0],cidrRange=ref[1]),"ipv4"!==other.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return matchCIDR(this.octets,other.octets,8,cidrRange)},IPv4.prototype.SpecialRanges={unspecified:[[new IPv4([0,0,0,0]),8]],broadcast:[[new IPv4([255,255,255,255]),32]],multicast:[[new IPv4([224,0,0,0]),4]],linkLocal:[[new IPv4([169,254,0,0]),16]],loopback:[[new IPv4([127,0,0,0]),8]],carrierGradeNat:[[new IPv4([100,64,0,0]),10]],private:[[new IPv4([10,0,0,0]),8],[new IPv4([172,16,0,0]),12],[new IPv4([192,168,0,0]),16]],reserved:[[new IPv4([192,0,0,0]),24],[new IPv4([192,0,2,0]),24],[new IPv4([192,88,99,0]),24],[new IPv4([198,51,100,0]),24],[new IPv4([203,0,113,0]),24],[new IPv4([240,0,0,0]),4]]},IPv4.prototype.range=function(){return ipaddr.subnetMatch(this,this.SpecialRanges)},IPv4.prototype.toIPv4MappedAddress=function(){return ipaddr.IPv6.parse("::ffff:"+this.toString())},IPv4.prototype.prefixLengthFromSubnetMask=function(){var cidr,i,k,octet,stop,zeros,zerotable;for(zerotable={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:cidr=0},stop=!1,i=k=3;0<=k;i=k+=-1){if(!((octet=this.octets[i])in zerotable))return null;if(zeros=zerotable[octet],stop&&0!==zeros)return null;8!==zeros&&(stop=!0),cidr+=zeros}return 32-cidr},IPv4),ipv4Part="(0?\\d+|0x[a-f0-9]+)",ipv4Regexes={fourOctet:new RegExp("^"+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"$","i"),longValue:new RegExp("^"+ipv4Part+"$","i")},ipaddr.IPv4.parser=function(string){var match,parseIntAuto,part,shift,value;if(parseIntAuto=function(string){return"0"===string[0]&&"x"!==string[1]?parseInt(string,8):parseInt(string)},match=string.match(ipv4Regexes.fourOctet))return function(){var k,len,ref,results;for(results=[],k=0,len=(ref=match.slice(1,6)).length;k<len;k++)part=ref[k],results.push(parseIntAuto(part));return results}();if(match=string.match(ipv4Regexes.longValue)){if(4294967295<(value=parseIntAuto(match[1]))||value<0)throw new Error("ipaddr: address outside defined range");return function(){var k,results;for(results=[],shift=k=0;k<=24;shift=k+=8)results.push(value>>shift&255);return results}().reverse()}return null},ipaddr.IPv6=(IPv6.prototype.kind=function(){return"ipv6"},IPv6.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},IPv6.prototype.toRFC5952String=function(){var bestMatchIndex,bestMatchLength,match,regex,string;for(regex=/((^|:)(0(:|$)){2,})/g,string=this.toNormalizedString(),bestMatchIndex=0,bestMatchLength=-1;match=regex.exec(string);)match[0].length>bestMatchLength&&(bestMatchIndex=match.index,bestMatchLength=match[0].length);return bestMatchLength<0?string:string.substring(0,bestMatchIndex)+"::"+string.substring(bestMatchIndex+bestMatchLength)},IPv6.prototype.toByteArray=function(){var bytes,k,len,part,ref;for(bytes=[],k=0,len=(ref=this.parts).length;k<len;k++)part=ref[k],bytes.push(part>>8),bytes.push(255&part);return bytes},IPv6.prototype.toNormalizedString=function(){var addr,part,suffix;return addr=function(){var k,len,ref,results;for(results=[],k=0,len=(ref=this.parts).length;k<len;k++)part=ref[k],results.push(part.toString(16));return results}.call(this).join(":"),suffix="",this.zoneId&&(suffix="%"+this.zoneId),addr+suffix},IPv6.prototype.toFixedLengthString=function(){var addr,part,suffix;return addr=function(){var k,len,ref,results;for(results=[],k=0,len=(ref=this.parts).length;k<len;k++)part=ref[k],results.push(part.toString(16).padStart(4,"0"));return results}.call(this).join(":"),suffix="",this.zoneId&&(suffix="%"+this.zoneId),addr+suffix},IPv6.prototype.match=function(other,cidrRange){var ref;if(void 0===cidrRange&&(other=(ref=other)[0],cidrRange=ref[1]),"ipv6"!==other.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return matchCIDR(this.parts,other.parts,16,cidrRange)},IPv6.prototype.SpecialRanges={unspecified:[new IPv6([0,0,0,0,0,0,0,0]),128],linkLocal:[new IPv6([65152,0,0,0,0,0,0,0]),10],multicast:[new IPv6([65280,0,0,0,0,0,0,0]),8],loopback:[new IPv6([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new IPv6([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new IPv6([0,0,0,0,0,65535,0,0]),96],rfc6145:[new IPv6([0,0,0,0,65535,0,0,0]),96],rfc6052:[new IPv6([100,65435,0,0,0,0,0,0]),96],"6to4":[new IPv6([8194,0,0,0,0,0,0,0]),16],teredo:[new IPv6([8193,0,0,0,0,0,0,0]),32],reserved:[[new IPv6([8193,3512,0,0,0,0,0,0]),32]]},IPv6.prototype.range=function(){return ipaddr.subnetMatch(this,this.SpecialRanges)},IPv6.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},IPv6.prototype.toIPv4Address=function(){var high,low,ref;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return high=(ref=this.parts.slice(-2))[0],low=ref[1],new ipaddr.IPv4([high>>8,255&high,low>>8,255&low])},IPv6.prototype.prefixLengthFromSubnetMask=function(){var cidr,i,k,part,stop,zeros,zerotable;for(zerotable={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:cidr=0},stop=!1,i=k=7;0<=k;i=k+=-1){if(!((part=this.parts[i])in zerotable))return null;if(zeros=zerotable[part],stop&&0!==zeros)return null;16!==zeros&&(stop=!0),cidr+=zeros}return 128-cidr},IPv6),ipv6Part="(?:[0-9a-f]+::?)+",ipv6Regexes={zoneIndex:new RegExp("%[0-9a-z]{1,}","i"),native:new RegExp("^(::)?("+ipv6Part+")?([0-9a-f]+)?(::)?(%[0-9a-z]{1,})?$","i"),transitional:new RegExp("^((?:"+ipv6Part+")|(?:::)(?:"+ipv6Part+")?)"+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"(%[0-9a-z]{1,})?$","i")},expandIPv6=function(string,parts){var colonCount,lastColon,part,replacement,replacementCount,zoneId;if(string.indexOf("::")!==string.lastIndexOf("::"))return null;for((zoneId=(string.match(ipv6Regexes.zoneIndex)||[])[0])&&(zoneId=zoneId.substring(1),string=string.replace(/%.+$/,"")),colonCount=0,lastColon=-1;0<=(lastColon=string.indexOf(":",lastColon+1));)colonCount++;if("::"===string.substr(0,2)&&colonCount--,"::"===string.substr(-2,2)&&colonCount--,parts<colonCount)return null;for(replacementCount=parts-colonCount,replacement=":";replacementCount--;)replacement+="0:";return":"===(string=string.replace("::",replacement))[0]&&(string=string.slice(1)),":"===string[string.length-1]&&(string=string.slice(0,-1)),{parts:parts=function(){var k,len,ref,results;for(results=[],k=0,len=(ref=string.split(":")).length;k<len;k++)part=ref[k],results.push(parseInt(part,16));return results}(),zoneId:zoneId}},ipaddr.IPv6.parser=function(string){var addr,k,len,match,octet,octets,zoneId;if(ipv6Regexes.native.test(string))return expandIPv6(string,8);if((match=string.match(ipv6Regexes.transitional))&&(zoneId=match[6]||"",(addr=expandIPv6(match[1].slice(0,-1)+zoneId,6)).parts)){for(k=0,len=(octets=[parseInt(match[2]),parseInt(match[3]),parseInt(match[4]),parseInt(match[5])]).length;k<len;k++)if(!(0<=(octet=octets[k])&&octet<=255))return null;return addr.parts.push(octets[0]<<8|octets[1]),addr.parts.push(octets[2]<<8|octets[3]),{parts:addr.parts,zoneId:addr.zoneId}}return null},ipaddr.IPv4.isIPv4=ipaddr.IPv6.isIPv6=function(string){return null!==this.parser(string)},ipaddr.IPv4.isValid=function(string){try{return new this(this.parser(string)),!0}catch(error1){return error1,!1}},ipaddr.IPv4.isValidFourPartDecimal=function(string){return!(!ipaddr.IPv4.isValid(string)||!string.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},ipaddr.IPv6.isValid=function(string){var addr;if("string"==typeof string&&-1===string.indexOf(":"))return!1;try{return new this((addr=this.parser(string)).parts,addr.zoneId),!0}catch(error1){return error1,!1}},ipaddr.IPv4.parse=function(string){var parts;if(null===(parts=this.parser(string)))throw new Error("ipaddr: string is not formatted like ip address");return new this(parts)},ipaddr.IPv6.parse=function(string){var addr;if(null===(addr=this.parser(string)).parts)throw new Error("ipaddr: string is not formatted like ip address");return new this(addr.parts,addr.zoneId)},ipaddr.IPv4.parseCIDR=function(string){var maskLength,match,parsed;if((match=string.match(/^(.+)\/(\d+)$/))&&0<=(maskLength=parseInt(match[2]))&&maskLength<=32)return parsed=[this.parse(match[1]),maskLength],Object.defineProperty(parsed,"toString",{value:function(){return this.join("/")}}),parsed;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},ipaddr.IPv4.subnetMaskFromPrefixLength=function(prefix){var filledOctetCount,j,octets;if((prefix=parseInt(prefix))<0||32<prefix)throw new Error("ipaddr: invalid IPv4 prefix length");for(octets=[0,0,0,0],j=0,filledOctetCount=Math.floor(prefix/8);j<filledOctetCount;)octets[j]=255,j++;return filledOctetCount<4&&(octets[filledOctetCount]=Math.pow(2,prefix%8)-1<<8-prefix%8),new this(octets)},ipaddr.IPv4.broadcastAddressFromCIDR=function(string){var cidr,i,ipInterfaceOctets,octets,subnetMaskOctets;try{for(ipInterfaceOctets=(cidr=this.parseCIDR(string))[0].toByteArray(),subnetMaskOctets=this.subnetMaskFromPrefixLength(cidr[1]).toByteArray(),octets=[],i=0;i<4;)octets.push(parseInt(ipInterfaceOctets[i],10)|255^parseInt(subnetMaskOctets[i],10)),i++;return new this(octets)}catch(error1){throw error1,new Error("ipaddr: the address does not have IPv4 CIDR format")}},ipaddr.IPv4.networkAddressFromCIDR=function(string){var cidr,i,ipInterfaceOctets,octets,subnetMaskOctets;try{for(ipInterfaceOctets=(cidr=this.parseCIDR(string))[0].toByteArray(),subnetMaskOctets=this.subnetMaskFromPrefixLength(cidr[1]).toByteArray(),octets=[],i=0;i<4;)octets.push(parseInt(ipInterfaceOctets[i],10)&parseInt(subnetMaskOctets[i],10)),i++;return new this(octets)}catch(error1){throw error1,new Error("ipaddr: the address does not have IPv4 CIDR format")}},ipaddr.IPv6.parseCIDR=function(string){var maskLength,match,parsed;if((match=string.match(/^(.+)\/(\d+)$/))&&0<=(maskLength=parseInt(match[2]))&&maskLength<=128)return parsed=[this.parse(match[1]),maskLength],Object.defineProperty(parsed,"toString",{value:function(){return this.join("/")}}),parsed;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},ipaddr.isValid=function(string){return ipaddr.IPv6.isValid(string)||ipaddr.IPv4.isValid(string)},ipaddr.parse=function(string){if(ipaddr.IPv6.isValid(string))return ipaddr.IPv6.parse(string);if(ipaddr.IPv4.isValid(string))return ipaddr.IPv4.parse(string);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},ipaddr.parseCIDR=function(string){try{return ipaddr.IPv6.parseCIDR(string)}catch(error1){error1;try{return ipaddr.IPv4.parseCIDR(string)}catch(error1){throw error1,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},ipaddr.fromByteArray=function(bytes){var length;if(4===(length=bytes.length))return new ipaddr.IPv4(bytes);if(16===length)return new ipaddr.IPv6(bytes);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},ipaddr.process=function(string){var addr;return"ipv6"===(addr=this.parse(string)).kind()&&addr.isIPv4MappedAddress()?addr.toIPv4Address():addr}}).call(this)}).call(this,__webpack_require__(15)(module))},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("crudbuttons",'<div style="padding-bottom:15px;" class="btn-toolbar"> <button if="{opts.onadd != null}" onclick="{handleAdd}" class="btn btn-primary btn-sm">Create {opts.type}</button> <button if="{opts.onedit != null}" onclick="{handleEdit}" class="btn btn-primary btn-sm {disabled:!opts.active}">Edit {opts.type}</button> <confirm if="{opts.ondelete != null}" onconfirm="{handleDelete}" class="btn btn-primary btn-sm {disabled:!opts.active}">Delete {opts.type}</confirm><yield></yield> </div>',"","",function(opts){this.handleAdd=function(){if(opts.onadd&&"function"==typeof opts.onadd)return opts.onadd()},this.handleEdit=function(){if(opts.onedit&&opts.active&&"function"==typeof opts.onedit)return opts.onedit(opts.active)},this.handleDelete=function(){if(opts.ondelete&&opts.active&&"function"==typeof opts.ondelete)return opts.ondelete(opts.active)}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("toaster",'<div each="{slices}" class="toast-slice toast-{type} {transition}"><a onclick="{parent.close}" class="toast-close">&times;</a> <h3>{title}</h3> <p class="pre">{message}</p> </div>',"","",function(opts){var _this;this.handleChange=(_this=this,function(slices){return _this.slices=slices,_this.update()}),this.on("mount",function(){return opts.stores.on("toaster_changed",(_this=this,function(slices){return _this.slices=slices,_this.update()}));var _this}),this.on("unmount",function(){return opts.stores.off("toaster_changed")}),this.close=function(event){return opts.stores.trigger("toaster_remove",event.item)}})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("login",'<modal id="loginmodal" title="Login" onclose="{handleClose}" closetext="View Demo" onsave="{handleLogin}" bssize="md" savetext="Login"> <form onsubmit="{parent.handleLogin}" class="form-horizontal"> <forminput id="username" onupdate="{parent.handleChange}" value="{parent.user.username}" label="Username"></forminput> <forminput id="password" type="password" onupdate="{parent.handleChange}" value="{parent.user.password}" label="Password"></forminput> <div class="pull-right"> <button onclick="{parent.forgot}" type="button" class="btn btn-link">Forgot Password?</button> </div> <input type="submit" style="opacity:0;margin:0;padding:0"> <div style="position:absolute;bottom:-50px;left:15px;" class="btn-toolbar"><a href="/duocms/api/wonde/login/" class="btn btn-default"> <div style="height:20px;width:20px;float:left;margin-right:4px;"><svg width="100%" height="100%" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewbox="200 100 450 400" xml:space="preserve"><path d="M627 178.7c-6.6-11.5-16-20.4-26.8-26.4l-143-82.5c-10.6-6.3-23-10-36.3-10-13.3 0-25.7 3.6-36.3 10l-143 82.5c-10.8 6-20.2 15-26.8 26.4-6.6 11.5-9.7 24.1-9.5 36.4v165.1c-.2 12.4 2.9 24.9 9.5 36.4s16 20.4 26.8 26.4l143 82.5c10.6 6.3 23 10 36.3 10 13.3 0 25.7-3.6 36.3-10l143-82.5c10.8-6 20.2-15 26.8-26.4 6.6-11.5 9.7-24.1 9.5-36.4V215.1c.2-12.4-2.9-24.9-9.5-36.4z" fill="#3d85ff"></path><g opacity=".4"><path class="st2" d="M537.8 214.2c-13.4 0-25 7.9-30.3 19.3l-58.2 124.7c-2.2 4.4-3.4 9.4-3.4 14.6 0 18.4 15 33.4 33.4 33.4 13.4 0 25-7.9 30.3-19.3l58.2-124.7c2.2-4.4 3.4-9.4 3.4-14.6 0-18.5-14.9-33.4-33.4-33.4zM454.3 247.5c0-18.4-15-33.4-33.4-33.4-13.4 0-25 7.9-30.3 19.3l-58.2 124.7c-2.2 4.4-3.4 9.4-3.4 14.6 0 18.4 15 33.4 33.4 33.4 13.4 0 25-7.9 30.3-19.3L451 262.2c2.1-4.5 3.3-9.4 3.3-14.7z"></path></g><path class="st2" d="M451.2 233.5c-5.3-11.4-16.9-19.3-30.3-19.3-18.4 0-33.4 15-33.4 33.4 0 5.2 1.2 10.2 3.4 14.6l58.2 124.7c5.3 11.4 16.9 19.3 30.3 19.3 18.4 0 33.4-15 33.4-33.4 0-5.2-1.2-10.2-3.4-14.6l-58.2-124.7zM334.3 233.5c-5.3-11.4-16.9-19.3-30.3-19.3-18.4 0-33.4 15-33.4 33.4 0 5.2 1.2 10.2 3.4 14.6l58.2 124.7c5.3 11.4 16.9 19.3 30.3 19.3 18.4 0 33.4-15 33.4-33.4 0-5.2-1.2-10.2-3.4-14.6l-58.2-124.7z"></path></svg></div><span class="hidden-xs">Wonde Login</span></a><a href="/duocms/api/mw/google" class="btn btn-default"> <div style="height:20px;width:20px;float:left;margin-right:4px;"><svg width="100%" height="100%" viewbox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="btn_google_light_normal"><g id="logo_googleg_48dp"><path id="Shape" d="M17.64,9.205c0,-0.639 -0.057,-1.252 -0.164,-1.841l-8.476,-0l0,3.481l4.844,0c-0.209,1.125 -0.843,2.078 -1.796,2.716l-0,2.259l2.908,-0c1.702,-1.567 2.684,-3.875 2.684,-6.615Z" style="fill:#4285f4;"></path><path id="Shape1" serif:id="Shape" d="M9,18c2.43,0 4.467,-0.806 5.956,-2.18l-2.908,-2.259c-0.806,0.54 -1.837,0.859 -3.048,0.859c-2.344,0 -4.328,-1.583 -5.036,-3.71l-3.007,0l0,2.332c1.481,2.941 4.525,4.958 8.043,4.958Z" style="fill:#34a853;"></path><path id="Shape2" serif:id="Shape" d="M3.964,10.71c-0.18,-0.54 -0.282,-1.117 -0.282,-1.71c-0,-0.593 0.102,-1.17 0.282,-1.71l0,-2.332l-3.007,0c-0.609,1.215 -0.957,2.59 -0.957,4.042c0,1.452 0.348,2.827 0.957,4.042l3.007,-2.332Z" style="fill:#fbbc05;"></path><path id="Shape3" serif:id="Shape" d="M9,3.58c1.321,-0 2.508,0.454 3.44,1.345l2.582,-2.581c-1.559,-1.452 -3.596,-2.344 -6.022,-2.344c-3.518,0 -6.562,2.017 -8.043,4.958l3.007,2.332c0.708,-2.127 2.692,-3.71 5.036,-3.71Z" style="fill:#ea4335;"></path><rect id="Shape4" serif:id="Shape" x="0" y="0" width="18" height="18" style="fill:none;"></rect></g></g></svg></div><span class="hidden-xs">Google Login</span></a></div> </form> </modal> <modal id="forgot" title="Request Password Reset" onclose="{handleResetClose}" closetext="Close" onsave="{isReseting ? noop : resetPassword}" bssize="md" savetext="{isReseting ? \'One Moment...\' : \'Request Password Reset\'}"> <form onsubmit="{parent.resetPassword}" class="form-horizontal"> <div class="alert alert-info"> Enter your username below to reset your password. This will send a reset email <strong>if you have an email address registered with MathsWatch.</strong> </div> <forminput id="username" onupdate="{parent.handleChange}" value="{parent.user.username}" label="Username"></forminput> <input type="submit" style="opacity:0;margin:0;padding:0"> <div class="alert alert-danger"> If you haven\'t registered your email address in MathsWatch then please contact your teacher who will be able to reset your password. Also remember to register your email address next time you login successfully in MathsWatch so you can use our automated password reset in the future. </div> </form> </modal>',".st2{fill:#fff}","",function(opts){var _this;this.user={username:"",password:""},this.on("mount",(_this=this,function(){return opts.stores.on("login_success",_this.hide),opts.stores.on("reset_success",_this.handleResetClose),opts.stores.on("login_changed",function(state){return state.show?_this.show():_this.hide()}),_this.user={username:"",password:""},_this.isReseting=!1,_this.update()})),this.on("unmount",function(_this){return function(){return opts.stores.off("login_success",_this.hide),opts.stores.off("reset_success",_this.handleResetClose)}}(this)),this.show=function(_this){return function(){var modal,ref,ref1,ref2;if(null!=(null!=(modal=document.getElementById("loginmodal"))&&null!=(ref=modal._tag)?ref.show:void 0)&&modal._tag.show(),null!=(ref1=window.location)&&null!=(ref2=ref1.search)?ref2.match(/\?demo/):void 0)return _this.handleClose()}}(this),this.handleClose=function(_this){return function(){var user;return user={groups:[{name:"guest"}]},opts.stores.trigger("session_changed",{user:user}),_this.hide()}}(this),this.hide=function(_this){return function(){var modal,ref;return null!=(null!=(modal=document.getElementById("loginmodal"))&&null!=(ref=modal._tag)?ref.hide:void 0)&&modal._tag.hide(),_this.handleResetClose()}}(this),this.handleLogin=function(_this){return function(e){return e&&e.preventDefault(),_this.user.password.length<6||_this.user.username.length<3?opts.stores.trigger("toaster_add",{type:"warning",title:"Error",message:"Please type a valid username and password"}):(_this.hide(),setTimeout(function(){return opts.stores.trigger("login_attempt",_this.user),_this.user.password="",_this.update()},600))}}(this),this.handleChange=function(_this){return function(e,target,event){return _this.user[e.name]=e.value}}(this),this.handleResetClose=function(e){var modal,ref;if(null!=(null!=(modal=document.getElementById("forgot"))&&null!=(ref=modal._tag)?ref.hide:void 0))return modal._tag.hide()},this.forgot=function(_this){return function(e){var modal,ref;if(_this.update({isReseting:!1}),e.preventDefault(),null!=(null!=(modal=document.getElementById("forgot"))&&null!=(ref=modal._tag)?ref.show:void 0))return modal._tag.show()}}(this),this.noop=function(){},this.resetPassword=function(_this){return function(e){return e&&e.preventDefault(),_this.update({isReseting:!0}),_this.user.username.length<3?opts.stores.trigger("toaster_add",{type:"warning",title:"Error",message:"Please type a valid username"}):setTimeout(function(){return opts.stores.trigger("login_reset",_this.user),_this.update()},600)}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("nextprev",'<div if="{opts.label}" onclick="{set}" class="title pointer">{opts.label}</div> <div class="btn-toolbar {active:active}"><span onclick="{prev}" onmousedown="{repeater.bind(this,prev)}" ontouchstart="{repeater.bind(this,prev)}" class="btn fa fa-caret-left {disabled:+start==1}"></span><span onclick="{set}" class="btn range">{start} of {opts.total}</span><span onclick="{next}" onmousedown="{repeater.bind(this,next)}" ontouchstart="{repeater.bind(this,next)}" class="btn fa fa-caret-right {disabled:+start==+opts.total}"></span></div>',"","",function(opts){var _this;this.offset=0,this.start=1,this.on("mount",function(){return this.idx=0}),this.on("update",function(){var start;if(this.offset=null!=opts.offset?opts.offset:0,0<(start=opts.index+1-this.offset)&&start<=opts.total?(this.start=start,this.active=!0):(this.idx=0,this.active=!1),this.idx>=opts.total&&(this.idx=opts.total-1),this.start>opts.total&&(this.start=opts.total),start<=0)return this.start=1}),this.prev=(_this=this,function(){return 0<_this.idx&&_this.idx--,_this.set()}),this.set=function(_this){return function(){return opts.onchange&&opts.onchange(_this.idx+_this.offset),_this.update()}}(this),this.repeater=function(_this){return function(cback){return document.addEventListener("mouseup",_this.stoprepeater),document.addEventListener("touchend",_this.stoprepeater),_this.interval=setInterval(function(){return cback(),_this.update()},200)}}(this),this.stoprepeater=function(_this){return function(){return document.removeEventListener("mouseup",_this.stoprepeater),document.removeEventListener("touchend",_this.stoprepeater),clearInterval(_this.interval)}}(this),this.next=function(_this){return function(){return _this.idx<opts.total-1&&_this.idx++,_this.set()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("uploadbutton",'<yield></yield> <input type="file" onchange="{changed}">',"uploadbutton{ position:relative; overflow:hidden; } uploadbutton input{ position:absolute; top:0px; left:0px; right:0px; bottom:0px; opacity:0.01; }","",function(opts){var _this;this.changed=(_this=this,function(e){var files;return files=e.dataTransfer?e.dataTransfer.files:e.target?e.target.files:[],opts.onClick&&opts.onClick(files),_this.root.querySelector("input").value="",!1})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("multiselect",'<div riot-style="{active ? \'display:block\' : \'display:none\'}" class="clickblocker"></div> <formgroup> <div class="inputwrap dropdown {parent.active ? \'open\' : \'\'}"> <ul if="{parent.chosen.length}" class="selected"> <li each="{parent.chosen}">{label} <span onclick="{parent.parent.remove}" class="fa fa-times"></span></li> </ul> <input id="{parent.opts.id}" name="{parent.opts.name}" onfocus="{parent.showOptions}" value="" placeholder="{parent.opts.default}" __required="{required}" onblur="{startValidation}" class="form-control"><span class="fa fa-caret-down form-control-feedback"></span> <ul class="dropdown-menu"> <li each="{parent.opts.options}"><a onclick="{parent.parent.optionClicked}"><span riot-style="{parent.parent.isChosen(value) ? \'opacity:1\' : \'opacity:0\'}" class="fa fa-check"> </span> {label} </a></li> </ul> </div> </formgroup>','multiselect .clickblocker { position: fixed; top: 0; left: 0; bottom: 0; right: 0; background-color: #fff; opacity: 0.01; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"; filter: alpha(opacity=1); } multiselect .inputwrap { position: relative; } multiselect input:after { font: normal normal normal 14px/1 FontAwesome; content: "\\f0d7"; position: absolute; top: 0; right: 0; } multiselect .dropdown-menu li { cursor: pointer; } multiselect .selected { position: absolute; pointer-events: none; top: 2px; left: 2px; right: 32px; min-height: 29px; margin: 0; padding: 0; list-style: none; background: #fff; overflow: auto; } multiselect .selected span { cursor: pointer; pointer-events: all; } multiselect .selected li { pointer-events: all; margin: 1px 2px 0 2px; padding: 4px 10px; border-radius: 2px; display: inline-block; background: #eee; }',"",function(opts){var _this;this.chosen=[],this.active=!1,this.on("update",function(){if(opts.options&&opts.value&&!1===this.active)return this.chosen=opts.options.filter(function(option){return-1<opts.value.indexOf(+option.value)})}),this.on("updated",function(){if(this.root.querySelector(".selected"))return this.root.querySelector("input").style.height=this.root.querySelector(".selected").offsetHeight+5+"px"}),this.isChosen=(_this=this,function(value){return 0<_this.chosen.filter(function(row){return row.value===value}).length}),this.remove=function(_this){return function(e){var idx;return-1<(idx=_this.chosen.indexOf(e.item))&&_this.chosen.splice(idx,1),_this.updateValue()}}(this),this.updateValue=function(_this){return function(){var name,value;if(name=opts.name||opts.id,value=_this.chosen.map(function(item){return item.value}),null!=opts.onupdate)return opts.onupdate({name:name,value:value})}}(this),this.clickedDoc=function(_this){return function(e){return e.preventDefault(),e.stopPropagation(),document.removeEventListener("click",_this.clickedDoc),_this.root.querySelector("input").blur(),_this.updateValue(),_this.active=!1,_this.update()}}(this),this.optionClicked=function(_this){return function(e){var idx;return e.preventUpdate=!0,e.stopPropagation(),-1===(idx=_this.chosen.indexOf(e.item))?_this.chosen.push(e.item):_this.chosen.splice(idx,1),_this.update()}}(this),this.showOptions=function(_this){return function(){return _this.active=!0,setTimeout(function(){return document.addEventListener("click",_this.clickedDoc)},500),_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("nexttabs",'<yield></yield> <li><a onmousedown="{repeater.bind(this,prev)}" ontouchstart="{repeater.bind(this,prev)}" aria-label="Previous" class="btn {disabled:from==0}"> <span aria-hidden="true">&laquo;</span></a></li> <li each="{v,k in range}" no-reorder class="{active:+parent.opts.active == +v.id}"> <div if="{v.feedback_added}" style="position:absolute;top:-4px;left:0px;right:8px;text-align:right;z-index:2"> <div riot-style="{\'color:#\'+(v.feedback_unread ? \'fec600\' : \'ccc\')+\';width:20px;font-size:10px\'}" class="fa fa-comment"></div> </div><a onclick="{parent.opts.ontabchange.bind(null,v.id,k+from+1)}" class="btn"><span class="{\'label label-success\':parent.opts.iscorrect(v),\'practicecorrect\':parent.opts.practiceCorrect(v)}">{k+from+1}</span></a> </li> <li><a onmousedown="{repeater.bind(this,next)}" ontouchstart="{repeater.bind(this,next)}" aria-label="Next" class="btn rightbutton {disabled:opts.collection.length-from-1 &lt; max}"> <span aria-hidden="true">&raquo;</span></a></li>',"[riot-tag=nexttabs].nav > li > a.disabled { color: #eee; } @media (max-width: 767px) { [riot-tag=nexttabs].nav > li > a { padding: 10px 5px; min-width: 45px; } } @media (min-width: 768px) { [riot-tag=nexttabs].nav > li > a { padding: 10px 5px; min-width: 45px; } } @media (min-width: 922px) { [riot-tag=nexttabs].nav > li > a { padding: 10px 5px; min-width: 42px; } } @media (min-width: 1200px) { [riot-tag=nexttabs].nav > li > a { padding: 10px 5px; min-width: 56px; } }","",function(opts){var _this;this.on("mount",function(){if(this.reset(),opts.colwidth)return window.addEventListener("resize",this.refreshOnResize.bind(this))}),this.reset=(_this=this,function(){return _this.max||(_this.max=+opts.max||10),_this.from=0,_this.to=_this.max,_this.index=null,_this.update()}),this.on("unmount",function(){if(opts.colwidth)return window.removeEventListener("resize",this.refreshOnResize.bind(this))}),this.refreshOnResize=function(_this){return function(){var rb,ref,rightbutton,space;if(_this.lastTimeout&&clearTimeout(_this.lastTimeout),rightbutton=_this.root.querySelector(".rightbutton"))return rb=rightbutton.getBoundingClientRect(),space=_this.root.getBoundingClientRect().right-rb.right,70<_this.root.offsetHeight?(_this.max--,_this.lastTimeout=setTimeout(function(){return _this.update()},10)):60<space&&(null!=(ref=opts.collection)?ref.length:void 0)>_this.max?(_this.max++,_this.lastTimeout=setTimeout(function(){return _this.update()},10)):void 0}}(this),this.on("updated",this.refreshOnResize),this.on("update",function(){var ref,ref1,_this;if(this.max||(this.max=+opts.max||10),this.half=Math.ceil(this.max/2),opts.collection)return this.index=null,opts.collection.forEach((_this=this,function(elem,index){if(+opts.active==+elem.id)return _this.index=index})),this.index>(null!=(ref=opts.collection)?ref.length:void 0)-1&&(this.index=(null!=(ref1=opts.collection)?ref1.length:void 0)-1),this.index<0&&(this.index=0),this.autoScroll(),this.range=opts.collection.slice(this.from,this.to)}),this.repeater=function(_this){return function(cback){return document.addEventListener("mouseup",_this.stoprepeater),document.addEventListener("touchend",_this.stoprepeater),cback(),_this.update(),_this.interval=setInterval(function(){return cback(),_this.update()},200)}}(this),this.stoprepeater=function(_this){return function(){return document.removeEventListener("mouseup",_this.stoprepeater),document.removeEventListener("touchend",_this.stoprepeater),clearInterval(_this.interval)}}(this),this.next=function(_this){return function(){var ref;if(_this.to<(null!=(ref=opts.collection)?ref.length:void 0))return _this.setFrom(_this.from+1),_this.setTo(_this.to+1)}}(this),this.prev=function(_this){return function(){if(0<_this.from)return _this.setFrom(_this.from-1),_this.to=_this.from+_this.max}}(this),this.setFrom=function(_this){return function(val){return _this.from=val<0?0:val}}(this),this.setTo=function(_this){return function(val){var ref,ref1;return val>(null!=(ref=opts.collection)?ref.length:void 0)?_this.to=null!=(ref1=opts.collection)?ref1.length:void 0:_this.to=val}}(this),this.autoScroll=function(_this){return function(){var ref;return _this.to>(null!=(ref=opts.collection)?ref.length:void 0)&&(_this.from=0),_this.setTo(_this.from+_this.max)}}(this),this.setItem=function(_this){return function(){var elem;return elem=opts.collection[_this.index],opts.ontabchange(elem.id,_this.index,{item:{v:elem,k:_this.index}})}}(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("grid2",'<div riot-style="height:{opts.height}px" class="gridwrap"> <div id="mainbody" riot-style="left:{fixedLeftWidth}px;top:{rowHeight}px;bottom:0px" class="gridbody"> <div riot-style="transform:translate3d({0-overlay.scrollLeft}px,{0-overlay.scrollTop}px,0px);backface-visibility: hidden;width:{fixedLeftWidth}px;bottom:1px;z-index:2;" class="fixedLeft"> <gridcelltag tag="{cell.tag}" data="{parent.opts.data}" value="{cell.text}" cell="{cell}" each="{cell in visCells.main}" onclick="{handleClick}" no-reorder riot-style="position: absolute;left:{cell.left}px;top:{cell.top}px;width:{cell.width}px;height:{rowHeight}px;" class="cell {active:cell.active}">{cell.text}</gridcelltag> </div> </div> <div id="header" riot-style="height:{rowHeight}px;margin-right:15px" class="gridbody"> <div riot-style="top:0px;left:0px;width:{scrollWidth}px;height:{rowHeight}px" class="header"> <div each="{headers.main}" no-reorder riot-style="transform:translate3d({left}px,0px,0px); backface-visibility: hidden;width:{width}px;height:{rowHeight}px;" class="headercell">{text}</div> </div> </div> <div riot-style="width:{fixedLeftWidth}px;height:{opts.height-2}px" class="gridbody"> <div riot-style="transform:translate3d(0px,{0-overlay.scrollTop}px,0px);backface-visibility: hidden;width:{fixedLeftWidth}px;bottom:1px;z-index:2;" class="fixedLeft"> <div riot-style="top:{overlay.scrollTop}px;left:0px;width:{fixedLeftWidth}px;height:{rowHeight}px" class="header"> <div each="{headers.fixed}" riot-style="top:0px;left:{left}px;width:{width}px;height:{rowHeight}px;" class="headercell">{text}</div> </div> <gridcelltag tag="{cell.tag}" data="{parent.opts.data}" value="{cell.text}" cell="{cell}" each="{cell in visCells.fixed}" onclick="{handleClick}" no-reorder riot-style="position: absolute;left:{cell.left}px;top:{cell.top}px;width:{cell.width}px;height:{rowHeight}px;" class="cell {active:cell.active}">{cell.text}</gridcelltag> </div> </div> <div id="overlay" onscroll="{scrolling}" riot-style="overflow:auto;left:0px;top:{rowHeight}px;bottom:0px;-webkit-overflow-scrolling: touch;" class="gridbody"> <div riot-style="background:rgba(0,0,0,0.005);width:{scrollWidth}px;height:{scrollHeight-rowHeight}px;" class="scrollArea"></div> </div> </div>',"grid2 { display: block; -webkit-font-smoothing: antialiased; text-rendering: optimizeSpeed; } grid2 .scrollArea { -webkit-transform: translateZ(0); -moz-transform: translateZ(0); -o-transform: translateZ(0); -ms-transform: translateZ(0); transform: translateZ(0); } grid2 .gridwrap { position: relative; display: block; border: 1px solid #ccc; font-family: sans-serif; font-size: 14px; } grid2 .gridbody { position: absolute; overflow: hidden; top: 0; left: 0; right: 0; bottom: 0; -webkit-transform: translateZ(0); -moz-transform: translateZ(0); -o-transform: translateZ(0); -ms-transform: translateZ(0); transform: translateZ(0); -webkit-backface-visibility: hidden; -moz-backface-visibility: hidden; -ms-backface-visibility: hidden; backface-visibility: hidden; } grid2 .fixedLeft { position: absolute; top: 0; bottom: 0; } grid2 .cell, grid2 .headercell { position: absolute; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; padding: 10px 5px; white-space: nowrap; overflow: hidden; background: #fff; border: 1px solid #eee; border-width: 0 1px 1px 0; cursor: pointer; } grid2 .cell.active { background: #eee; } grid2 .header { position: absolute; z-index: 1; overflow: hidden; -webkit-transform: translateZ(0); -moz-transform: translateZ(0); -o-transform: translateZ(0); -ms-transform: translateZ(0); transform: translateZ(0); }","",function(opts){var calcArea,calcPos,calcVisible,reCalc,reUse,_this;this.on("mount",function(){return this.visCells=null,this.activeCells=[],this.activeRows=[],this.rowHeight=+opts.rowheight||40,this.gridbody=this.root.querySelectorAll(".gridbody"),this.update(),this.overlay.addEventListener("click",this.pushThroughClick),this.overlay.addEventListener("dlbclick",this.pushThroughClick)}),this.on("unmount",function(){return this.overlay.removeEventListener("click",this.pushThroughClick),this.overlay.removeEventListener("dlbclick",this.pushThroughClick)}),this.on("update",function(){if(this.gridbody&&opts.data&&opts.columns)return opts.columns&&opts.data&&(this.columns!==opts.columns||this.data!==opts.data)&&(this.data=opts.data,this.columns=opts.columns,this.rows=[],calcPos(),this.visCells=calcVisible(this.rows,this.overlay,this.rowHeight)),this.visCells?this.visCells=reCalc(this.visCells,this.rows,this.overlay,this.rowHeight):this.visCells=calcVisible(this.rows,this.overlay,this.rowHeight)}),this.handleClick=(_this=this,function(e){return e.metaKey||_this.deselect(),e.metaKey?_this.toggleRow(e.item.cell.ridx):_this.selectRow(e.item.cell.ridx)}),this.toggleRow=function(_this){return function(ridx){return-1<_this.activeRows.indexOf(ridx)?_this.deselectRow(ridx):_this.selectRow(ridx)}}(this),this.deselectRow=function(_this){return function(ridx){return _this.activeRows.splice(_this.activeRows.indexOf(ridx),1),_this.activeCells.forEach(function(cell){if(cell.ridx===ridx)return cell.active=!1})}}(this),this.selectRow=function(_this){return function(ridx){var cell,i,len,ref,results;for(_this.activeRows.push(ridx),opts.click&&opts.click(_this.activeRows.map(function(idx){return opts.data[idx]})),results=[],i=0,len=(ref=_this.rows[ridx].data).length;i<len;i++)cell=ref[i],_this.activeCells.push(cell),results.push(cell.active=!0);return results}}(this),this.deselect=function(_this){return function(){return _this.activeCells.forEach(function(cell){return cell.active=!1}),_this.activeCells.length=0,_this.activeRows.length=0}}(this),this.pushThroughClick=function(_this){return function(e){var event,top;top=_this.overlay.scrollTop;try{event=new MouseEvent(e.type,e)}catch(error){(event=document.createEvent("MouseEvents")).initMouseEvent(e.type,!0,!0,window,0,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.target)}return e.preventDefault(),_this.overlay.style.display="none",document.elementFromPoint(e.pageX,e.pageY).dispatchEvent(event),_this.overlay.style.display="block",_this.overlay.scrollTop=top}}(this),calcPos=function(_this){return function(){var cidx,col,i,j,k,key,left,len,len1,len2,ref,ref1,ref2,ridx,row,top;for(top=left=0,_this.rows=[],_this.fixedLeftWidth=_this.columns.filter(function(col){return null!=col.fixed}).reduce(function(a,col){return a+col.width},0),_this.headers={fixed:[],main:[]},cidx=i=left=0,len=(ref=_this.columns).length;i<len;cidx=++i)key=(col=ref[cidx]).fixed?"fixed":"main",_this.headers[key].push({left:left,right:col.width+left,bottom:top+_this.rowHeight,width:col.width,text:col.label,tag:col.tag}),left+=col.width;for(ridx=j=key=0,len1=(ref1=_this.data).length;j<len1;ridx=++j)for(row=ref1[ridx],left=0,top=(ridx+1)*_this.rowHeight,_this.rows[ridx]={data:[]},cidx=k=0,len2=(ref2=_this.columns).length;k<len2;cidx=++k)col=ref2[cidx],_this.rows[ridx].data.push({top:col.fixed?top:top-_this.rowHeight,left:col.fixed?left:left-_this.fixedLeftWidth,right:col.fixed?col.width+left:col.width+left-_this.fixedLeftWidth,bottom:top+_this.rowHeight,width:col.width,text:row[col.field],tag:col.tag,fixed:!!col.fixed,ridx:ridx,key:key,col:col}),key++,left+=col.width;return _this.scrollWidth=left,_this.scrollHeight=top+_this.rowHeight,_this.update()}}(this),this.scrolling=function(_this){return function(e){return e.preventUpdate=!0,_this.header.scrollLeft=_this.overlay.scrollLeft,_this.update()}}(this),calcArea=function(gridbody){return{top:gridbody.scrollTop,left:gridbody.scrollLeft,right:gridbody.scrollLeft+gridbody.offsetWidth,bottom:gridbody.scrollTop+gridbody.offsetHeight}},calcVisible=function(rows,gridbody,rowHeight){var first,i,idx,j,last,len,len1,r1,r2,ref,visible,visiblefixed,visrows;for(r1=calcArea(gridbody),first=Math.max(Math.floor(r1.top/rowHeight),0),last=Math.ceil(r1.bottom/rowHeight),visible=[],visiblefixed=[],i=0,len=(visrows=rows.slice(first,last)).length;i<len;i++)for(idx=j=0,len1=(ref=visrows[i].data).length;j<len1&&((r2=ref[idx]).fixed?visiblefixed.push(r2):r2.left>r1.right||r2.right<r1.left||visible.push(r2),!(r2.left>r1.right));idx=++j);return{main:visible,fixed:visiblefixed}},reCalc=function(visCells,rows,gridbody,rowHeight){var area,newcells;return newcells=calcVisible(rows,gridbody,rowHeight),area=calcArea(gridbody),visCells.main=reUse(visCells.main,newcells.main,area),visCells.fixed=reUse(visCells.fixed,newcells.fixed,area),visCells},reUse=function(visible,newcells,area){var cell,i,idx,j,len,len1,ref,show,tag,unused,viskeys;for(unused={},viskeys=[],idx=i=0,len=visible.length;i<len;idx=++i)tag=(cell=visible[idx]).tag||"notag",cell.left>area.right||cell.right<area.left||cell.bottom<area.top||cell.top>area.bottom?(unused[tag]||(unused[tag]=[]),unused[tag].push(idx)):viskeys.push(cell.key);for(j=0,len1=newcells.length;j<len1;j++)show=newcells[j],-1===viskeys.indexOf(show.key)&&(0<(null!=(ref=unused[tag=show.tag||"notag"])?ref.length:void 0)?visible[unused[tag].pop()]=show:visible.push(show));return visible}}),riot.tag2("gridcelltag",'<div riot-tag="{opts.tag}"><yield></yield></div>',"","",function(opts){this.prevtag=null,this.on("mount",function(){if(opts.tag)return this.prevtag=opts.tag,this.mountedTag=riot.mount(this.root.querySelector("div"),opts.tag,opts)[0]}),this.on("update",function(){return this.prevtag&&this.prevtag!==opts.tag?(this.prevtag=opts.tag,this.mountedTag.unmount(!0),this.mountedTag=riot.mount(this.root.querySelector("div"),opts.tag,opts)[0]):this.mountedTag?(this.mountedTag.opts=opts,this.mountedTag.update()):void 0}),this.on("unmount",function(){if(this.mountedTag)return this.mountedTag.unmount(!0)})})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("grid",'<div riot-style="padding-right:{headPad}px" class="gridheader"> <div each="{opts.columns}" riot-style="width:{width}" onclick="{handleReorder}" class="gridcell {field==orderBy &amp;&amp; \'order\'} {orderDir}"> <tip tip="{tip}">{label}</tip> </div> </div> <div onscroll="{scrolling}" riot-style="height:{parseInt(opts.height,10)-30}px" class="gridbody"> <div riot-style="position:relative;height:{rowheight*opts.data.length}px;background:white" class="scrollblock"> <div each="{row, i in visibleRows}" no-reorder riot-style="top:{parent.rowheight*(i+parent.scrollTop)}px" ondblclick="{handleDblClick}" onclick="{handleClick}" class="gridrow {active:parent.activeRows.indexOf(row)&gt;-1}"> <div each="{parent.opts.columns}" no-reorder riot-style="width:{width}" class="gridcell"> <grid-celltag row="{parent.row}" field="{field}" dateformat="{dateformat}" tick="{tick}" tag="{tag}"></grid-celltag> </div> </div> </div> </div>','grid { position: relative; display: block; border: 1px solid #ccc; } grid .gridheader { background: #ddd; position: absolute; top: 0; right: 0; left: 0; border-bottom: 1px solid #ccc; } grid .gridheader .gridcell { position: relative; cursor: pointer; } grid .gridheader .order:before { position: absolute; top: 3px; right: 10px; font-family: FontAwesome; -webkit-font-smoothing: antialiased; content: "\\f0d8"; } grid .gridheader .order.desc:before { content: "\\f0d7"; } grid .gridcell { display: inline-block; padding: 0 10px 0 10px; line-height: 30px; white-space: nowrap; overflow: hidden; border-right: 1px solid rgba(0,0,0,0.1); color: transparent; text-shadow: 0 0 0 #1c4c7d; } grid feedback-icon { text-shadow: none; } grid .gridbody { margin-top: 32px; display: block; overflow: auto; } grid .gridrow { cursor: pointer; position: absolute; overflow: hidden; height: 30px; left: 0; right: 0; } grid .gridrow:nth-of-type(odd) { background: #eee; } grid .gridrow.active { background: #888; color: #fff; }',"",function(opts){var natsort,_this;natsort=__webpack_require__(4),this.active=!1,this.rowheight=opts.rowheight||30,this.scrollTop=0,this.scrollBottom=10,this.prevScrollTop=-1,this.mountcount=0,this.prevHeadPad=0,this.headPad=0,this.activeRows=[],this.orderBy=null,this.orderDir=null,this.on("mount",(_this=this,function(){return _this.selectAndScroll(opts.active,opts.activeid)})),this.on("update",function(){if(this.gridbody=this.root.querySelector(".gridbody"),opts.data&&this.gridbody)return this.orderData=this.sort(opts.data),this.selectAndScroll(opts.active,opts.activeid),this.scrollTop=2*Math.round(this.gridbody.scrollTop/this.rowheight/2)-10,this.scrollTop<0&&(this.scrollTop=0),this.scrollBottom=this.scrollTop+2*Math.round(this.gridbody.offsetHeight/this.rowheight/2)+20,this.visibleRows=this.orderData.slice(this.scrollTop,this.scrollBottom)}),this.on("updated",function(){var idx,ref,ref1,ref2,scrollTop;if(this.headPad=(null!=(ref=this.root.querySelector(".gridheader"))?ref.offsetWidth:void 0)-(null!=(ref1=this.root.querySelector(".gridrow"))?ref1.offsetWidth:void 0),null==this.headPad||this.headPad===this.prevHeadPad||isNaN(this.headPad)||(this.prevHeadPad=this.headPad,this.update()),this.scrollTo&&-1<(idx=(this.scrollTo=null)!=(ref2=this.orderData)?ref2.indexOf(this.active):void 0)&&((scrollTop=this.rowheight*idx)<this.gridbody.scrollTop||scrollTop>this.gridbody.scrollTop+this.gridbody.offsetHeight))return this.gridbody.scrollTop=scrollTop}),this.selectAndScroll=function(_this){return function(active,active_id){var ref;if((active||active_id)&&(_this.active=active||(active_id?null!=(ref=_this.orderData.filter(function(row){return+row.id==+active_id}))?ref[0]:void 0:null),_this.active&&_this.orderData&&(_this.active!==_this.prev_active||_this.prev_rowcount!==_this.orderData.length)))return _this.prev_active=_this.active,_this.prev_rowcount=_this.orderData.length,_this.activeRows=[_this.active],_this.scrollTo=!0}}(this),this.scrolling=function(_this){return function(e){return e.preventUpdate=!0,_this.update()}}(this),this.handleClick=function(_this){return function(e){var ref;if(e.preventUpdate=!0,opts.onselect)return e.metaKey||e.shiftKey||e.ctrlKey||_this.deselect(),e.metaKey||e.ctrlKey?_this.toggleRow(e.item.row):e.shiftKey&&opts.multiselect?(_this.selectBetween(e.item.row),null!=(ref=document.getSelection())&&"function"==typeof ref.removeAllRanges&&ref.removeAllRanges()):_this.selectRow(e.item.row),opts.onselect(_this.active,_this.activeRows)}}(this),this.selectRow=function(_this){return function(row){return _this.active=row,opts.multiselect?_this.activeRows.push(row):_this.activeRows=[row]}}(this),this.toggleRow=function(_this){return function(row){return _this.active!==row?_this.active=row:_this.active=null,-1<_this.activeRows.indexOf(row)?_this.deselectRow(row):_this.selectRow(row)}}(this),this.selectBetween=function(_this){return function(row){var i,index1,index2,key,ref,ref1,results;for(index1=null,"number"==typeof _this.active?_this.orderData.forEach(function(row,idx){return _this.active===row.id&&(index1=idx)}):index1=_this.orderData.indexOf(_this.active),index2=_this.orderData.indexOf(row),results=[],key=i=ref=Math.min(index1,index2),ref1=Math.max(index1,index2);ref<=ref1?i<=ref1:ref1<=i;key=ref<=ref1?++i:--i)_this.activeRows.indexOf(_this.orderData[key])<0?results.push(_this.activeRows.push(_this.orderData[key])):results.push(void 0);return results}}(this),this.deselect=function(_this){return function(){return _this.active=null,_this.activeRows.length=0}}(this),this.deselectRow=function(_this){return function(row){return _this.activeRows.splice(_this.activeRows.indexOf(row),1)}}(this),this.handleDblClick=function(_this){return function(e){if(opts.onedit)return _this.active=e.item.row,setTimeout(function(){if(null!=opts.onedit&&"function"==typeof opts.onedit)return opts.onedit(e.item.row)},50)}}(this),this.sort=function(_this){return function(data){var orderdata;return _this.orderBy?(orderdata=data.slice(),orderdata=_this.orderDir&&"asc"!==_this.orderDir?orderdata.sort(function(a,b){return natsort(b[_this.orderBy],a[_this.orderBy])}):orderdata.sort(function(a,b){return natsort(a[_this.orderBy],b[_this.orderBy])})):data}}(this),this.handleReorder=function(_this){return function(e){return _this.orderBy===e.item.field&&"asc"===_this.orderDir?_this.orderDir="desc":_this.orderBy===e.item.field&&"desc"===_this.orderDir?(_this.orderDir=null,_this.orderBy=null):(_this.orderDir="asc",_this.orderBy=e.item.field),_this.update()}}(this)}),riot.tag2("grid-celltag",'<div riot-tag="{opts.tag}">{outputCell(opts.row,opts.field,opts.dateformat,opts.tick)}</div>',"","",function(opts){var Formatter;Formatter=__webpack_require__(9),this.prevtag=null,this.on("mount",function(){if(opts.tag)return this.prevtag=opts.tag,this.mountedTag=riot.mount(this.root.querySelector("div"),opts.tag,opts)[0]}),this.on("update",function(){return this.prevtag&&this.prevtag!==opts.tag?(this.prevtag=opts.tag,this.mountedTag.unmount(!0),this.mountedTag=riot.mount(this.root.querySelector("div"),opts.tag,opts)[0]):this.mountedTag?(this.mountedTag.opts=opts,this.mountedTag.update()):void 0}),this.on("unmount",function(){if(this.mountedTag)return this.mountedTag.unmount(!0)}),this.outputCell=function(row,field,dateformat,tick,messages){return dateformat&&row[field]&&row[field]instanceof Date?new Formatter(row[field]).format(dateformat):tick?row[field]?tick:"":row[field]}}),riot.tag2("gridfeedbacktitle",'<feedback-icon added="{opts.row.feedback_added}" unread="{opts.row.feedback_unread}" style="float:right"></feedback-icon><span>{opts.row[opts.field]} </span><span if="{opts.row.link_ids.length}" title="linked to &#13;{opts.row.links.join(\' &#13;\')}"><span style="color:rgba(254, 198, 0,1);text-shadow:none" class="fa fa-circle"></span><span style="color:rgba(254, 198, 0,0.5);text-shadow:none;margin-left:-5px" class="fa fa-circle"></span></span>',"","",function(opts){}),riot.tag2("gridlock",'<div if="{opts.row[opts.field]}" title="This assignment has been locked, answers can no longer be updated." class="fa fa-lock"></div>',"","",function(opts){}),riot.tag2("gridlocklink",'<div if="{opts.row[opts.field]}" title="This assignment has been locked. Click padlock to unlock." class="fa fa-lock"></div>',"","",function(opts){}),riot.tag2("gridtick",'<div class="text-center"><span if="{opts.row[opts.field]}" title="This user is linked to Wonde" class="fa fa-check"></span></div>',"","",function(opts){}),riot.tag2("gridunread",'<div style="color:#5ce25c" class="text-center"><span if="{!opts.row[opts.field]}" title="This message is unread" class="fa fa-circle"></span></div>',"","",function(opts){}),riot.tag2("griddate",'<feedback-icon added="{opts.row.feedback_added}" unread="{opts.row.feedback_unread}" style="float:right"></feedback-icon><span>{val}</span>',"","",function(opts){this.on("update",function(){var dt;return dt=opts.row[opts.field],this.val=dt?dt.getDate()+"/"+(dt.getMonth()+1)+"/"+dt.getFullYear():""})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("search",'<div class="input-group"> <input name="keyword" oninput="{update}" type="text" placeholder="{opts.placeholder || \'Search\'}" class="form-control"> <div class="input-group-btn"> <div if="{!keyword.value}" class="btn btn-primary"> <div class="fa fa-search"></div> </div> <div if="{keyword.value}" onclick="{cancelSearch}" class="btn btn-warning"> <div class="fa fa-times"></div> </div> </div> </div>',"","",function(opts){var _this;this.prevUpdateValue=null,this.on("update",function(){if(opts.data&&"function"==typeof opts.onsearch)return""===this.keyword.value?opts.onsearch(opts.data):opts.onsearch(this.handleFilter(this.keyword.value))}),this.handleFilter=(_this=this,function(keyword){return keyword=_this.escapeRegExp(keyword),keyword=new RegExp(keyword.toLowerCase().trim(),"g"),opts.data.filter(function(row){return JSON.stringify(row).toLowerCase().match(keyword)})}),this.escapeRegExp=function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},this.cancelSearch=function(_this){return function(){return _this.keyword.value=""}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("notfound","<h3>Sorry</h3> <p>That page is not found on this server</p>","","",function(opts){})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("modal",'<div if="{visible}" style="display:block" class="{modal:true,fade:true,in:move}"> <div class="modal-dialog {opts.bssize ? \'modal-\'+opts.bssize : \'\'}"> <div class="modal-content"> <div if="{opts.title}" class="modal-header"> <button if="{opts.onclose}" type="button" onclick="{close}" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true"></span></button> <h4 class="modal-title">{opts.title}</h4> </div> <div class="modal-body"><yield></yield></div> <div if="{opts.onclose || opts.onsave}" class="modal-footer"> <button type="button" if="{opts.onclose}" onclick="{close}" class="btn btn-default btnclose">{opts.closetext ||\'Close\'}</button> <button type="button" if="{showsave}" onclick="{save}" class="btn btn-primary btnsave">{opts.savetext ||\'Save changes\'}</button> </div> </div> </div> </div> <div show="{visible &amp;&amp; opts.backdrop}" class="{modal-backdrop:true,fade:true,in:move}"></div>',"","",function(opts){var _this;this.on("mount",(_this=this,function(){if(opts.esckey)return document.addEventListener("keydown",_this.keydown)})),this.on("unmount",function(_this){return function(){return document.removeEventListener("click",_this.click),opts.esckey&&document.removeEventListener("keydown",_this.keydown),_this.hide()}}(this)),this.on("update",function(){return this.showsave=null!=opts.onsave&&"function"==typeof opts.onsave}),this.keydown=function(_this){return function(e){if(27===e.which)return _this.close()}}(this),this.click=function(_this){return function(e){if(e.target.className.match(/modal[^-]/))return _this.close()}}(this),this.show=function(_this){return function(){return _this.parentNode=_this.root.parentNode,document.body.appendChild(_this.root),_this.visible=!0,_this.update(),document.body.className+=" modal-open",setTimeout(function(){return _this.move=!0,_this.update()},250)}}(this),this.save=function(){if(null!=opts.onsave&&"function"==typeof opts.onsave)return opts.onsave()},this.close=function(_this){return function(){return _this.hide(function(){if(null!=opts.onclose&&"function"==typeof opts.onclose)return opts.onclose()})}}(this),this.hide=function(_this){return function(cback){var ref,ref1;if(document.querySelector(".modal")&&document.querySelector(".modal").removeEventListener("click",_this.click),_this.move=!1,_this.update(),setTimeout(function(){if(_this.visible=!1,_this.update(),_this.parentNode&&_this.parentNode.appendChild(_this.root),"function"==typeof cback)return cback()},250),null!=(null!=(ref=document.body)&&null!=(ref1=ref.className)?ref1.replace:void 0))return document.body.className=document.body.className.replace(/ ?modal-open ?/,"")}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("counter","<h2>{rounded}{opts.suffix}</h2> <h3>{opts.subtitle}</h3>",'counter, [riot-tag="counter"] { min-height: calc(7vw + 80px); display: block; border-radius: 5px; padding: 5px; text-align: center; } counter h2, [riot-tag="counter"] h2 { font-size: calc(5vw + 20px); color: #004c81; text-align: center; pointer-events: none; } counter h3, [riot-tag="counter"] h3 { pointer-events: none; font-size: calc(1vw + 10px); color: #049adf; }',"",function(opts){this.on("mount",function(){return this.total=0,this.interval=setInterval((_this=this,function(){if(.01<Math.abs(_this.total-opts.total))return requestAnimationFrame(_this.update)}),16);var _this}),this.on("update",function(){var inc;return inc=.15*Math.abs(opts.total-this.total),this.total<opts.total+.2?this.total+=inc:this.total>opts.total-.2&&(this.total-=inc),0===opts.total&&0<this.total&&Math.abs(opts.total-this.total)<.2&&(this.total=0),this.total>opts.total&&Math.abs(opts.total-this.total)<.2&&(this.total=opts.total),opts.precision&&this.total?this.rounded=this.total.toFixed(+opts.precision):this.rounded=Math.round(this.total)})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("charpicker",'<div onclick="{showglyphs}" class="fa fa-plus-square fa-lg glyphs"> <popover title="Choose Symbols" placement="left" class="mathspop"> <div class="row"> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default nonsymbola"><em>x&#178;</em></button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default nonsymbola"><em>x&#179;</em></button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&times;</button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&divide;</button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&pi;</button> </div> <div class="row"> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&#189;</button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&#8531;</button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&#188;</button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&#8533;</button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default"></button> </div> <div class="row"> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&le;</button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default">&ge;</button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default"></button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default"></button> <button onclick="{parent.add.bind(null,\'\',k)}" class="btn btn-default"></button> </div> </popover> </div>',"","",function(opts){var _this;this.on("mount",function(){var ref;if(null!=(ref=opts.input)?ref.addEventListener:void 0)return opts.input.addEventListener("input",this.saveCursor),this.cursor={node:opts.input,offset:0}}),this.on("unmount",function(){var ref;if(null!=(ref=opts.input)?ref.removeEventListener:void 0)return opts.input.removeEventListener("input",this.saveCursor)}),this.showglyphs=(_this=this,function(e){return _this.tags.popover[0]?_this.tags.popover[0].clicked(e):_this.tags.popover.clicked(e),_this.update()}),this.add=function(_this){return function(str,k,e){if(e.preventDefault(),_this.tags.popover[0]?_this.tags.popover[0].clicked(e):_this.tags.popover.clicked(e),_this.cursor)return setTimeout(function(){var val;return val=(val=_this.cursor.node.value).substr(0,_this.cursor.offset)+str+val.substr(_this.cursor.offset),_this.cursor.node.value=val,_this.cursor.node.focus(),_this.cursor.offset+=1,_this.cursor.node.setSelectionRange(_this.cursor.offset,_this.cursor.offset)},100)}}(this),this.saveCursor=function(_this){return function(e){return _this.cursor={node:e.target,offset:e.target.selectionStart}}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("feedback-icon","<span if=\"{opts.added &gt; 0}\" riot-style=\"{opts.unread &gt; 0 ? 'color:#fec600' : 'color:#ccc'}\" title=\"{opts.unread &gt; 0 ? 'You have unread messages' : 'This assignment has messages you have read'}\" class=\"fa fa-comments\"></span>","","",function(opts){})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("donut-count",'<div class="wrap"> <canvas id="canvas"></canvas> <div class="icon {show:showNumber}"><yield></yield></div> <div class="count {show:showNumber}">{opts.count}</div> </div> <h3>{opts.subtitle}</h3>','donut-count { pointer-events: none; display: block; } donut-count .wrap { display: block; position: relative; } donut-count .wrap .icon { position: absolute; top: 33%; right: 0; left: 0; } donut-count .wrap .circle { background: #fec600; border-radius: 50%; margin: 0 auto; text-align: center; width: calc(8.2vw + 2px); } @media (min-width: 768px) { donut-count .wrap .circle { width: calc(4.1vw + 2px); } } @media (min-width: 1200px) { donut-count .wrap .circle { width: 55px; } } donut-count .wrap .circle .fa { color: #fff; font-size: calc(2.5vw + 4px); line-height: calc(8.2vw + 2px); } @media (min-width: 768px) { donut-count .wrap .circle .fa { font-size: calc(1.5vw + 4px); line-height: calc(4.1vw + 2px); } } @media (min-width: 1200px) { donut-count .wrap .circle .fa { font-size: 20px; line-height: 55px; } } donut-count h3 { color: #59a5de; text-align: center; font-size: calc(2vw + 10px); } @media (min-width: 768px) { donut-count h3 { font-size: calc(1vw + 10px); } } @media (min-width: 1200px) { donut-count h3 { font-size: 20px; } } donut-count .count { opacity: 0; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); position: absolute; top: 33%; right: 17%; background: #59a5de; color: #fff; border-radius: 50%; text-align: center; -webkit-transition: 0.5s opacity; -moz-transition: 0.5s opacity; -o-transition: 0.5s opacity; -ms-transition: 0.5s opacity; transition: 0.5s opacity; border: 2px solid #fff; width: calc(8.2vw + 2px); line-height: calc(8vw + 2px); font-size: calc(2vw + 4px); } @media (min-width: 768px) { donut-count .count { width: calc(4.1vw + 2px); line-height: calc(4vw + 2px); font-size: calc(1vw + 4px); } } @media (min-width: 1200px) { donut-count .count { font-size: 20px; line-height: 55px; width: 55px; } } donut-count .count.show { opacity: 1; -ms-filter: none; filter: none; }',"",function(opts){var Chart,_this;Chart=__webpack_require__(6),this.pieoptions={segmentShowStroke:!0,segmentStrokeWidth:2,cutoutPercentage:80,animationSteps:100,animationEasing:"easeOutQuart",tooltips:{enabled:!1}},this.on("mount",(_this=this,function(){var ctx;return Chart.defaults.global.responsive=!0,ctx=_this.canvas.getContext("2d"),_this.chart=new Chart(ctx,{type:"doughnut",data:{datasets:[{data:[0,100],backgroundColor:["#fff","#fff"]}]},options:_this.pieoptions}),opts.delay?setTimeout(function(){return _this.setup()},1e3*opts.delay):_this.setup()})),this.setup=function(_this){return function(){var ctx,options;return _this.showNumber=!1,options=Object.assign({},_this.pieoptions,{animation:{onProgress:function(anim){if(anim.animationObject.currentStep<10)return _this.update({showNumber:!1})},onComplete:function(){return _this.update({showNumber:!0})}}}),Chart.defaults.global.responsive=!0,ctx=_this.canvas.getContext("2d"),_this.chart=new Chart(ctx,{type:"doughnut",data:{datasets:[{data:[0,100],backgroundColor:["#3AA6E3","#e5f2fa"]}]},options:options})}}(this),this.on("update",function(_this){return function(){var done,notdone;if(done=+opts.count||0,notdone=+opts.total?opts.total-opts.count:100,_this.chart&&(+_this.chart.data.datasets[0].data[0]!==done||+_this.chart.data.datasets[0].data[1]!=notdone))return _this.chart.data.datasets[0].data[0]=done,_this.chart.data.datasets[0].data[1]=notdone,_this.chart.update()}}(this))})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("tip",'<yield></yield> <div id="tooltip" if="{show}" name="pop" riot-style="display:block;opacity:{opacity};top:{top};left:{left}" class="tooltip fade {placement} {in:show}"> <div class="tooltip-arrow"></div> <div class="tooltip-inner"> <raw content="{opts.tip}"></raw> </div> </div>',"tip { display: inline-block; } .tooltip .tooltip-inner { border-radius: 5px; -webkit-box-shadow: 0 2px 10px rgba(0,0,0,0.5); box-shadow: 0 2px 10px rgba(0,0,0,0.5); display: block; }","",function(opts){var placementlib,_this;placementlib=__webpack_require__(143),this.show=!1,this.isActive=!1,this.timeOut=null,this.opacity=0,this.placement=this.opts.placement||"top",this.parentNode=this.root.parentNode,this.hideTip=(_this=this,function(){return document.removeEventListener("click",_this.hide,!1),_this.parentNode.appendChild(_this.root),_this.show=!1,opts.hiding&&opts.hiding(),_this.update()}),this.popclicked=function(e){return e.preventDefault(),e.stopPropagation()},this.activate=function(_this){return function(){return _this.isActive=!0,_this.root.addEventListener("mouseover",_this.showTip)}}(this),this.deactiveate=function(_this){return function(){if(_this.isActive=!1,_this.root.removeEventListener("mouseover",_this.showTip),_this.show&&_this.hideTip(),_this.timeOut)return clearTimeout(_this.timeOut)}}(this),this.on("mount",function(_this){return function(){if(opts.tip&&!opts.disabled&&!_this.isActive)return _this.activate()}}(this)),this.on("update",function(_this){return function(){if(!opts.tip||opts.disabled||_this.isActive||_this.activate(),opts.tip&&opts.disabled&&_this.isActive)return _this.deactiveate()}}(this)),this.on("unmount",function(_this){return function(){return _this.deactiveate()}}(this)),this.hide=function(_this){return function(){return _this.root.removeEventListener("mouseleave",_this.hideTip),_this.timeOut&&clearTimeout(_this.timeOut),_this.timeOut=setTimeout(function(){return _this.root.appendChild(_this.tooltip)}),_this.show=!1,opts.hiding&&opts.hiding(),_this.opacity=0,_this.update()}}(this),this.showTip=function(_this){return function(e){return _this.root.addEventListener("mouseleave",_this.hideTip),_this.show=!0,_this.update(),_this.parentNode=_this.root.parentNode,document.body.appendChild(_this.tooltip),_this.timeOut=setTimeout(function(){var pos;return pos=placementlib({placement:_this.placement,target:e.target,element:_this.tooltip}),_this.placement=pos.placement,_this.top=Math.round(pos.top)+"px",_this.left=Math.round(pos.left)+"px",_this.opacity=.9,_this.update()})}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("dateformat","<span>{text}</span>","","",function(opts){var Formatter,_this;Formatter=__webpack_require__(257),this.on("update",(_this=this,function(){var dt;return dt=new Formatter(opts.date),_this.text=dt.format(opts.format)}))})},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}module.exports=function(){var DateFormat=function(){function DateFormat(date){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DateFormat),this.date=date,null!=this.date&&this.date instanceof Date||(this.date=new Date),this.i18n=DateFormat.i18n}return _createClass(DateFormat,[{key:"pad",value:function(val,argument_1){var length=1<arguments.length&&void 0!==argument_1?argument_1:2;return("000000"+val).substr(-length,length)}},{key:"yyyy",value:function(){return this.date.getFullYear().toString()}},{key:"yy",value:function(){return this.yyyy().substr(2,2)}},{key:"M",value:function(){return""+(this.date.getMonth()+1)}},{key:"MM",value:function(){return this.pad(this.M())}},{key:"MMMM",value:function(){return DateFormat.i18n.months[this.date.getMonth()]}},{key:"MMM",value:function(){return this.MMMM().substr(0,3)}},{key:"d",value:function(){return""+this.date.getDate()}},{key:"dd",value:function(){return""+this.pad(this.d())}},{key:"EEEE",value:function(){return DateFormat.i18n.weekdays[this.date.getDay()]}},{key:"EEE",value:function(){return this.EEEE().substr(0,3)}},{key:"H",value:function(){return""+this.date.getHours()}},{key:"HH",value:function(){return this.pad(this.H())}},{key:"h",value:function(){var h;return(h=this.H())<13?h:""+(h-12)}},{key:"hh",value:function(){return this.pad(this.h())}},{key:"m",value:function(){return""+this.date.getMinutes()}},{key:"mm",value:function(){return""+this.pad(this.m())}},{key:"s",value:function(){return""+this.date.getSeconds()}},{key:"ss",value:function(){return""+this.pad(this.s())}},{key:"a",value:function(){return this.H()<12?"AM":"PM"}},{key:"z",value:function(){var ref,ref1;return("undefined"!=typeof Intl&&null!==Intl&&null!=(ref=Intl.DateTimeFormat())&&null!=(ref1=ref.resolvedOptions())?ref1.timeZone:void 0)||"(Local Time)"}},{key:"format",value:function(_format){var _this=this;return _format.replace(/([a-z])+/gi,function(val){return _this[val]?_this[val]():val})}},{key:"parseString",value:function(format,str){return DateFormat.parseString(format,str)}}],[{key:"parseString",value:function(format,str){var counter,datePart,matchers,params,pattern,regex,vals;try{var _matchers;return _defineProperty(_matchers={yyyy:{reg:"([0-9]{4})",param:0},yy:{reg:"([0-9]{2})",param:0},M:{reg:"([0-9]{1,2})",param:1},MM:{reg:"([0-9]{1,2})",param:1},MMM:{reg:"([a-z]{3})",param:1},MMMM:{reg:"([a-z]+)",param:1},dd:{reg:"([0-9]{1,2})",param:2}},"dd",{reg:"([0-9]{1,2})",param:2}),_defineProperty(_matchers,"d",{reg:"([0-9]{1,2})",param:2}),matchers=_matchers,counter=0,datePart=[],pattern=format.replace(/([a-z])+/gi,function(val){return matchers[val]?(datePart[counter]=val,counter++,matchers[val].reg):val}),regex=new RegExp(pattern,"i"),vals=str.match(regex),params=[],datePart.forEach(function(val,idx){return params[matchers[val].param]=vals[idx+1]}),-1<params[1]-1?params[1]&&(params[1]=params[1]-1):params[1]=DateFormat.i18n.months.indexOf(DateFormat.i18n.months.filter(function(month){return params[1].substr(0,3)===month.substr(0,3)})[0]),params[0]<90&&(params[0]="20"+params[0]),new Date(params[0],params[1],params[2])}catch(error){return error,!1}}}]),DateFormat}();return DateFormat.i18n={months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DateFormat}.call(void 0)},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);__webpack_require__(259),riot.tag2("change-password",'<form onsubmit="{submit}" class="form-horizontal"> <p>Please enter a new password and confirm by retyping it.</p> <forminput name="password" label="Password" onupdate="{handleUpdate}" type="password" required width1="2" width2="10"></forminput> <forminput name="passwordConfirm" label="Retype Password" onupdate="{handleUpdate}" type="password" required min="8" width1="2" width2="10"></forminput> <div class="col-xs-offset-2 col-xs-10"> <div class="col-xs-12"> <div if="{error}" class="alert alert-danger">{errorMessage.message}</div> <div if="{success}" class="alert alert-success">{successMessage}</div> <button class="btn btn-primary">Change Password</button> </div> </div> </form>',"","",function(opts){var api,resource,_this;resource=__webpack_require__(260),api=new resource(opts.src||"/duocms/api/users/me",!0),this.on("mount",function(){if(window.location.search.match(/editmode=/))return this.root.innerHTML="Loading Password Reset Form..."}),this.user={},this.handleUpdate=(_this=this,function(input){return _this.user[input.name]=input.value}),this.submit=function(_this){return function(e){return e.preventDefault(),!_this.user.password||_this.user.password.length<6?_this.showError({message:"Your Password is too short, please ensure it is over 6 characters"}):_this.user.password===_this.user.passwordConfirm?(_this.error=!1,_this.success=!1,_this.update(),api.save(_this.user,function(user,err){if(null!=err&&_this.showError(err),null==err)return _this.showSuccess("Your password has been successfully changed"),setTimeout(function(){if(null!=opts.onsuccess)return window.location.href=opts.onsuccess},2e3)})):_this.showError({message:"Passwords do not match"})}}(this),this.showError=function(_this){return function(errorMessage){return _this.errorMessage=errorMessage,_this.error=!0,_this.update()}}(this),this.showSuccess=function(_this){return function(successMessage){return _this.successMessage=successMessage,_this.success=!0,setTimeout(function(){return window.location.href="/vle/"},2e3),_this.update()}}(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);__webpack_require__(10),riot.tag2("formhorizontal",'<form onsubmit="{opts.submit}" class="form-horizontal"><yield></yield></form>',"","",function(opts){}),riot.tag2("formgroup",'<div if="{!opts.checkbox}" class="form-group {has-error:!valid}"> <label for="{parent.opts.id}" class="control-label col-sm-{opts.width1 || parent.opts.width1 || \'4\'}">{parent.opts.label}</label> <div class="col-sm-{opts.width2 || parent.opts.width2 || \'8\'}"><span if="{!parent.opts.addonbefore && !parent.opts.addonafter && !parent.opts.buttonbefore && !parent.opts.buttonafter}"><yield></yield></span> <div if="{parent.opts.addonbefore || parent.opts.addonafter}" class="input-group"><span if="{parent.opts.addonbefore}" riot-tag="raw" content="{parent.opts.addonbefore}" class="input-group-addon"></span><yield></yield><span if="{parent.opts.addonafter}" riot-tag="raw" content="{parent.opts.addonafter}" class="input-group-addon"></span></div> <div if="{parent.opts.buttonbefore || parent.opts.buttonafter}" class="input-group"><span if="{parent.opts.buttonbefore}" class="input-group-btn"> <button riot-tag="raw" content="{parent.opts.buttonbefore}" onclick="{buttonbeforeclick}"></button></span><yield></yield><span if="{parent.opts.buttonafter}" class="input-group-btn"> <button riot-tag="raw" content="{parent.opts.buttonafter}" onclick="{buttonafterclick}" class="btn btn-default"></button></span></div><span if="{!valid}" class="help-block">{errorMessage}</span> </div> </div> <div if="{opts.checkbox}" class="form-group {has-error:!valid}"> <div class="col-sm-offset-{opts.width1 || parent.opts.width1 || \'4\'} col-sm-{opts.width2 || parent.opts.width2 || \'8\'}"> <div class="checkbox"> <label><yield></yield></label> </div><span if="{!valid}" class="help-block">{errorMessage}</span> </div> </div>',"","",function(opts){var ref,ref1,ref2,ref3,_this;this.valid=!0,this.validate=!1,this.buttonbeforeclick=(null!=(ref=this.parent)&&null!=(ref1=ref.opts)?ref1.buttonbeforeclick:void 0)?this.parent.opts.buttonbeforeclick:function(){},this.buttonafterclick=(null!=(ref2=this.parent)&&null!=(ref3=ref2.opts)?ref3.buttonafterclick:void 0)?this.parent.opts.buttonafterclick:function(){},this.on("mount",function(){var ref4,ref5,ref6;return this.valid=!0,this.validate=!1,this.type=opts.checkbox?"checkbox":(null!=(ref4=this.parent)&&null!=(ref5=ref4.opts)?ref5.type:void 0)||"text",this.formsubmitbtn=this.findFormSubmit(this.root),null!=(ref6=this.formsubmitbtn)&&ref6.addEventListener("click",this.onsubmit),this.update()}),this.on("update",function(){var ref10,ref11,ref12,ref4,ref5,ref6,ref7,ref8,ref9;if(this.required=null!=(null!=(ref4=this.parent)&&null!=(ref5=ref4.opts)?ref5.isrequired:void 0)&&!1!==(null!=(ref6=this.parent)&&null!=(ref7=ref6.opts)?ref7.isrequired:void 0),this.errorMessage=null!=(null!=(ref8=this.parent)&&null!=(ref9=ref8.opts)?ref9.errormessage:void 0)?null!=(ref10=this.parent)&&null!=(ref11=ref10.opts)?ref11.errormessage:void 0:"This field is required",this.isValid(null!=(ref12=this.root.querySelector("input, select, textarea"))?ref12.validity:void 0),null!=this.cursor&&"text"===this.type&&this.root.querySelector("input, textarea"))return this.root.querySelector("input, textarea").setSelectionRange(this.cursor,this.cursor)}),this.on("unmount",function(){var ref4;return null!=(ref4=this.formsubmitbtn)?ref4.removeEventListener("click",this.onsubmit):void 0}),this.onsubmit=(_this=this,function(e){var ref4;if(_this.validate=!0,_this.isValid(null!=(ref4=_this.root.querySelector("input, select, textarea"))?ref4.validity:void 0),!_this.valid)return e.preventDefault()}),this.findFormSubmit=function(node){if(null!=node)return"FORM"===node.tagName?node.querySelector("[type=submit]"):this.findFormSubmit(node.parentNode)},this.handleChange=function(e){var name,ref5,value;if("text"===this.type&&(this.cursor=null!=e&&null!=(ref5=e.target)?ref5.selectionStart:void 0),this.isValid(e.target.validity),null!=opts.onupdate)return name=null!=e.target.id&&e.target.id.length?e.target.id:e.target.name,value=opts.checkbox?e.target.checked:e.target.value,null!=opts.onupdate&&opts.onupdate({name:name,value:value,valid:this.valid},e.target),e.preventUpdate=!0},this.startValidation=function(_this){return function(e){return _this.validate=!0,_this.cursor=null,_this.isValid(e.target.validity)}}(this),this.isValid=function(_this){return function(validity){return _this.validate&&null!=validity&&(_this.valid=!validity.badInput&&!validity.customError&&!validity.patternMismatch&&!validity.rangeOverflow&&!validity.rangeUnderflow&&!validity.stepMismatch&&!validity.tooLong&&!validity.tooShort&&!validity.typeMismatch&&validity.valid&&!validity.valueMissing),_this.update()}}(this)}),riot.tag2("forminput",'<formgroup onupdate="{opts.onupdate}"> <input id="{parent.opts.id}" name="{parent.opts.name}" placeholder="{parent.opts.placeholder}" type="{type}" oninput="{handleChange}" value="{parent.opts.value}" __required="{required}" pattern="{parent.opts.pattern || \'*\'}" __readonly="{parent.opts.readonly}" onblur="{startValidation}" class="form-control"> </formgroup>',"","",function(opts){}),riot.tag2("formtextarea",'<formgroup onupdate="{opts.onupdate}"> <textarea id="{parent.opts.id}" name="{parent.opts.name}" rows="{parent.opts.rows || \'3\'}" oninput="{handleChange}" __required="{required}" placeholder="{parent.opts.placeholder}" __readonly="{parent.opts.readonly}" value="{parent.opts.value}" onblur="{startValidation}" class="form-control"></textarea> </formgroup>',"","",function(opts){}),riot.tag2("formselect",'<formgroup onupdate="{opts.onupdate}"> <select id="{parent.opts.id}" name="{parent.opts.name}" onchange="{handleChange}" value="{parent.opts.value}" __required="{required}" __readonly="{parent.opts.readonly}" onblur="{startValidation}" class="form-control"> <option if="{parent.opts.default}" value="">{parent.opts.default}</option> <option each="{parent.opts.options}" no-reorder value="{value}" __selected="{value==parent.parent.opts.value}">{label}</option> </select> </formgroup>',"","",function(opts){}),riot.tag2("formcheckbox",'<formgroup onupdate="{opts.onupdate}" checkbox="{true}"> <input type="checkbox" id="{parent.opts.id}" name="{parent.opts.name}" onclick="{handleChange}" onblur="{startValidation}" __checked="{parent.opts.value}" __readonly="{parent.opts.readonly}" __required="{required}">{parent.opts.label} </formgroup>',"","",function(opts){}),riot.tag2("formstatic",'<formgroup onupdate="{opts.onupdate}"> <p class="form-control-static">{parent.opts.value}</p> </formgroup>',"","",function(opts){}),riot.tag2("formstatictextarea",'<formgroup onupdate="{opts.onupdate}"> <p riot-tag="raw" content="{parent.opts.value}" class="form-control-static"></p> </formgroup>',"","",function(opts){this.on("update",function(){var ref;return this.opts.value=null!=(ref=this.opts.value)?ref.split("\n").join("<br>"):void 0})}),riot.tag2("formsubmit",'<formgroup onupdate="{opts.onupdate}"> <button id="{parent.opts.id}" name="{parent.opts.name}" type="{type}" onclick="{parent.opts.onclick}" value="{parent.opts.value}" class="btn btn-default form-control"><yield></yield></button> </formgroup>',"","",function(opts){}),riot.tag2("formtypeahead",'<formgroup onupdate="{handleChange}"> <input id="{parent.opts.id}" name="{parent.opts.name}" placeholder="{parent.opts.placeholder}" type="{type}" value="{parent.opts.value}" onkeydown="{parent.handleType}" oninput="{parent.handleChange}" __required="{required}" pattern="{parent.opts.pattern || \'*\'}" __readonly="{parent.opts.readonly}" onblur="{startValidation &amp;&amp; parent.handleHide}" class="form-control"> <ul if="{parent.show}" role="menu" riot-style="{parent.dropstyle}" class="nav nav-pills nav-stacked drop"> <li each="{v,k in parent.matches}" class="{active:k==parent.parent.selected}"><a onclick="{parent.parent.setFromClick}">{v[parent.parent.viewfield]}</a></li> </ul> </formgroup>',"formtypeahead .drop{ background:white; position:absolute; list-style:none; border-radius:5; z-index:2; box-shadow:0 3px 5px rgba(0,0,0,0.5); }","",function(opts){var keycodes,_this;keycodes={down:40,up:38,enter:13,tab:9},this.on("mount",function(){return this.matches=[],this.dropstyle="",this.show=!1,this.selected=0,this.viewfield=opts.viewfield||opts.field}),this.handleType=(_this=this,function(e){return e.which!==keycodes.enter&&e.which!==keycodes.tab||(e.preventDefault(),_this.setVal()),e.which===keycodes.down&&_this.selected++,e.which===keycodes.up&&_this.selected--,_this.selected>_this.matches.length-1&&(_this.selected=0),_this.selected<0&&(_this.selected=_this.matches.length-1),_this.show||(_this.show=!0,_this.fixWidth(),_this.selected=0),setTimeout(function(){return _this.filterOptions(),_this.update()},100),e.preventUpdate=!0}),this.filterOptions=function(_this){return function(){var op,ref,regx,val;if(val=_this.root.querySelector("input").value,null!=(ref=opts.options)?ref.length:void 0)return regx=new RegExp("^"+val+".*","i"),_this.matches=function(){var i,len,ref1,results;for(results=[],i=0,len=(ref1=opts.options).length;i<len;i++)(op=ref1[i])[opts.field].match(regx)&&results.push(op);return results}()||[],_this.matches.length>opts.max?_this.matches.length=_this.opts.max:void 0}}(this),this.setFromClick=function(_this){return function(e){return e.preventDefault(),_this.selected=e.item.k,_this.setVal()}}(this),this.handleChange=function(_this){return function(e){var name,value;return null==opts.onupdate||(name=null!=e.target.id&&e.target.id.length?e.target.id:e.target.name,value=opts.checkbox?e.target.checked:e.target.value,opts.onupdate({name:name,value:value,data:_this.matches[_this.selected]},e.target,e)),!0}}(this),this.setVal=function(_this){return function(){return null!=_this.root.querySelector("input")&&(_this.root.querySelector("input").value=_this.matches[_this.selected][opts.field]),_this.root.querySelector("input").dispatchEvent(new Event("input")),_this.update(),_this.handleHide()}}(this),this.handleHide=function(_this){return function(){return _this.opacity="opacity:0;",_this.fixWidth(),_this.update(),setTimeout(function(){return _this.show=!1,_this.opacity="opacity:1;",_this.update()},1e3)}}(this),this.fixWidth=function(_this){return function(){var inputPos;return inputPos=_this.root.querySelector("input").getBoundingClientRect(),_this.dropstyle="width:"+inputPos.width+"px;"+_this.opacity,_this.update()}}(this)})},function(module,exports,__webpack_require__){"use strict";var request,resourceUtils;resourceUtils=__webpack_require__(261),request=__webpack_require__(2),module.exports=__webpack_require__(262)(request,null,resourceUtils)},function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={responseConvert:function(data){var i,jsDateFormat,key,len,match,mysqlDateFormat,row,value;if(!data)return data;if(data.constructor===Array){for(key=i=0,len=data.length;i<len;key=++i)row=data[key],data[key]=this.responseConvert(row);return data}for(key in mysqlDateFormat=/^([0-9]{4}-[0-9]{2}-[0-9]{2}|[0-9]{4}-[0-9]{1,2}-[0-9]{1,2} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2})$/,jsDateFormat=/^([0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}Z)$/,data)"string"==typeof(value=data[key])&&(match=value.match(mysqlDateFormat))?data[key]=this.stringToDate(match[0]):"string"==typeof value&&(match=value.match(jsDateFormat))?data[key]=new Date(match[0]):"object"===(void 0===value?"undefined":_typeof(value))&&this.responseConvert(value);return data},stringToDate:function(value){var parts;return parts=value.split(/[^0-9]/),"0000-00-00 00:00:00"===value||"0000-00-00"===value?"":5<parts.length?new Date(parts[0],parts[1]-1,parts[2],parts[3],parts[4],parts[5]):2<parts.length?new Date(parts[0],parts[1]-1,parts[2]):value},requestConvert:function(data){return data}}},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}var splice=[].splice;module.exports=function(request,stores,resourceUtils){return function(){function Resource(url){var returnErrors=1<arguments.length&&void 0!==arguments[1]&&arguments[1];!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Resource),this.returnErrors=returnErrors,this.resourceUrl=url,request.Request.prototype.csrf=function(token){return token=token||window.csrf,this.set("X-CSRF-Token",token),this}}return _createClass(Resource,[{key:"get",value:function(){for(var _ref2,_splice$call,_splice$call2,cback,ref1,url,_this=this,_len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];if(_ref2=_toArray(params),params=_ref2.slice(0),_splice$call=splice.call(params,-1),_splice$call2=_slicedToArray(_splice$call,1),"function"!=typeof(cback=_splice$call2[0]))throw new Error("callback not set");return url=this.resourceUrl+((null!=(ref1=params[0])?ref1.id:void 0)?"/"+params[0].id:""),request.get(url,params[0],function(err,res){return _this.createResponse(err,res,params,cback,"get")})}},{key:"post",value:function(){for(var _ref4,_splice$call3,_splice$call4,cback,ref1,url,_this2=this,_len2=arguments.length,params=Array(_len2),_key2=0;_key2<_len2;_key2++)params[_key2]=arguments[_key2];if(_ref4=_toArray(params),params=_ref4.slice(0),_splice$call3=splice.call(params,-1),_splice$call4=_slicedToArray(_splice$call3,1),"function"!=typeof(cback=_splice$call4[0]))throw new Error("callback not set");return url=this.resourceUrl+((null!=(ref1=params[0])?ref1.id:void 0)?"/"+params[0].id:""),request.post(url).send(params[0]).csrf().end(function(err,res){return _this2.createResponse(err,res,params,cback,"post")})}},{key:"save",value:function(){for(var _ref6,_splice$call5,_splice$call6,cback,ref1,ref2,url,_this3=this,_len3=arguments.length,params=Array(_len3),_key3=0;_key3<_len3;_key3++)params[_key3]=arguments[_key3];if(_ref6=_toArray(params),params=_ref6.slice(0),_splice$call5=splice.call(params,-1),_splice$call6=_slicedToArray(_splice$call5,1),"function"!=typeof(cback=_splice$call6[0]))throw new Error("callback not set");return url=this.resourceUrl+((null!=(ref1=params[0])?ref1.id:void 0)?"/"+params[0].id:""),(null!=(ref2=params[0])?ref2.id:void 0)?request.put(url).send(params[0]).csrf().end(function(err,res){return _this3.createResponse(err,res,params,cback,"save")}):request.post(url).send(params[0]).csrf().end(function(err,res){return _this3.createResponse(err,res,params,cback,"save")})}},{key:"remove",value:function(){for(var _ref8,_splice$call7,_splice$call8,cback,ref1,url,_this4=this,_len4=arguments.length,params=Array(_len4),_key4=0;_key4<_len4;_key4++)params[_key4]=arguments[_key4];if(_ref8=_toArray(params),params=_ref8.slice(0),_splice$call7=splice.call(params,-1),_splice$call8=_slicedToArray(_splice$call7,1),"function"!=typeof(cback=_splice$call8[0]))throw new Error("callback not set");return url=this.resourceUrl+((null!=(ref1=params[0])?ref1.id:void 0)?"/"+params[0].id:""),request.del(url).send(params[0]).csrf().end(function(err,res){return _this4.createResponse(err,res,params,cback,"remove")})}},{key:"createResponse",value:function(err,res,params,cback){var data,ref;if(data=resourceUtils.responseConvert(null!=res&&null!=(ref=res.body)?ref.data:void 0),this.returnErrors||null==cback||cback(data),err=err&&res.body,this.returnErrors&&null!=cback)return cback(data,err)}}]),Resource}()}},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("datepicker",'<div class="monthpicker"> <button onclick="{prevmonth}" class="prev">prev</button> <div><span class="month"> {months[month]} <select name="monthinput" value="{month}" onchange="{setMonth}" class="month"> <option each="{month,index in months}" value="{index}">{month} </option> </select></span><span class="year"> {year} <select name="yearinput" value="{year}" onchange="{setYear}" class="year"> <option each="{year,index in years}" value="{year}">{year}</option> </select></span></div> <button onclick="{nextmonth}" class="next">next</button> </div> <div class="datepicker"> <table> <thead> <tr> <th each="{weekday,index in weekdays}">{weekday.substr(0,1)}</th> </tr> </thead> <tbody onclick="{setDay}"> <tr each="{week in weeks}" class="calweek"> <td each="{date in week}" val="{date.getTime()}" class="calday {getClass(date)}">{date.getDate()}</td> </tr> </tbody> </table> </div>','datepicker { display: inline-block; font-family: sans-serif; font-size: 12px; } datepicker button { border: 0px solid #000; background: #fff; } datepicker select { opacity: 0; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); position: absolute; top: 0; left: 0; right: 0; } datepicker .monthpicker { position: relative; } datepicker .monthpicker span { position: relative; } datepicker .monthpicker div { text-align: center; line-height: 25px; } datepicker .next { position: absolute; top: 2px; right: 0px; } datepicker .prev { position: absolute; top: 2px; left: 0px; } datepicker td { padding: 5px; font-family: sans-serif; cursor: pointer; } datepicker .today { background: #eee; } datepicker .active { background: #f86; color: #fff; }',"",function(opts){var Calendar,_this;Calendar=__webpack_require__(264),this.cal=new Calendar(opts.date),this.months=this.cal.options.i18n.months,this.weekdays=this.cal.options.i18n.weekdays,this.years=this.cal.getYears(),this.days=this.cal.getDays(),this.weeks=this.cal.getWeeks(),this.selectedDate=new Date(this.cal.getDate()),opts.date&&(this.selectedDate=opts.date),this.previousUpdate=null,this.on("mount",(_this=this,function(){if(null!=opts.date)return _this.cal=new Calendar(opts.date),_this.selectedDate=_this.date=_this.cal.getDate(),_this.previousUpdate=_this.date.getTime()})),this.on("update",function(_this){return function(){var changetypes;if(changetypes=[],_this.month!==_this.cal.getMonth()&&(_this.month=_this.cal.getMonth(),changetypes.push("month")),_this.year!==_this.cal.getYear()&&(_this.year=_this.cal.getYear(),changetypes.push("year")),_this.weeks=_this.cal.getWeeks(),_this.date&&_this.cal.getDate()&&_this.date.toString()!==_this.cal.getDate().toString()&&(_this.cal=new Calendar(_this.date)),changetypes.push("date"),opts.onupdate&&0<changetypes.length&&_this.date&&(_this.date=_this.cal.getDate(),_this.previousUpdate!==_this.date.getTime()))return _this.previousUpdate=_this.date.getTime(),opts.onupdate(_this.date,changetypes)}}(this)),this.prevmonth=function(_this){return function(){return _this.cal.prevMonth()}}(this),this.nextmonth=function(_this){return function(){return _this.cal.nextMonth()}}(this),this.setMonth=function(_this){return function(e){return _this.cal.setMonth(e.target.value)}}(this),this.setYear=function(_this){return function(e){return _this.cal.setYear(e.target.value)}}(this),this.setDay=function(_this){return function(e){var date;if(null!=(date=+e.target.getAttribute("val")||+e.target.parentNode.getAttribute("val"))&&0<date)return _this.selectedDate=_this.date=new Date(date)}}(this),this.getClass=function(_this){return function(date){var classname,ref;return classname="",date.getMonth()!==_this.month&&(classname+="subtle "),+(new Date).setHours(0,0,0,0)===date.getTime()&&(classname+="today "),(null!=(ref=_this.selectedDate)?ref.getTime():void 0)===date.getTime()&&(classname+="active "),opts.datestyle&&(classname+=opts.datestyle(date)),classname}}(this)})},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function Calendar(date,options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Calendar),this.date=date||new Date,this.options={minDate:null,maxDate:null,yearRange:10,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}}}return _createClass(Calendar,[{key:"getDaysInMonth",value:function(year,month){return[31,this.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]}},{key:"isLeapYear",value:function(year){return year%4==0&&year%100!=0||year%400==0}},{key:"isWeekend",value:function(date){var day;return 0===(day=date.getDay())||6===day}},{key:"isDate",value:function(obj){return/Date/.test(Object.prototype.toString.call(obj))&&!isNaN(obj.getTime())}},{key:"prevMonth",value:function(){return this.date.setMonth(this.getMonth()-1)}},{key:"nextMonth",value:function(){return this.date.setMonth(this.getMonth()+1)}},{key:"prevWeek",value:function(){return this.date.setDate(this.date.getDate()-7)}},{key:"nextWeek",value:function(){return this.date.setDate(this.date.getDate()+7)}},{key:"today",value:function(){return this.date=new Date}},{key:"getWeekdays",value:function(){return this.options.i18n.weekdays}},{key:"getMonth",value:function(){return this.date.getMonth()}},{key:"getYear",value:function(){return this.date.getFullYear()}},{key:"getDays",value:function(){return function(){for(var results=[],i=0,ref=this.getDaysInMonth(this.getYear(),this.getMonth());0<=ref?i<=ref:ref<=i;0<=ref?i++:i--)results.push(i);return results}.apply(this)}},{key:"firstDay",value:function(){return new Date(this.getYear(),this.getMonth(),0).getDay()-1}},{key:"getWeekOfMonth",value:function(){var i,index,week;for(week=new Date(this.getYear(),this.getMonth(),0-this.firstDay()-1),index=i=0;i<=7;index=++i){if(this.date<week)return index-2;week=new Date(week.setDate(week.getDate()+7))}}},{key:"getYears",value:function(){var ref,_this=this;return function(){for(var results=[],i=ref=-this.options.yearRange,ref1=this.options.yearRange;ref<=ref1?i<=ref1:ref1<=i;ref<=ref1?i++:i--)results.push(i);return results}.apply(this).map(function(year){return _this.date.getFullYear()+year})}},{key:"getWeeks",value:function(){var gridStart,month,prevMonth,year;return year=this.getYear(),month=this.getMonth(),prevMonth=new Date(year,month,0,0,0,0),this.getDaysInMonth(prevMonth.getFullYear(),prevMonth.getMonth()),this.getDaysInMonth(year,month),gridStart=new Date(year,month,0-this.firstDay()-1),[0,1,2,3,4,5].map(function(weeknum){return[0,1,2,3,4,5,6].map(function(daynum){return gridStart=new Date(gridStart.getFullYear(),gridStart.getMonth(),gridStart.getDate()+1,0,0,0,0)})})}},{key:"getDate",value:function(){return this.date}},{key:"setDay",value:function(day){return this.date.setDate(day)}},{key:"setMonth",value:function(month){return this.date.setMonth(month)}},{key:"setYear",value:function(year){return this.date.setYear(year)}},{key:"repeat",value:function(start,end,argument_2){var dates,dt,inc,maxdays,_repeat=2<arguments.length&&void 0!==argument_2?argument_2:"daily";if(dt=new Date(start),dates=[],"daily"===_repeat&&(inc=function(dt){return new Date(dt.getTime()+864e5)}),"weekly"===_repeat&&(inc=function(dt){return new Date(dt.getTime()+6048e5)}),"monthly"===_repeat&&(inc=function(dt){return new Date(new Date(dt).setMonth(dt.getMonth()+1))}),maxdays=500,!inc)return[start];for(;new Date(dt).setHours(0,0,0)<new Date(end).setHours(0,0,0);){if(--maxdays<0)return dates;dates.push(dt),dt=inc(dt)}return dates.push(end),dates}},{key:"isToday",value:function(compareDate){var am,pm;return!!compareDate&&(am=compareDate.setHours(0,0),pm=compareDate.setHours(23,59),this.date.getTime()>=am&&this.date.getTime()<=pm)}}]),Calendar}()},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);__webpack_require__(144),riot.tag2("confirm",'<yield></yield> <popover title="{opts.title || \'Are You Sure ?\'}" placement="{opts.placement}"> <div class="row"> <div class="col-xs-6"> <button onclick="{hide}" class="btn btn-block btn-cancel btn-{parent.opts.cancelstyle||\'default\'}">{parent.opts.canceltext || \'Cancel\'}</button> </div> <div class="col-xs-6"> <button onclick="{parent.onconfirm}" class="btn btn-block btn-confirm btn-{parent.opts.confirmstyle||\'danger\'}">{parent.opts.confirmtext || \'Delete\'}</button> </div> </div> </popover>',"","",function(opts){var _this;this.on("mount",function(){return this.root.addEventListener("click",this.handleClick)}),this.on("unmount",function(){return this.root.removeEventListener("click",this.handleClick)}),this.on("error",function(err){return console.error(err)}),this.handleClick=(_this=this,function(e){if(!0!==opts.__disabled)return _this.tags.popover.clicked(e)}),this.onconfirm=function(_this){return function(){var ref;return null!=opts.onconfirm&&opts.onconfirm(),null!=(ref=_this.tags.popover)?ref.hide():void 0}}(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("routehandler",'<div riot-tag="{tagname}"></div>',"","",function(opts){var page,_this;if((page=null)!==exports)page=__webpack_require__(145);else{if(null==window.page)return console.log("Page.js not found - please check it has been npm installed or included in your page");page=window.page}this.on("mount",(_this=this,function(){var basepath,ref;if(_this.tagstack=[],opts.routes)return _this.mountRoutes({handler:_this},opts.routes),(null!=(ref=opts.options)?ref.base:void 0)&&(basepath=opts.options.base,page.base(basepath),delete opts.options.base),page(opts.options)})),this.mountRoutes=function(_this){return function(parent,routes){var route;return route=_this.findRoute(null,routes,function(tree,req){var i,idx,len,nexttag,ref,ref1,ref2,removeTag,results,routeopts,tag;for(delete opts.routes,(routeopts=opts).page=page,routeopts.params=req.params,tag=_this,idx=i=0,len=tree.length;i<len;idx=++i)route=tree[idx],_this.tagstack[idx]&&_this.tagstack[idx].tagname===route.tag?(nexttag=_this.tagstack[idx].nexttag,riot.update()):tag&&(null!=route?route.tag:void 0)&&(nexttag=tag.setTag(route.tag,routeopts)),_this.tagstack[idx]={tagname:route.tag,nexttag:nexttag,tag:tag},tag=(null!=nexttag&&null!=(ref=nexttag[0])?ref.tags.routehandler:void 0)||(null!=nexttag&&null!=(ref1=nexttag[0])&&null!=(ref2=ref1.root.querySelector("routehandler"))?ref2._tag:void 0);for(results=[];idx<_this.tagstack.length;)removeTag=_this.tagstack.pop(),results.push(removeTag.nexttag[0].unmount(!0));return results})}}(this),this.setTag=function(_this){return function(tagname,routeopts){return _this.update({tagname:tagname}),riot.mount(tagname,routeopts)}}(this),this.findRoute=function(_this){return function(parents,routes,cback){var i,len,parentpath,results,route,subparents;for(parentpath=parents?parents.map(function(ob){return ob.route}).join("").replace(/\/\//g,"/"):"",results=[],i=0,len=routes.length;i<len;i++)null!=(route=routes[i]).use&&"function"==typeof route.use&&function(route){var mainroute;mainroute=(parentpath+route.route).replace(/\/\//g,"/"),page(mainroute,function(ctx,next){return"*"!==mainroute&&cback([route],ctx),route.use(ctx,next,page)})}(route),null!=route.tag&&((subparents=parents?parents.slice():[]).push(route),function(subparents){var mainroute,thisroute;mainroute=(parentpath+(thisroute=route).route).replace(/\/\//g,"/"),page(mainroute,function(req,next){var ref;if(cback(subparents,req),null!=(ref=thisroute.routes)?ref.filter(function(route){return"/"===route.route}).length:void 0)return next()})}(subparents)),route.routes?results.push(_this.findRoute(subparents,route.routes,cback)):results.push(void 0);return results}}(this)})},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("subtag",'<div riot-tag="{opts.tag}"><yield></yield></div>',"","",function(opts){this.prevtag=null,this.on("mount",function(){if(opts.tag)return this.prevtag=opts.tag,this.mountedTag=riot.mount(this.root.querySelector("div"),opts.tag,opts)[0]}),this.on("update",function(){return this.prevtag&&this.prevtag!==opts.tag?(this.prevtag=opts.tag,this.mountedTag.unmount(!0),this.mountedTag=riot.mount(this.root.querySelector("div"),opts.tag,opts)[0]):this.mountedTag?(this.mountedTag.opts=opts,this.mountedTag.update()):void 0}),this.on("unmount",function(){if(this.mountedTag)return this.mountedTag.unmount(!0)})})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);__webpack_require__(10),riot.tag2("tabs",'<div class="tabs"> <ul class="nav nav-tabs"> <li each="{tab, i in tabs}" onclick="{activate}" class="{active: tab.active, disabled: tab.disabled, first: i == 0, last: parent.tabs.length-1 == i}"><a if="{tab.opts.heading &amp;&amp; !tab.heading}" class="heading">{tab.opts.heading}</a><a if="{tab.heading}" riot-tag="raw" content="{tab.heading}" class="heading"></a></li> </ul> <div class="tab-content"><yield></yield></div> </div>',"","",function(opts){this.tabs=[],this.onopen=opts.onopen,null!=this.tags.tab&&(this.tabs=this.tags.tab,Array.isArray(this.tabs)||(this.tabs=[this.tabs])),this.on("mount",function(){var activeTab;return activeTab=!1,this.tabs.forEach(function(tab){var tabHeading;return(tabHeading=tab.tags["tab-heading"])&&"[object Array]"!==Object.prototype.toString.call(tabHeading)&&(tab.heading=tabHeading.root.innerHTML),activeTab&&(tab.active=!1),tab.active&&(activeTab=!0),setTimeout(function(){if(tabHeading)return tabHeading.root.remove()})}),this.update()}),this.activate=function(e){var tab;if(!(tab=e.item.tab).disabled)return this.deselectTabs(),this.onopen&&this.onopen(tab),tab.active=!0},this.deselectTabs=function(){return this.tabs.forEach(function(tab){return tab.active=!1})}}),riot.tag2("tab",'<div show="{active}" class="tab-pane {active: active}"><yield></yield></div>',"","",function(opts){this.active=opts.active,this.disabled=opts.disabled}),riot.tag2("tab-heading","<yield></yield>","","",function(opts){})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("dropdown","<yield></yield>","dropdown { display: block; position: relative; }","",function(opts){var _this;this.show=!1,this.on("mount",function(){return this.root.addEventListener("click",this.toggle)}),this.on("unmount",function(){return this.root.removeEventListener("click",this.toggle),document.removeEventListener("click",this.hide)}),this.hide=(_this=this,function(e){return _this.show=!1,document.removeEventListener("click",_this.hide),_this.root.className=_this.root.className.replace(/ open/,""),_this.update()}),this.toggle=function(_this){return function(e){var ref,ref1;if(!(null!=opts.maxwidth&&document.body.offsetWidth>opts.maxwidth))return e.stopPropagation(),null==(null!=(ref=e.target)&&null!=(ref1=ref.attributes)?ref1.target:void 0)&&e.preventDefault(),_this.show=!_this.show,_this.show?(document.addEventListener("click",_this.hide),_this.root.className+=" open",_this.update()):_this.hide(),!1}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("alert",'<div role="alert" if="{exists}" class="alert {opts.bsstyle ? \'alert-\'+opts.bsstyle : \'alert-info\'} fade {in:showing}"> <button if="{opts.onclose}" type="button" data-dismiss="alert" aria-label="Close" onclick="{close}" class="close"><span aria-hidden="true">&times;</span></button><yield></yield> </div>',"","",function(opts){var _this;this.showing=!0,this.exists=!0,this.close=(_this=this,function(){return null!=opts.onclose&&"function"==typeof opts.onclose&&opts.onclose(),_this.showing=!1,setTimeout(function(){return _this.exists=!1,_this.update()},250)})})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("progressbar",'<div class="progress"> <div role="progressbar" aria-valuenow="{val}" aria-valuemin="{min}" aria-valuemax="{max}" riot-style="width: {width}%;" class="progress-bar{opts.bsstyle ? \' progress-bar-\'+opts.bsstyle : \'\'} {\'progress-bar-striped\':opts.striped,\'active\':opts.active}"><yield></yield></div> </div>',"","",function(opts){var _this;this.on("update",(_this=this,function(){return _this.max=opts.max||100,_this.min=opts.min||0,_this.val=opts.value||0,_this.width=_this.val/(_this.max-_this.min)*100}))})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("navigation","<yield></yield>",".growing { -moz-transition: 0.5s all; -ms-transition: 0.5s all; -o-transition: 0.5s all; -webkit-transition: 0.5s all; -webkit-transition: 0.5s all; -moz-transition: 0.5s all; -o-transition: 0.5s all; -ms-transition: 0.5s all; transition: 0.5s all; overflow-y: hidden; } .navbar-collapse.collapse { max-height: 0px; overflow: hidden; display: block; } .navbar-collapse.collapse.in { max-height: 1000px; }","",function(opts){var _this;this.show=!1,this.toggle=(_this=this,function(){return _this.show=!_this.show,_this.update()})})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag2("formhorizontal",'<form onsubmit="{opts.submit}" class="form-horizontal"><yield></yield></form>',"","",function(opts){}),riot.tag2("formgroup",'<div if="{!opts.checkbox}" class="form-group {has-error:!valid}"> <label for="{parent.opts.id}" class="control-label col-sm-{opts.width1 || parent.opts.width1 || \'4\'}">{parent.opts.label}</label> <div class="col-sm-{opts.width2 || parent.opts.width2 || \'8\'}"><span if="{!parent.opts.addonbefore && !parent.opts.addonafter && !parent.opts.buttonbefore && !parent.opts.buttonafter}"><yield></yield></span> <div if="{parent.opts.addonbefore || parent.opts.addonafter}" class="input-group"><span if="{parent.opts.addonbefore}" riot-tag="raw" content="{parent.opts.addonbefore}" class="input-group-addon"></span><yield></yield><span if="{parent.opts.addonafter}" riot-tag="raw" content="{parent.opts.addonafter}" class="input-group-addon"></span></div> <div if="{parent.opts.buttonbefore || parent.opts.buttonafter}" class="input-group"><span if="{parent.opts.buttonbefore}" class="input-group-btn"> <button riot-tag="raw" content="{parent.opts.buttonbefore}" onclick="{buttonbeforeclick}"></button></span><yield></yield><span if="{parent.opts.buttonafter}" class="input-group-btn"> <button riot-tag="raw" content="{parent.opts.buttonafter}" onclick="{buttonafterclick}" class="btn btn-default"></button></span></div><span if="{!valid}" class="help-block">{errorMessage}</span> </div> </div> <div if="{opts.checkbox}" class="form-group {has-error:!valid}"> <div class="col-sm-offset-{opts.width1 || parent.opts.width1 || \'4\'} col-sm-{opts.width2 || parent.opts.width2 || \'8\'}"> <div class="checkbox"> <label><yield></yield></label> </div><span if="{!valid}" class="help-block">{errorMessage}</span> </div> </div>',"","",function(opts){var ref,ref1,ref2,ref3,_this;this.valid=!0,this.validate=!1,this.buttonbeforeclick=(null!=(ref=this.parent)&&null!=(ref1=ref.opts)?ref1.buttonbeforeclick:void 0)?this.parent.opts.buttonbeforeclick:function(){},this.buttonafterclick=(null!=(ref2=this.parent)&&null!=(ref3=ref2.opts)?ref3.buttonafterclick:void 0)?this.parent.opts.buttonafterclick:function(){},this.on("mount",function(){var ref4,ref5,ref6;return this.valid=!0,this.validate=!1,this.type=opts.checkbox?"checkbox":(null!=(ref4=this.parent)&&null!=(ref5=ref4.opts)?ref5.type:void 0)||"text",this.formsubmitbtn=this.findFormSubmit(this.root),null!=(ref6=this.formsubmitbtn)&&ref6.addEventListener("click",this.onsubmit),this.update()}),this.on("update",function(){var ref10,ref11,ref12,ref4,ref5,ref6,ref7,ref8,ref9;return this.required=null!=(null!=(ref4=this.parent)&&null!=(ref5=ref4.opts)?ref5.isrequired:void 0)&&!1!==(null!=(ref6=this.parent)&&null!=(ref7=ref6.opts)?ref7.isrequired:void 0),this.errorMessage=null!=(null!=(ref8=this.parent)&&null!=(ref9=ref8.opts)?ref9.errormessage:void 0)?null!=(ref10=this.parent)&&null!=(ref11=ref10.opts)?ref11.errormessage:void 0:"This field is required",this.isValid(null!=(ref12=this.root.querySelector("input, select, textarea"))?ref12.validity:void 0)}),this.on("unmount",function(){var ref4;return null!=(ref4=this.formsubmitbtn)?ref4.removeEventListener("click",this.onsubmit):void 0}),this.onsubmit=(_this=this,function(e){var ref4;if(_this.validate=!0,_this.isValid(null!=(ref4=_this.root.querySelector("input, select, textarea"))?ref4.validity:void 0),!_this.valid)return e.preventDefault()}),this.findFormSubmit=function(node){if(null!=node)return"FORM"===node.tagName?node.querySelector("[type=submit]"):this.findFormSubmit(node.parentNode)},this.handleChange=function(e){var name,value;if(this.isValid(e.target.validity),null!=opts.onupdate)return name=null!=e.target.id&&e.target.id.length?e.target.id:e.target.name,value=opts.checkbox?e.target.checked:e.target.value,null!=opts.onupdate&&opts.onupdate({name:name,value:value,valid:this.valid},e.target,e),e.preventUpdate=!0},this.startValidation=function(_this){return function(e){return _this.validate=!0,_this.isValid(e.target.validity)}}(this),this.isValid=function(_this){return function(validity){return _this.validate&&null!=validity&&(_this.valid=!validity.badInput&&!validity.customError&&!validity.patternMismatch&&!validity.rangeOverflow&&!validity.rangeUnderflow&&!validity.stepMismatch&&!validity.tooLong&&!validity.tooShort&&!validity.typeMismatch&&validity.valid&&!validity.valueMissing),_this.update()}}(this)}),riot.tag2("forminput",'<formgroup onupdate="{opts.onupdate}"> <input id="{parent.opts.id}" name="{parent.opts.name}" placeholder="{parent.opts.placeholder}" type="{type}" oninput="{handleChange}" value="{parent.opts.value}" __required="{required}" pattern="{parent.opts.pattern || \'.*\'}" __readonly="{parent.opts._readonly}" autocomplete="{parent.opts.autocomplete || \'\'}" onblur="{startValidation}" class="form-control"> </formgroup>',"","",function(opts){}),riot.tag2("formtextarea",'<formgroup onupdate="{opts.onupdate}"> <textarea id="{parent.opts.id}" name="{parent.opts.name}" rows="{parent.opts.rows || \'3\'}" oninput="{handleChange}" __required="{required}" placeholder="{parent.opts.placeholder}" __readonly="{parent.opts._readonly}" value="{parent.opts.value}" onblur="{startValidation}" class="form-control"></textarea> </formgroup>',"","",function(opts){}),riot.tag2("formselect",'<formgroup onupdate="{opts.onupdate}"> <select id="{parent.opts.id}" name="{parent.opts.name}" onchange="{handleChange}" value="{parent.opts.value}" __required="{required}" __readonly="{parent.opts._readonly}" onblur="{startValidation}" class="form-control {parent.opts.inputclass}"> <option if="{parent.opts.default}" value="">{parent.opts.default}</option> <option each="{parent.opts.options}" no-reorder value="{value}" __selected="{value==parent.parent.opts.value}">{label}</option> </select> </formgroup>',"","",function(opts){}),riot.tag2("formcheckbox",'<formgroup onupdate="{opts.onupdate}" checkbox="{true}"> <input type="checkbox" id="{parent.opts.id}" name="{parent.opts.name}" onclick="{handleChange}" onblur="{startValidation}" __checked="{parent.opts.value}" __disabled="{parent.opts.disabled}" __required="{required}">{parent.opts.label} </formgroup>',"","",function(opts){}),riot.tag2("formstatic",'<formgroup onupdate="{opts.onupdate}"> <p class="form-control-static">{parent.opts.value}</p> </formgroup>',"","",function(opts){}),riot.tag2("formstatictextarea",'<formgroup onupdate="{opts.onupdate}"> <p riot-tag="raw" content="{parent.opts.value}" class="form-control-static"></p> </formgroup>',"","",function(opts){this.on("update",function(){var ref;return this.opts.value=null!=(ref=this.opts.value)?ref.split("\n").join("<br>"):void 0})}),riot.tag2("formsubmit",'<formgroup onupdate="{opts.onupdate}"> <button id="{parent.opts.id}" name="{parent.opts.name}" type="{type}" onclick="{parent.opts.onclick}" value="{parent.opts.value}" class="btn btn-default form-control"><yield></yield></button> </formgroup>',"","",function(opts){}),riot.tag2("formtypeahead",'<formgroup onupdate="{handleChange}"> <input id="{parent.opts.id}" name="{parent.opts.name}" placeholder="{parent.opts.placeholder}" type="{type}" value="{parent.opts.value}" onkeydown="{parent.handleType}" oninput="{parent.handleChange}" __required="{required}" pattern="{parent.opts.pattern || \'.*\'}" __readonly="{parent.opts._readonly}" onblur="{startValidation &amp;&amp; parent.handleHide}" class="form-control"> <ul if="{parent.show}" role="menu" riot-style="{parent.dropstyle}" class="nav nav-pills nav-stacked drop"> <li each="{v,k in parent.matches}" class="{active:k==parent.parent.selected}"><a onclick="{parent.parent.setFromClick}">{v[parent.parent.viewfield]}</a></li> </ul> </formgroup>',"formtypeahead .drop{ background:white; position:absolute; list-style:none; border-radius:5; z-index:2; box-shadow:0 3px 5px rgba(0,0,0,0.5); }","",function(opts){var keycodes,_this;keycodes={down:40,up:38,enter:13,tab:9},this.on("mount",function(){return this.matches=[],this.dropstyle="",this.show=!1,this.selected=0,this.viewfield=opts.viewfield||opts.field}),this.handleType=(_this=this,function(e){return e.which!==keycodes.enter&&e.which!==keycodes.tab||(e.preventDefault(),_this.setVal()),e.which===keycodes.down&&_this.selected++,e.which===keycodes.up&&_this.selected--,_this.selected>_this.matches.length-1&&(_this.selected=0),_this.selected<0&&(_this.selected=_this.matches.length-1),_this.show||(_this.show=!0,_this.fixWidth(),_this.selected=0),setTimeout(function(){return _this.filterOptions(),_this.update()},100),e.preventUpdate=!0}),this.filterOptions=function(_this){return function(){var op,ref,regx,val;if(val=_this.root.querySelector("input").value,null!=(ref=opts.options)?ref.length:void 0)return regx=new RegExp("^"+val+".*","i"),_this.matches=function(){var i,len,ref1,results;for(results=[],i=0,len=(ref1=opts.options).length;i<len;i++)(op=ref1[i])[opts.field].match(regx)&&results.push(op);return results}()||[],_this.matches.length>opts.max?_this.matches.length=_this.opts.max:void 0}}(this),this.setFromClick=function(_this){return function(e){return e.preventDefault(),_this.selected=e.item.k,_this.setVal()}}(this),this.handleChange=function(_this){return function(e){var name,value;return null==opts.onupdate||(name=null!=e.target.id&&e.target.id.length?e.target.id:e.target.name,value=opts.checkbox?e.target.checked:e.target.value,opts.onupdate({name:name,value:value,data:_this.matches[_this.selected]},e.target,e)),!0}}(this),this.setVal=function(_this){return function(){return null!=_this.root.querySelector("input")&&(_this.root.querySelector("input").value=_this.matches[_this.selected][opts.field]),_this.root.querySelector("input").dispatchEvent(new Event("input")),_this.update(),_this.handleHide()}}(this),this.handleHide=function(_this){return function(){return _this.opacity="opacity:0;",_this.fixWidth(),_this.update(),setTimeout(function(){return _this.show=!1,_this.opacity="opacity:1;",_this.update()},1e3)}}(this),this.fixWidth=function(_this){return function(){var inputPos;return inputPos=_this.root.querySelector("input").getBoundingClientRect(),_this.dropstyle="width:"+inputPos.width+"px;"+_this.opacity,_this.update()}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("formdate",'<forminput label="{opts.label}" value="{val}" name="{opts.name}" placeholder="{opts.placeholder}" buttonafter="&lt;i class=\'fa fa-calendar\'&gt;&lt;/i&gt;" width1="{opts.width1}" width2="{opts.width2}" buttonafterclick="{showcal}" onupdate="{handleTyping}"></forminput> <popover title="{opts.title}"> <datepicker onupdate="{parent.handleUpdate}" date="{parent.date}"></datepicker> </popover>',"formdate .fa.fa-calendar{ -webkit-pointer-events:none; -moz-pointer-events:none; pointer-events:none; }","",function(opts){var Formatter,_this;Formatter=__webpack_require__(9),this.val="",this.prevValue="",this.on("update",function(){if(opts.value&&this.prevValue!==opts.value.getTime())return this.setDate(opts.value),this.date=opts.value}),this.showcal=(_this=this,function(e){return _this.tags.popover.clicked(e)}),this.handleUpdate=function(_this){return function(newdate,changetypes){if(-1===changetypes.indexOf("month")&&-1===changetypes.indexOf("year"))return _this.setDate(newdate),_this.updateParent(newdate,1),_this.tags.popover.hide(),_this.update()}}(this),this.handleTyping=function(_this){return function(data){var newdate;if(newdate=(new Formatter).parseString(opts.dateformat,data.value))return _this.date=newdate,_this.updateParent(newdate,2),_this.update()}}(this),this.updateParent=function(newdate,type){var name;if(opts.onupdate)return name=null!=opts.id&&opts.id.length?opts.id:opts.name,opts.onupdate.call(null,{name:name,value:newdate})},this.setDate=function(_this){return function(date){var dt;return _this.prevValue=date.getTime(),opts.dateformat&&date?(dt=new Formatter(date),_this.val=dt.format(opts.dateformat)):_this.val=date}}(this)})},function(module,exports,__webpack_require__){__webpack_require__(1).tag2("formdatetime",'<div class="row"> <div class="col-xs-8"> <forminput label="{opts.label}" value="{val}" name="{opts.name}" placeholder="{opts.placeholder}" buttonafter="&lt;i class=\'fa fa-calendar\'&gt;&lt;/i&gt;" width1="{opts.width1}" width2="{opts.width2}" buttonafterclick="{showcal}" onupdate="{handleTyping}"></forminput> <popover title="{opts.title}"> <datepicker onupdate="{parent.handleUpdate}" date="{parent.date}"></datepicker> </popover> </div> <div class="col-xs-2"> <select value="{hour}" onchange="{handleHour}" class="form-control"> <option each="{hour in hours}" value="{+hour}">{hour}</option> </select> </div> <div class="col-xs-2"> <select value="{minute}" onchange="{handleMinute}" class="form-control"> <option each="{minute in minutes}" value="{+minute}">{minute}</option> </select> </div> </div>',"formdatetime .fa.fa-calendar{ -webkit-pointer-events:none; -moz-pointer-events:none; pointer-events:none; }","",function(opts){var Formatter,i,j,results,results1,_this;Formatter=__webpack_require__(9),this.val="",this.prevValue="",this.hours=function(){for(results=[],i=0;i<24;i++)results.push(i);return results}.apply(this).map(function(v){return(""+v).length<2?"0"+v:""+v}),this.minutes=function(){for(results1=[],j=0;j<60;j++)results1.push(j);return results1}.apply(this).map(function(v){return(""+v).length<2?"0"+v:""+v}),this.hour=8,this.minute=0,this.on("update",function(){if(opts.value&&this.prevValue!==opts.value.getTime())return this.setDate(opts.value),this.date=opts.value}),this.showcal=(_this=this,function(e){return _this.tags.popover.clicked(e)}),this.handleUpdate=function(_this){return function(newdate,changetypes){if(-1===changetypes.indexOf("month")&&-1===changetypes.indexOf("year"))return newdate=new Date(newdate.setHours(_this.hour,_this.minute,0,0)),_this.setDate(newdate),_this.updateParent(newdate,1),_this.tags.popover.hide(),_this.update()}}(this),this.handleHour=function(_this){return function(e){return _this.hour=e.target.value,setTimeout(function(){return _this.updateParent(opts.value)})}}(this),this.handleMinute=function(_this){return function(e){return _this.minute=e.target.value,setTimeout(function(){return _this.updateParent(opts.value)})}}(this),this.handleTyping=function(_this){return function(data){var newdate;if(newdate=(new Formatter).parseString(opts.dateformat,data.value))return _this.date=newdate,_this.updateParent(newdate,2),_this.update()}}(this),this.updateParent=function(_this){return function(newdate,type){var name;if(opts.onupdate&&newdate)return newdate=new Date(newdate.setHours(_this.hour,_this.minute,0,0)),name=null!=opts.id&&opts.id.length?opts.id:opts.name,_this.prevValue=newdate.getTime(),opts.onupdate.call(null,{name:name,value:newdate})}}(this),this.setDate=function(_this){return function(date){var dt;return _this.prevValue=date.getTime(),date&&(_this.hour=date.getHours()),date&&(_this.minute=date.getMinutes()),opts.dateformat&&date?(dt=new Formatter(date),_this.val=dt.format(opts.dateformat)):_this.val=date}}(this)})},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function VideoStore(riot,Resource,groupby,utils,natsort){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VideoStore),this.groupby=groupby,this.utils=utils,this.natsort=natsort,riot.observable(this),this.data=null,this.filtered=[],this.resource=new Resource("/duocms/api/videos"),this.on("video_load",this.load),this.on("video_sync",this.sync)}return _createClass(VideoStore,[{key:"load",value:function(){var _this=this;return this.data_state="loading",this.resource.get(function(data){return _this.data=data.sort(function(a,b){return _this.natsort(a.clip_id,b.clip_id)}),_this.sync(),_this.data_state="loaded"})}},{key:"sync",value:function(){var _this2=this;return this.data_state?this.data?setTimeout(function(){return _this2.trigger("video_changed",_this2.data)}):void 0:this.load()}},{key:"groupSort",value:function(collection,field){return this.groupby(collection,field).sort(function(a,b){return a[field]>b[field]}).map(function(video){return{label:video[field],value:video[field]}})}}]),VideoStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function SessionStore(riot,Resource){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SessionStore),riot.observable(this),this.data={},this.data_state=!1,this.resource=new Resource("/duocms/api/users/me"),this.orgResource=new Resource("/duocms/api/orgs"),window.addEventListener("storage",function(e){return _this.localStorageUpdated(e)}),this.on("session_update",this.remove),this.on("session_sync",this.sync),this.on("session_load",this.load),this.on("session_save",this.save),this.on("org_save",this.saveorg)}return _createClass(SessionStore,[{key:"load",value:function(){var _this2=this;return this.data_state="loading",this.resource.get(function(user){return _this2.data.user=user,window.localStorage.user_id=+user.id,_this2.orgResource.get({id:user.org_id},function(org){return _this2.data_state="loaded",_this2.trigger("login_hide"),_this2.data.org=org,window.centre_id=org.centre_id,_this2.sync()})})}},{key:"localStorageUpdated",value:function(e){var ref;if("user_id"===e.key&&null!=e.newValue&&+e.newValue!=+(null!=(ref=this.data.user)?ref.id:void 0))return window.location.href="/vle/"}},{key:"sync",value:function(){var _this3=this;return this.data_state?"loaded"===this.data_state?setTimeout(function(){return _this3.trigger("session_changed",_this3.data)}):void 0:this.load()}},{key:"saveorg",value:function(){var _this4=this;return this.orgResource.save(this.data.org,function(org){return _this4.data.org=org,_this4.sync()})}},{key:"save",value:function(user){var _this5=this;return this.resource.save(user,function(user){return _this5.data.user=user,_this5.sync()})}}]),SessionStore}()},function(module,exports,__webpack_require__){"use strict";var makeDownload,_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function UserStore(riot,Resource,utils,stores,request){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UserStore),this.utils=utils,this.stores=stores,this.request=request,riot.observable(this),this.users=[],this.savecount=0,this.classCounts={},this.user=null,this.data_state=!1,this.resource=new Resource("/duocms/api/users"),this.on("user_load",this.load),this.on("user_sync",this.sync),this.on("user_get",this.get),this.on("user_sync_one",this.sync_one),this.on("user_save",this.save),this.on("user_remove",this.remove),this.on("users_remove",this.removeMulti),this.on("user_upload",this.upload),this.on("user_import",this.import),this.on("user_addyear",this.addYear),this.on("users_imported",this.load),this.on("users_changed",this.countClasses),this.on("user_classcount_sync",this.syncClassCount),this.on("users_passwords",this.updatePasswords)}return _createClass(UserStore,[{key:"load",value:function(){var _this=this;return this.data_state="loading",this.resource.get({org:!0},function(users1){return _this.users=users1,_this.users.forEach(function(user){return user.class_names=user.classrooms.map(function(classroom){return classroom.name}).join(", ")}),_this.data_state="loaded",_this.sync()})}},{key:"countClasses",value:function(){var _this2=this;return this.classCounts={},this.users.forEach(function(user){if(null!=user.class_names)return user.class_names.split(",").forEach(function(classname){if(null!=classname)return classname=classname.trim(),_this2.classCounts[classname]=null==_this2.classCounts[classname]?1:_this2.classCounts[classname]+1})}),this.trigger("user_classcount_changed",this.classCounts)}},{key:"syncClassCount",value:function(){return this.trigger("user_classcount_changed",this.classCounts)}},{key:"sync",value:function(){var _this3=this;return this.data_state||this.load(),setTimeout(function(){return _this3.trigger("users_changed",_this3.users)})}},{key:"sync_one",value:function(id){var ref;if("loading"!==this.user)return""+(null!=(ref=this.user)?ref.id:void 0)==""+id?this.trigger("user_changed",this.user):(this.user="loading",this.get(id))}},{key:"get",value:function(id){var _this4=this;if(id)return this.resource.get({id:id},function(user1){return _this4.user=user1,_this4.sync_one(_this4.user.id)})}},{key:"save",value:function(user){var _this5=this;return this.savecount++,this.one("toaster_add",function(data){if("error"===data.type&&0<_this5.savecount)return _this5.savecount--}),this.resource.save(user,function(user){return _this5.savecount--,(null!=user?user.map:void 0)?user.forEach(function(u){return _this5.updateUser(u)}):user?_this5.updateUser(user):void 0})}},{key:"updatePasswords",value:function(ids,type,password){var data,_this6=this;return data={ids:ids,passwordtype:type,password:password},this.resource.save(data,function(data){var csv,fields;if(_this6.trigger("users_passwords_saved"),data&&Array.isArray(data))return csv=(fields=Object.keys(data[0])).join(",")+"\n",csv+=data.map(function(row){return fields.map(function(field){return row[field]}).join(",")}).join("\n"),makeDownload(csv,"new-passwords.csv","text/csv")})}},{key:"updateUser",value:function(user){if(user.classrooms&&(user.class_names=user.classrooms.map(function(classroom){return classroom.name}).join(", ")),this.utils.updateFromId(this.users,user),this.trigger("user_saved"),1<this.users.length)return this.sync()}},{key:"remove",value:function(user){var classesChanged,_this7=this;return classesChanged=[],this.resource.remove(user,function(){return user.classrooms&&user.classrooms.forEach(function(cr){if(-1===classesChanged.indexOf(cr.id))return classesChanged.push(cr.id)}),_this7.users=_this7.utils.removeFromId(_this7.users,user.id),_this7.stores.trigger("class_remove_empty",classesChanged),_this7.sync()})}},{key:"removeMulti",value:function(users){var classesChanged,overflow,_this8=this;return classesChanged=[],overflow=200<users.length?users.splice(200):null,users=users.filter(function(user){var ref;return!(null!=user&&null!=(ref=user.account_type)?ref.match(/a/i):void 0)}),this.resource.removeMulti(users,function(){if(users.forEach(function(user){return user.classrooms.forEach(function(cr){if(-1===classesChanged.indexOf(cr.id))return classesChanged.push(cr.id)}),_this8.utils.removeFromId(_this8.users,user.id)}),_this8.stores.trigger("class_remove_empty",classesChanged),_this8.sync(),overflow)return _this8.removeMulti(overflow)})}},{key:"upload",value:function(file){var formData,self,xhr;return(formData=new FormData).append("name","users.xslx"),formData.append("file",file),(xhr=new XMLHttpRequest).open("POST","/duocms/api/users/uploadschool?_csrf="+window.csrf,!0),self=this,xhr.onload=function(){var resp;return 200===this.status?(resp=JSON.parse(this.response),self.trigger("user_uploaded",resp.data)):(resp=JSON.parse(this.response),self.trigger("toaster_add",{title:"Error",message:resp.message,type:"error"}))},xhr.send(formData)}},{key:"addYear",value:function(){var self,xhr;return(xhr=new XMLHttpRequest).open("GET","/duocms/api/users/addyear?_csrf="+window.csrf,!0),self=this,xhr.onload=function(){var resp;return 200===this.status?self.load():(resp=JSON.parse(this.response),self.trigger("toaster_add",{title:"Error",message:resp.message,type:"error"}))},xhr.send()}},{key:"import",value:function(addUsers,updateUsers,deleteUsers,addClasses){var inter,_this9=this;if(this.savecount<7)if(0<addClasses.length)this.stores.trigger("class_save",addClasses.shift());else{if(0<addUsers.length)return this.request.post("/duocms/api/users/batchadd?_csrf="+window.csrf).send(addUsers).end(function(err,res){return addUsers.length=0,_this9.import(addUsers,updateUsers,deleteUsers,addClasses)}),void(inter=setInterval(function(){return 5<addUsers.length?(addUsers.length-=5,_this9.trigger("user_imported")):(addUsers.length=0,_this9.trigger("user_imported"),clearInterval(inter))},100));0<updateUsers.length?this.save(updateUsers.shift()):0<deleteUsers.length&&this.remove(deleteUsers.shift())}return 0<addUsers.length+updateUsers.length+deleteUsers.length?setTimeout(function(){return _this9.import(addUsers,updateUsers,deleteUsers,addClasses),_this9.trigger("user_imported")},100):(this.savecount=0,setTimeout(function(){return _this9.trigger("users_imported"),_this9.trigger("user_load")},2e3))}}]),UserStore}(),makeDownload=function(content,fileName,mimeType){var a;return mimeType=mimeType||"application/octet-stream",(a=document.createElement("a")).href=URL.createObjectURL(new Blob([content],{type:mimeType})),a.setAttribute("download",fileName),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},function(module,exports,__webpack_require__){"use strict";var natsort,_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}natsort=__webpack_require__(4),module.exports=function(){function ClassStore(riot,Resource,utils){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClassStore),this.Resource=Resource,this.utils=utils,riot.observable(this),this.section=null,this.resource=new this.Resource("/duocms/api/classrooms"),this.resource_all=new this.Resource("/duocms/api/classrooms?all=true"),this.class_stats=new this.Resource("/duocms/api/logs?filter=classMonth"),this.classrooms=[],this.classrooms_all=[],this.classusers={},this.classassignments={},this.classmarks={},this.classLoaded={},this.on("class_load",this.load),this.on("class_sync",this.sync),this.on("class_sync_all",this.sync_all),this.on("class_sync_stats",this.sync_stats),this.on("class_save",this.save),this.on("class_get",this.get),this.on("class_remove",this.remove),this.on("class_remove_empty",this.remove_empty),this.on("class_load_users",this.load_users),this.on("class_load_assignments",this.load_assignments),this.on("class_load_marks",this.load_marks),this.on("class_get_withstudents",this.getWithStudents)}return _createClass(ClassStore,[{key:"load",value:function(cback,params){var _this=this;return this.data_state="loading",this.resource.get(params,function(classrooms){if(_this.classrooms=classrooms.sort(function(a,b){return natsort(a.name,b.name)}),_this.data_state="loaded",_this.sync(),cback)return cback(_this.classrooms)})}},{key:"load_all",value:function(cback){var _this2=this;return this.data_state_all="loading",this.resource_all.get(function(classrooms){if(_this2.classrooms_all=classrooms.sort(function(a,b){return natsort(a.name,b.name)}),_this2.data_state_all="loaded",_this2.sync_all(),cback)return cback(_this2.classrooms_all)})}},{key:"load_stats",value:function(cback){var _this3=this;return this.data_state_stats="loading",this.class_stats.get(function(stats){if(_this3.classrooms_stats={},stats.forEach(function(s){return _this3.classrooms_stats[s.classroom_id]=s}),_this3.data_state_stats="loaded",_this3.sync_stats(),cback)return cback(_this3.classrooms_stats)})}},{key:"sync",value:function(argument_0){var _this4=this,section=(0<arguments.length&&void 0!==argument_0?argument_0:{}).section;return console.log(section,this.section),!this.data_state||section&&this.section!==section&&"classes"!==section?(section&&(this.section=section),this.load(null,{section:section})):setTimeout(function(){return _this4.trigger("classes_changed",_this4.classrooms)})}},{key:"sync_all",value:function(){var _this5=this;return this.data_state_all?setTimeout(function(){return _this5.trigger("classes_changed_all",_this5.classrooms_all)}):this.load_all()}},{key:"sync_stats",value:function(){var _this6=this;return this.data_state_stats?setTimeout(function(){return _this6.trigger("classes_changed_stats",_this6.classrooms_stats)}):this.load_stats()}},{key:"load_users",value:function(class_id){var _this7=this;if(!this.classusers[class_id]||"loading"===this.classusers[class_id])return this.classusers[class_id]="loading",new this.Resource("/duocms/api/classrooms/"+class_id+"/users?stats=true").get(function(users){return _this7.classusers[class_id]=users,_this7.trigger("class_users_changed"+class_id,_this7.classusers[class_id])});this.trigger("class_users_changed"+class_id,this.classusers[class_id])}},{key:"load_assignments",value:function(class_id){var _this8=this;if(!this.classassignments[class_id]||"loading"===this.classassignments[class_id])return this.classassignments[class_id]="loading",new this.Resource("/duocms/api/classrooms/"+class_id+"/assignments").get(function(users){return _this8.classassignments[class_id]=users,_this8.trigger("class_assignments_changed"+class_id,_this8.classassignments[class_id])});this.trigger("class_assignments_changed"+class_id,this.classassignments[class_id])}},{key:"load_marks",value:function(class_id,user_ids,assignment_ids){var notLoaded,_this9=this;if(0!==(notLoaded=assignment_ids.filter(function(id){return!(_this9.classmarks[class_id+"_"+id]||"loading"===_this9.classmarks[class_id+"_"+id])})).length)return notLoaded.forEach(function(id){return _this9.classmarks[class_id+"_"+id]="loading"}),new this.Resource("/duocms/api/classrooms/"+class_id+"/marks").get({user_ids:user_ids.join(","),assignment_ids:assignment_ids.join(",")},function(marks){return marks.forEach(function(mark){return _this9.classmarks[class_id+"_"+mark.assignedwork_id]&&"loading"!==_this9.classmarks[class_id+"_"+mark.assignedwork_id]||(_this9.classmarks[class_id+"_"+mark.assignedwork_id]={}),_this9.classmarks[class_id+"_"+mark.assignedwork_id][mark.user_id]={mark:mark.mark,percent:mark.percent,feedback_added:mark.feedback_added,feedback_unread:mark.feedback_unread}}),_this9.trigger("class_marks_changed",_this9.classmarks)});this.trigger("class_marks_changed",this.classmarks)}},{key:"sync_one",value:function(id){return this.trigger("class_changed"+id,this.classLoaded[id]),this.trigger("class_changed",this.classLoaded[id])}},{key:"get",value:function(id){var _this10=this;if(id&&"loading"!==this.classLoaded[id])return this.classLoaded[id]?this.sync_one(id):(this.classLoaded[id]="loading",new this.Resource("/duocms/api/classrooms/"+id+"/details").get(function(classroom){return _this10.classLoaded[id]=classroom,_this10.sync_one(id)}))}},{key:"getWithStudents",value:function(id){var _this11=this;if(id&&"loading"!==this.classLoaded[id])return this.classLoaded[id]?this.sync_one(id):(this.classLoaded[id]="loading",new this.Resource("/duocms/api/classrooms/0,"+id).get(function(classroom){return _this11.classLoaded[id]=classroom,_this11.sync_one(id)}))}},{key:"save",value:function(classroom,cback){var _this12=this;return this.resource.save(classroom,function(classroom1){if(_this12.classroom=classroom1,_this12.trigger("class_saved",_this12.classroom),_this12.classLoaded[_this12.classroom.id]=_this12.classroom,_this12.data_state=null,_this12.utils.updateFromId(_this12.classrooms,_this12.classroom),_this12.sync_one(_this12.classroom.id),_this12.sync(),cback)return cback(_this12.classroom)})}},{key:"remove",value:function(classroom){var _this13=this;return this.resource.remove(classroom,function(){return _this13.trigger("class_removed",_this13.classroom),_this13.utils.removeFromId(_this13.classrooms,classroom.id),_this13.sync()})}},{key:"remove_empty",value:function(ids){var _this14=this;return this.load(function(classrooms){return classrooms.forEach(function(classroom){if(-1<ids.indexOf(classroom.id)&&0===classroom.student_count)return _this14.remove(classroom)})})}}]),ClassStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function toasterStore(riot){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,toasterStore),this.remove=this.remove.bind(this),riot.observable(this),this.data={slices:[]},this.on("toaster_add",this.add),this.on("toaster_remove",this.remove)}return _createClass(toasterStore,[{key:"sync",value:function(){return this.trigger("toaster_changed",this.data.slices)}},{key:"add",value:function(slice){var _this=this;if(slice.transition="toast-in",null==slice.title&&(slice.title=""),null==slice.message&&(slice.message=""),null==slice.type&&(slice.type="info"),null==slice.timeOut&&(slice.timeOut=5),this.data.slices.unshift(slice),this.sync(),slice.timeOut)return setTimeout(function(){var lastSlice;return lastSlice=_this.data.slices[_this.data.slices.length-1],_this.remove(lastSlice)},1e3*slice.timeOut)}},{key:"remove",value:function(item,argument_1){var index,_this2=this,timeOut=1<arguments.length&&void 0!==argument_1?argument_1:500;if(!((index=this.data.slices.indexOf(item))<0))return this.data.slices[index].transition="toast-out",this.sync(),function(item){return setTimeout(function(){return index=_this2.data.slices.indexOf(item),_this2.data.slices.splice(index,1),_this2.sync()},timeOut)}(item)}}]),toasterStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function LoginStore(riot,request,utils,stores){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LoginStore),this.request=request,this.utils=utils,this.stores=stores,riot.observable(this),this.data={show:!1,afterLogin:[],username:"",password:""},this.on("login_hide",this.hide),this.on("login_attempt",this.attempt),this.on("login_sync",this.sync),this.on("login_autherror",this.authError),this.on("logout",this.logout),this.on("login_reset",this.reset)}return _createClass(LoginStore,[{key:"sync",value:function(){return this.trigger("login_changed",this.data)}},{key:"authError",value:function(callback){return callback&&this.data.afterLogin.push(callback),this.data.show=!0,this.sync()}},{key:"hide",value:function(){return this.data.show=!1,this.sync()}},{key:"attempt",value:function(user){var credentials,_this=this;return credentials={username:user.username,password:user.password},this.request.post("/duocms/api/login").send(credentials).csrf().end(function(err,res){var centre_id,ref,ref1,ref2;return err||200!==(null!=res?res.status:void 0)?res.clientError||err?(null!=(ref=res.body)&&null!=(ref1=ref.message)?ref1.match(/CSRF/):void 0)?(_this.updateCSRF(),void _this.trigger("login_attempt",credentials)):(_this.stores.trigger("toaster_add",{title:"Error",message:(null!=(ref2=res.body)?ref2.message:void 0)||err,type:"warning"}),_this.data.show=!0,_this.sync()):void 0:(_this.data.user=res.body.data,_this.data.loggedin=!0,(centre_id=_this.data.user.username.replace(/^[^@]+@/,""))&&(window.centre_id=centre_id,ga("send",{hitType:"event",eventCategory:"account",eventAction:"login",eventLabel:centre_id})),_this.data.afterLogin.forEach(function(callback){if("function"==typeof callback)return callback()}),_this.data.afterLogin.length=0,_this.trigger("login_success"),_this.hide())})}},{key:"reset",value:function(user){var credentials,_this2=this;return console.log("reset",user),credentials={username:user.username},this.request.post("/duocms/api/forgot_password").send(credentials).csrf().end(function(err,res){var ref,ref1,ref2,ref3,ref4;return err||200!==(null!=res?res.status:void 0)?res.clientError||err?(null!=(ref2=res.body)&&null!=(ref3=ref2.message)?ref3.match(/CSRF/):void 0)?(_this2.updateCSRF(),void _this2.trigger("login_reset",credentials)):_this2.stores.trigger("toaster_add",{title:"Error",message:(null!=(ref4=res.body)?ref4.message:void 0)||err,type:"warning"}):void 0:(_this2.stores.trigger("toaster_add",{title:"Information",message:(null!=(ref=res.body)&&null!=(ref1=ref.data)?ref1.message:void 0)||"Please check your email",type:"info"}),_this2.trigger("reset_success"))})}},{key:"logout",value:function(is_wonder){return is_wonder?(window.localStorage.user_id=0,window.location.href="https://edu.wonde.com/sso/logout?client_id=670243"):this.request.get("/duocms/api/logout",function(err,res){return window.localStorage.user_id=0,window.location.href="/vle/"})}},{key:"onUpdate",value:function(key,value){return this.data[key]=value,this.trigger(this.data)}},{key:"updateCSRF",value:function(){var csrfcookie;if((csrfcookie=document.cookie.match(/_csrf=([^ ;]+)/))&&0<csrfcookie.length)return window.csrf=csrfcookie[1]}}]),LoginStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function QuestionStore(riot,Resource){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,QuestionStore),riot.observable(this),this.data=null,this.cache=[],this.vidcache=[],this.filtered=[],this.data_state=[],this.resource=new Resource("/duocms/api/questions"),this.on("question_sync",this.sync),this.on("question_get",this.get)}return _createClass(QuestionStore,[{key:"load",value:function(video_id){var _this=this;return null!=this.vidcache[video_id]?(this.data=this.vidcache[video_id],this.trigger("question_changed",this.data)):null==this.data_state[video_id]?(this.data_state[video_id]="loading",this.resource.get({video_id:video_id},function(data){return _this.data=data,_this.vidcache[video_id]=_this.data,_this.data.forEach(function(question,qid){return question.answer.forEach(function(answer,aid){if(answer)return answer.text=_this.escapeBraces(answer.text),answer.prefix=_this.escapeBraces(answer.prefix),answer.suffix=_this.escapeBraces(answer.suffix)})}),_this.trigger("question_changed",_this.data)})):void 0}},{key:"get",value:function(id){var _this2=this;if(id)return null!=this.cache[id]&&(this.data=this.cache[id],this.trigger("question_one",this.data)),this.resource.get({id:id},function(data){return _this2.data=data,_this2.data&&(id=_this2.data.id,_this2.cache[id]=_this2.data),_this2.trigger("question_one",_this2.data)})}},{key:"sync",value:function(video_id){if(video_id)return this.load(video_id)}},{key:"escapeBraces",value:function(str){return str&&"string"==typeof str?str.replace(/(^|[^\\])((\\\\)*\{)/g,"$1\\$2"):str}}]),QuestionStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function AssignedWorkStore(riot,Resource,utils,stores,request,resourceUtils){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AssignedWorkStore),this.toggleQuestion=this.toggleQuestion.bind(this),this.addQuestions=this.addQuestions.bind(this),this.makePlaylist=this.makePlaylist.bind(this),this.removeClip=this.removeClip.bind(this),this._getQuestionIds=this._getQuestionIds.bind(this),this.updateAnswerCounts=this.updateAnswerCounts.bind(this),this.Resource=Resource,this.utils=utils,this.stores=stores,this.request=request,this.resourceUtils=resourceUtils,riot.observable(this),this.resource=new this.Resource("/duocms/api/assignedwork"),this.rows=[],this.getting={},this.data_complete={},this.rows=null,this.exams=[],this.exams_by_id={},this.on("assignedwork_load",this.load),this.on("assignedwork_load_student",this.loadstudent),this.on("assignedwork_exams",this.loadexams),this.on("assignedwork_get_exam",this.loadexam),this.on("assignedwork_get_exam_questions",this.loadexamquestions),this.on("assignedwork_sync",this.sync),this.on("assignedwork_save",this.save),this.on("assignedwork_get",this.get),this.on("assignedwork_get_user",this.get_user),this.on("assignedwork_set",this.set),this.on("assignedwork_remove",this.remove),this.on("assignedwork_sync_one",this.sync_one),this.on("assignedwork_sync_complete",this.sync_complete),this.on("assignedwork_toggle_question",this.toggleQuestion),this.on("assignedwork_add_questions",this.addQuestions),this.on("assignedwork_remove_clip",this.removeClip),this.on("assignedwork_duplicate",this.duplicate),this.on("answer_count_changed",this.updateAnswerCounts),this.on("error",function(e){return console.error(e)})}return _createClass(AssignedWorkStore,[{key:"load",value:function(recent,school_id){var _this=this;return this.data_state="loading",this.resource.get({recent:recent,school_id:school_id},function(rows1){return _this.rows=rows1,_this.rows.forEach(function(assignment,idx){var ref,ref1,ref2,ref3;return _this.rows[idx].classname=null!=(ref=assignment.classroom)?ref.name:void 0,_this.rows[idx].year=null!=(ref1=assignment.classroom)?ref1.year:void 0,_this.rows[idx].creator=(null!=(ref2=assignment.owner)?ref2.first_name:void 0)+" "+(null!=(ref3=assignment.owner)?ref3.surname:void 0),_this.rows[idx].questionlist=_this._getQuestionIds(assignment.playlist)}),_this.data_state="loaded",_this.sync()})}},{key:"loadstudent",value:function(recent){var _this2=this;return this.data_state="loading",new this.Resource("/duocms/api/assignedwork/student").get({recent:recent},function(rows1){return _this2.rows=rows1,_this2.data_state="loaded",_this2.sync()})}},{key:"loadexams",value:function(){var _this3=this;return this.exams.length?this.trigger("assignedwork_exams_changed",this.exams):this.exam_loading?void 0:(this.exam_loading=!0,this.request.get("/duocms/api/exams",function(err,res){if(_this3.exam_loading=!1,res.body.data)return _this3.exams=_this3.resourceUtils.responseConvert(res.body.data),_this3.exams.map(function(exam){return exam.type="exam",exam}),_this3.trigger("assignedwork_exams_changed",_this3.exams)}))}},{key:"loadexam",value:function(examid){var _this4=this;if("loading"!==this.exams_by_id[examid])return this.exams_by_id[examid]?this.trigger("assignedwork_exam_changed",this.exams_by_id[examid]):(this.exams_by_id[examid]="loading",this.request.get("/duocms/api/exams/"+examid,function(err,res){if(res.body.data)return _this4.exams_by_id[examid]=_this4.resourceUtils.responseConvert(res.body.data),_this4.exams_by_id[examid].type="exam",_this4.trigger("assignedwork_exam_changed",_this4.exams_by_id[examid])}))}},{key:"loadexamquestions",value:function(examid){var _this5=this;if("loading"!==this.exams_by_id[examid])return this.exams_by_id[examid]?this.trigger("assignedwork_exam_changed",this.exams_by_id[examid]):(this.exams_by_id[examid]="loading",this.request.get("/duocms/api/exams/"+examid+"/questions",function(err,res){if(res.body.data)return _this5.exams_by_id[examid]=_this5.resourceUtils.responseConvert(res.body.data),_this5.exams_by_id[examid].type="exam",_this5.trigger("assignedwork_exam_changed",_this5.exams_by_id[examid])}))}},{key:"getCompleted",value:function(id){var _this6=this;return this.resource.get({id:id,users:!0},function(data){return _this6.data_complete[id]=data.classroom.users.map(function(user){var userMarks;return userMarks=0,user.answers.forEach(function(answer){return answer.answer.forEach(function(subanswer){return userMarks+=+subanswer.marks})}),{id:user.id,classname:data.classroom.name,year:data.classroom.year,first_name:user.first_name,surname:user.surname,answers:user.answers,marks:userMarks,correct:user.answers.reduce(function(a,b){return a+(b.correct?1:0)},0)+"/"+user.answers.length}}),_this6.trigger("assignedwork_changed_complete",_this6.data_complete[id])})}},{key:"sync_complete",value:function(id){var _this7=this;return this.data_complete[id]?setTimeout(function(){return _this7.trigger("assignedwork_changed_complete",_this7.data_complete[id])}):this.getCompleted(id)}},{key:"sync",value:function(){return this.data_state?this.trigger("assignedwork_changed",this.rows):this.load()}},{key:"sync_one",value:function(row){return row&&(this.row=row),this.trigger("assignedwork_changed_one",this.row)}},{key:"get",value:function(id,user_id){var _this8=this;if(id&&!0!==this.getting[id]&&"new"!==id)return this.getting[id]=!0,this.resource.get({id:id,user_id:user_id},function(row){return _this8.row=row,_this8.row.questions.forEach(function(q){return q.answer.forEach(function(a){if((null!=a?a.prefix:void 0)&&(a.prefix=_this8.escapeBraces(a.prefix)),(null!=a?a.text:void 0)&&(a.text=_this8.escapeBraces(a.text)),null!=a?a.suffix:void 0)return a.suffix=_this8.escapeBraces(a.suffix)})}),_this8.row.playlist=_this8.makePlaylist(),_this8.row.questionlist=_this8._getQuestionIds(row.playlist),_this8.row.questions&&_this8.row.questions.length?_this8.row.totalMarks=_this8.row.questions.map(function(ques){return ques.marks}).reduce(function(a,b){return+a+ +b},0):_this8.row.totalMarks=0,setTimeout(function(){return delete _this8.getting[id]},1e3),_this8.sync_one()})}},{key:"get_user",value:function(user_id){var _this9=this;return this.resource.get({user_id:user_id},function(rows){return _this9.trigger("assignedwork_user_changed",rows)})}},{key:"duplicate",value:function(selected){var _this10=this;return this.resource.save({id:selected.id,duplicate:!0},function(row1){return _this10.row=row1,_this10.trigger("assignedwork_saved",_this10.row),_this10.load()})}},{key:"set",value:function(row){return this.row=row,this.sync_one()}},{key:"save",value:function(){var school_id,_this11=this;return school_id=this.row.org_id,this.resource.save(this.row,function(row1){return _this11.row=row1,_this11.trigger("assignedwork_saved",_this11.row),_this11.load(null,school_id)})}},{key:"remove",value:function(row){var _this12=this;return this.resource.remove(row,function(){return _this12.trigger("assignedwork_removed",_this12.row),_this12.utils.removeFromId(_this12.rows,row.id),_this12.sync()})}},{key:"toggleQuestion",value:function(ques){var questions,ref,total,vids;return(null!=(ref=this.row.questions)?ref.length:void 0)||(this.row.questions=[]),total=this.row.questions.length,(questions=this.row.questions.filter(function(q){return q.id!==ques.id})).length<total?(this.row.questions=questions,(vids=this.row.playlist[ques.video_id])&&ques.id&&vids.splice(vids.indexOf(ques.id),1),this.row.playlist[ques.video_id]=vids):(this.row.questions.push(ques),this.row.playlist||(this.row.playlist={}),this.row.playlist[ques.video_id]||(this.row.playlist[ques.video_id]=[]),this.row.playlist[ques.video_id].push(ques.id)),this.sync_one()}},{key:"addQuestions",value:function(questions,video_id){var ref,_this13=this;return 0,(null!=(ref=this.row.questions)?ref.length:void 0)||(this.row.questions=[]),this.row.playlist||(this.row.playlist={}),null==this.row.playlist[video_id]?(this.row.playlist[video_id]=questions.map(function(q){return q.id}),this.row.questions=this.row.questions.concat(questions)):questions.forEach(function(question){if(-1===_this13.row.playlist[video_id].indexOf(question.id))return _this13.row.playlist[video_id].push(question.id),_this13.row.questions.push(question)}),this.sync_one()}},{key:"makePlaylist",value:function(){var playlist;return playlist={},this.row.questions.forEach(function(q){return playlist[q.video_id]||(playlist[q.video_id]=[]),playlist[q.video_id].push(q.id)}),playlist}},{key:"removeClip",value:function(cliplist,selected){var _this14=this;return cliplist.splice(cliplist.indexOf(selected),1),this.row.questions=this.row.questions.filter(function(q){return-1===_this14.row.playlist[selected.id].indexOf(+q.id)}),delete this.row.playlist[selected.id],this.sync_one()}},{key:"_getQuestionIds",value:function(playlist){var key,qlist,ref,val;for(key in qlist=[],ref=playlist||{})val=ref[key],qlist=qlist.concat(val);return qlist}},{key:"updateAnswerCounts",value:function(answerCounts){var _this15=this;return answerCounts.forEach(function(row){var idx;if(-1<(idx=_this15.utils.indexFromId(_this15.rows,row.assignedwork_id)))return _this15.rows[idx].answercount=row.answered,_this15.rows[idx].allanswered=row.answered>=_this15.rows[idx].questionlist.length})}},{key:"escapeBraces",value:function(str){return str&&"string"==typeof str?str.replace(/(^|[^\\])((\\\\)*\{)/g,"$1\\$2"):str}}]),AssignedWorkStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function AnswerStore(riot,Resource,stores){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AnswerStore),this.stores=stores,riot.observable(this),this.data=null,this.cache=[],this.vidcache=[],this.answerCounts=null,this.attempts=[],this.filtered=[],this.data_state=[],this.saving=!1,this.tools={rulerShow:!1,compassShow:!1,protractorShow:!1},this.resource=new Resource("/duocms/api/answers"),this.on("answer_sync",this.sync),this.on("answer_get",this.get),this.on("answer_get_assignment",this.get_assignment),this.on("answer_save",this.save),this.on("answer_count_load",this.loadAnswerCount),this.on("answer_count_sync",this.answerCountSync),this.on("answer_toolchange",this.toolChange),this.on("answer_toolsync",this.toolSync),this.on("answer_setscale",this.setScale),this.on("answer_process",this.processAnswer),this.on("answer_trigger_drawing_undo",this.undoing),this.on("answer_trigger_drawing_updated",this.drawingUpdated),this.on("answer_trigger_drawing_clear",this.drawingClear)}return _createClass(AnswerStore,[{key:"load",value:function(){}},{key:"get",value:function(question_id,assignedwork_id){var cacheid,_this=this;if(question_id&&assignedwork_id)return cacheid=question_id+"-"+assignedwork_id,null!=this.cache[cacheid]&&(this.data=this.cache[cacheid],setTimeout(function(){return _this.trigger("answer_one",_this.data)})),this.resource.get({question_id:question_id,assignedwork_id:assignedwork_id},function(data1){return _this.data=data1,_this.cache[cacheid]=_this.data[0],setTimeout(function(){return _this.trigger("answer_one",_this.data)})})}},{key:"get_assignment",value:function(assignedwork_id){var cacheid,_this2=this;return cacheid="assignment_"+assignedwork_id,null!=this.cache[cacheid]&&(this.data=this.cache[cacheid],setTimeout(function(){return _this2.trigger("answer_assignment",_this2.data)})),this.resource.get({assignedwork_id:assignedwork_id},function(data1){return _this2.data=data1,_this2.data.forEach(function(q){var ref;if(null!=(null!=(ref=q.answer)?ref.forEach:void 0))return q.answer.forEach(function(a){if((null!=a?a.prefix:void 0)&&(a.prefix=_this2.escapeBraces(a.prefix)),(null!=a?a.text:void 0)&&(a.text=_this2.escapeBraces(a.text)),null!=a?a.suffix:void 0)return a.suffix=_this2.escapeBraces(a.suffix)})}),_this2.cache[cacheid]=_this2.data,setTimeout(function(){return _this2.trigger("answer_assignment",_this2.data)})})}},{key:"sync",value:function(answer_id){var _this3=this;if(answer_id){if(!this.data_state[answer_id])return this.load(answer_id);if(this.data)return setTimeout(function(){return _this3.trigger("answer_changed",_this3.data)})}}},{key:"save",value:function(answer){var _this4=this;if(!0!==this.saving)return this.saving=!0,this.savingTimeout=setTimeout(function(){return _this4.saving=!1},2e3),this.resource.save(answer,function(answer1){var cacheid,ref,ref1;return _this4.answer=answer1,(null!=(ref=_this4.answer)?ref.question_id:void 0)&&(null!=(ref1=_this4.answer)?ref1.assignedwork_id:void 0)&&(cacheid=_this4.answer.question_id+"-"+_this4.answer.assignedwork_id,_this4.cache[cacheid]=_this4.answer),_this4.trigger("answer_saved",_this4.answer),_this4.saving=!1,_this4.savingTimeout&&clearTimeout(_this4.savingTimeout),_this4.sync()})}},{key:"answerCountSync",value:function(){return this.answerCounts?this.stores.trigger("answer_count_changed",this.answerCounts):this.loadAnswerCount()}},{key:"loadAnswerCount",value:function(){var _this5=this;return this.resource.get({answercount:!0},function(rows){return _this5.answerCounts=rows,setTimeout(function(){return _this5.stores.trigger("answer_count_changed",_this5.answerCounts)})})}},{key:"toolChange",value:function(tools){return this.tools=tools,this.toolSync()}},{key:"toolSync",value:function(){return this.trigger("answer_tools_updated",this.tools)}},{key:"escapeBraces",value:function(str){return str&&"string"==typeof str?str.replace(/(^|[^\\])((\\\\)*\{)/g,"$1\\$2"):str}},{key:"undoing",value:function(){return this.trigger("answer_drawing_undo")}},{key:"drawingUpdated",value:function(data){return this.trigger("answer_drawing_updated",data)}},{key:"drawingClear",value:function(){return this.trigger("answer_drawing_clear")}},{key:"setScale",value:function(scale){return this.trigger("answer_scale_update",scale),this.scale=scale}}]),AnswerStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function LogStore(riot,Resource,utils){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LogStore),this.utils=utils,riot.observable(this),this.resource=new Resource("/duocms/api/logs"),this.logs={},this.on("log_sync",this.sync),this.on("log_save",this.save),this.on("log_load",this.load)}return _createClass(LogStore,[{key:"load",value:function(name,argument_1){var cacheKey,_this=this,params=1<arguments.length&&void 0!==argument_1?argument_1:{};if(params.filter=name,cacheKey=name+JSON.stringify(params)||"",name)return this.logs[cacheKey]="loading",this.resource.get(params,function(data){return _this.logs[cacheKey]=data,_this.sync(name,params)})}},{key:"sync",value:function(name,argument_1){var cacheKey,params=1<arguments.length&&void 0!==argument_1?argument_1:{};return cacheKey=(params.filter=name)+JSON.stringify(params)||"",null==this.logs[cacheKey]?this.load(name,params):"loading"!==this.logs[cacheKey]?this.trigger("logs_changed_"+name,this.logs[cacheKey]):void 0}},{key:"save",value:function(data){var _this2=this;return this.resource.save(data,function(data1){return _this2.data=data1,_this2.trigger("log_saved",_this2.data)})}}]),LogStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function MessageStore(riot,Resource,utils){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MessageStore),this.utils=utils,riot.observable(this),this.resource=new Resource("/duocms/api/messages"),this.messages=[],this.count=null,this.messageLoaded={},this.on("message_load",this.load),this.on("message_sync",this.sync),this.on("message_sync_one",this.sync_one),this.on("message_count",this.message_count),this.on("message_count_sync",this.message_count_sync)}return _createClass(MessageStore,[{key:"load",value:function(cback){var _this=this;return this.data_state="loading",this.resource.get({resetcount:!0},function(messages){if(_this.messages=messages,_this.data_state="loaded",_this.sync(),cback)return cback(_this.messages)})}},{key:"sync",value:function(){var _this2=this;return this.data_state?setTimeout(function(){return _this2.trigger("messages_changed",_this2.messages)}):this.load()}},{key:"load_one",value:function(id){var _this3=this;return this.messageLoaded[id]="loading",this.resource.get({id:id},function(message){return _this3.messageLoaded[id]=message,_this3.sync_one(id),_this3.trigger("message_changed"+id,_this3.messageLoaded[id])})}},{key:"sync_one",value:function(id){var _this4=this;return this.messageLoaded[id]?setTimeout(function(){return _this4.trigger("message_changed"+id,_this4.messageLoaded[id]),_this4.trigger("message_changed",_this4.messageLoaded[id])}):this.load_one(id)}},{key:"message_count",value:function(){var _this5=this;return this.count_state="loading",this.resource.get({count:!0},function(count){return _this5.count=count,_this5.trigger("message_count_changed",_this5.count)})}},{key:"message_count_sync",value:function(){var _this6=this;return this.count_state?setTimeout(function(){return _this6.trigger("message_count_changed",_this6.count)}):this.message_count()}}]),MessageStore}()},function(module,exports,__webpack_require__){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function feedbackStore(riot,Resource){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,feedbackStore),this.resync=this.resync.bind(this),riot.observable(this),this.data={},this.saving=!1,this.question_id=null,this.assignedwork_id=null,this.resource=new Resource("/duocms/api/feedback"),this.on("feedback_get",this.get),this.on("feedback_all",this.getAll),this.on("feedback_add",this.add),this.on("feedback_update",this.update),this.on("feedback_get_unread",this.unread),this.on("feedback_delete",this.remove)}return _createClass(feedbackStore,[{key:"get",value:function(assignedwork_id,question_id,user_id){var _this=this;if(assignedwork_id&&question_id)return this.question_id=question_id,this.assignedwork_id=assignedwork_id,this.user_id=user_id,this.resource.get({assignedwork_id:assignedwork_id,question_id:question_id,user_id:user_id},function(messages1){return _this.messages=messages1,_this.resync(_this.messages,assignedwork_id,question_id,user_id)})}},{key:"getAll",value:function(archive){var _this2=this;return this.resource.get({id:"all",archive:archive},function(allMessages){return _this2.allMessages=allMessages,_this2.trigger("feedback_all_changed",_this2.allMessages)})}},{key:"unread",value:function(){var _this3=this;return this.resource.get({unread:!0},function(res){return _this3.trigger("feedback_unread",(null!=res?res.total:void 0)||0)})}},{key:"sync",value:function(assignedwork_id,question_id,user_id){var cache_id;return cache_id=assignedwork_id+"_"+question_id+"_"+user_id,this.data[cache_id]?this.trigger("feedback_changed",this.data[cache_id]):this.get(assignedwork_id,question_id,user_id)}},{key:"add",value:function(assignedwork_id,question_id,user_id,message,wholeclass){var _this4=this;if(question_id=question_id||this.question_id,!0!==this.saving)return this.saving=!0,this.savingTimeout=setTimeout(function(){return _this4.saving=!1},2e3),this.resource.save({assignedwork_id:assignedwork_id,question_id:question_id,user_id:user_id,message:message,wholeclass:wholeclass},function(messages1){return _this4.messages=messages1,_this4.saving=!1,_this4.savingTimeout&&clearTimeout(_this4.savingTimeout),_this4.resync(_this4.messages,assignedwork_id,question_id,user_id)})}},{key:"update",value:function(id,message,assignedwork_id,question_id,user_id){var _this5=this;return question_id=question_id||this.question_id,this.resource.save({id:id,message:message},function(messages1){return _this5.messages=messages1,_this5.resync(_this5.messages,assignedwork_id,question_id,user_id)})}},{key:"resync",value:function(messages,assignedwork_id,question_id,user_id){var cache_id;return cache_id=assignedwork_id+"_"+question_id+"_"+user_id,this.data[cache_id]=messages,this.trigger("feedback_changed",this.data[cache_id])}},{key:"remove",value:function(id,assignedwork_id,question_id,user_id){var _this6=this;return question_id=question_id||this.question_id,assignedwork_id=assignedwork_id||this.assignedwork_id,user_id=user_id||this.user_id,this.resource.remove({id:id,assignedwork_id:assignedwork_id,question_id:question_id,user_id:user_id},function(messages){return _this6.resync(messages,assignedwork_id,question_id,user_id)})}}]),feedbackStore}()}]);
//# sourceMappingURL=site.js.map